!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function i(t){return null===t?0/0:+t}function r(t){return!isNaN(t)}function a(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function c(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function u(t){return(t+="")===po||t[0]===mo?mo+t:t}function d(t){return(t+="")[0]===mo?t.slice(1):t}function f(t){return u(t)in this._}function h(t){return(t=u(t))in this._&&delete this._[t]}function g(){var t=[];for(var e in this._)t.push(d(e));return t}function p(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function b(t){return t}function y(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=vo.length;i>n;++n){var r=vo[n]+e;if(r in t)return r}}function w(){}function _(){}function k(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function T(){eo.event.preventDefault()}function A(){for(var t,e=eo.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new _,n=0,i=arguments.length;++n<i;)e[arguments[n]]=k(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=eo.event;r.target=t,eo.event=r,e[r.type].apply(n,i)}finally{eo.event=a}}},e}function S(t){return yo(t,ko),t}function M(t){return"function"==typeof t?t:function(){return xo(t,this)}}function E(t){return"function"==typeof t?t:function(){return wo(t,this)}}function D(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=eo.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function L(t){return t.trim().replace(/\s+/g," ")}function F(t){return new RegExp("(?:^|\\s+)"+eo.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=P(t).map(N);var r=t.length;return"function"==typeof e?i:n}function N(t){var e=F(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",L(r+" "+t))):n.setAttribute("class",L(r.replace(e," ")))}}function O(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function R(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function z(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=eo.ns.qualify(t)).local?n:e}function j(){var t=this.parentNode;t&&t.removeChild(this)}function q(t){return{__data__:t}}function H(t){return function(){return _o(this,t)}}function B(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function X(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,a=t[n],o=0,s=a.length;s>o;o++)(r=a[o])&&e(r,o,n);return t}function W(t){return yo(t,Ao),t}function Y(t){var e,n;return function(i,r,a){var o,s=t[a].update,c=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<c;);return o}}function V(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=c(e,io(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+eo.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),c=U;s>0&&(t=t.slice(0,s));var l=Co.get(t);return l&&(t=l,c=G),s?e?r:i:e?w:a}function U(t,e){return function(n){var i=eo.event;eo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{eo.event=i}}}function G(t,e){var n=U(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function $(n){var i=".dragsuppress-"+ ++Mo,r="click"+i,a=eo.select(e(n)).on("touchmove"+i,T).on("dragstart"+i,T).on("selectstart"+i,T);if(null==So&&(So="onselectstart"in n?!1:x(n.style,"userSelect")),So){var o=t(n).style,s=o[So];o[So]="none"}return function(t){if(a.on(i,null),So&&(o[So]=s),t){var e=function(){a.on(r,null)};a.on(r,function(){T(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Eo){var a=e(t);if(a.scrollX||a.scrollY){i=eo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=i[0][0].getScreenCTM();Eo=!(o.f||o.e),i.remove()}}return Eo?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Q(){return eo.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Fo:Math.acos(t)}function et(t){return t>1?No:-1>t?-No:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,_t,st):new st(t,e,n)}function ct(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new vt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):t instanceof dt?ht(t.l,t.a,t.b):ht((t=kt((t=eo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Oo)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof lt?ut(t.h,t.c,t.l):kt((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=gt(r)*Uo,i=gt(i)*Go,a=gt(a)*$o,new vt(mt(3.2404542*r-1.5371385*i-.4985314*a),mt(-.969266*r+1.8760108*i+.041556*a),mt(.0556434*r-.2040259*i+1.0572252*a))}function ht(t,e,n){return t>0?new lt(Math.atan2(n,e)*Ro,Math.sqrt(e*e+n*n),t):new lt(0/0,0/0,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):wt(""+t,vt,ct):new vt(t,e,n)}function bt(t){return new vt(t>>16,t>>8&255,255&t)}function yt(t){return bt(t)+""}function xt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var i,r,a,o=0,s=0,c=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(At(r[0]),At(r[1]),At(r[2]))}return(a=Ko.get(t.toLowerCase()))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,c=15&a,c=c<<4|c):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,c=255&a)),e(o,s,c))}function _t(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,c=(o+a)/2;return s?(r=.5>c?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=0/0,r=c>0&&1>c?0:i),new st(i,r,c)}function kt(t,e,n){t=Tt(t),e=Tt(e),n=Tt(n);var i=pt((.4124564*t+.3575761*e+.1804375*n)/Uo),r=pt((.2126729*t+.7151522*e+.072175*n)/Go),a=pt((.0193339*t+.119192*e+.9503041*n)/$o);return dt(116*r-16,500*(i-r),200*(r-a))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function St(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Mt(e,n,t,i)}}function Mt(t,e,n,i){function r(){var t,e=c.status;if(!e&&Dt(c)||e>=200&&300>e||304===e){try{t=n.call(a,c)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,c)}var a={},o=eo.dispatch("beforesend","progress","load","error"),s={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=r:c.onreadystatechange=function(){c.readyState>3&&r()},c.onprogress=function(t){var e=eo.event;eo.event=t;try{o.progress.call(a,c)}finally{eo.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(l=t,a):l},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(io(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),c.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),c.setRequestHeader)for(var u in s)c.setRequestHeader(u,s[u]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=l&&(c.responseType=l),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,c),c.send(null==i?null:i),a},a.abort=function(){return c.abort(),a},eo.rebind(a,o,"on"),null==i?a:a.get(Et(i))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(){var t=Ft(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(ns),ns=setTimeout(Lt,e)),es=0):(es=1,rs(Lt))}function Ft(){var t=Date.now();for(is=Jo;is;)t>=is.t&&(is.f=is.c(t-is.t)),is=is.n;return t}function Pt(){for(var t,e=Jo,n=1/0;e;)e.f?e=t?t.n=e.n:Jo=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return ts=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*go(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ot(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],c=0;r>0&&s>0&&(c+s+1>e&&(s=Math.max(1,e-c)),a.push(t.substring(r-=s,r+s)),!((c+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:b;return function(t){var n=os.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",c=n[4]||"",l=n[5],u=+n[6],d=n[7],f=n[8],h=n[9],g=1,p="",m="",v=!1,b=!0;switch(f&&(f=+f.substring(1)),(l||"0"===i&&"="===o)&&(l=i="0",o="="),h){case"n":d=!0,h="g";break;case"%":g=100,m="%",h="f";break;case"p":g=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===c&&(p="0"+h.toLowerCase());case"c":b=!1;case"d":v=!0,f=0;break;case"s":g=-1,h="r"}"$"===c&&(p=r[0],m=r[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=ss.get(h)||Rt;var y=l&&d;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>g){var c=eo.formatPrefix(t,f);t=c.scale(t),n=c.symbol+m}else t*=g;t=h(t,f);var x,w,_=t.lastIndexOf(".");if(0>_){var k=b?t.lastIndexOf("e"):-1;0>k?(x=t,w=""):(x=t.substring(0,k),w=t.substring(k))}else x=t.substring(0,_),w=e+t.substring(_+1);!l&&d&&(x=a(x,1/0));var T=p.length+x.length+w.length+(y?0:r.length),A=u>T?new Array(T=u-T+1).join(i):"";return y&&(x=a(A+x,A.length?u-w.length:1/0)),r+=p,t=x+w,("<"===o?r+t+A:">"===o?A+r+t:"^"===o?A.substring(0,T>>=1)+r+t+A.substring(T):r+(y?t:A+t))+n}}}function Rt(t){return t+""}function zt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(t,e,n){function i(e){var n=t(e),i=a(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ls(n-1)),1),n}function a(t,n){return e(t=new ls(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;i>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{ls=zt;var i=new zt;return i._=t,o(i,e,n)}finally{ls=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var c=t.utc=qt(t);return c.floor=c,c.round=qt(i),c.ceil=qt(r),c.offset=qt(a),c.range=s,t}function qt(t){return function(e,n){try{ls=zt;var i=new zt;return i._=e,t(i,n)._}finally{ls=Date}}}function Ht(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,c=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=ds[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=M[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),c=s+1);return o.push(t.slice(c,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&ls!==zt,o=new(a?zt:ls);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,c=e.length,l=n.length;c>s;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=E[o in ds?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,M.c.toString(),e,i)}function c(t,e,i){return n(t,M.x.toString(),e,i)}function l(t,e,i){return n(t,M.X.toString(),e,i)}function u(t,e,n){var i=y.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var d=t.dateTime,f=t.date,h=t.time,g=t.periods,p=t.days,m=t.shortDays,v=t.months,b=t.shortMonths;e.utc=function(t){function n(t){try{ls=zt;var e=new ls;return e._=t,i(e)}finally{ls=Date}}var i=e(t);return n.parse=function(t){try{ls=zt;var e=i.parse(t);return e&&e._}finally{ls=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=se;var y=eo.map(),x=Xt(p),w=Wt(p),_=Xt(m),k=Wt(m),T=Xt(v),A=Wt(v),C=Xt(b),S=Wt(b);g.forEach(function(t,e){y.set(t.toLowerCase(),e)});var M={a:function(t){return m[t.getDay()]},A:function(t){return p[t.getDay()]},b:function(t){return b[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return Bt(t.getDate(),e,2)},e:function(t,e){return Bt(t.getDate(),e,2)},H:function(t,e){return Bt(t.getHours(),e,2)},I:function(t,e){return Bt(t.getHours()%12||12,e,2)},j:function(t,e){return Bt(1+cs.dayOfYear(t),e,3)},L:function(t,e){return Bt(t.getMilliseconds(),e,3)},m:function(t,e){return Bt(t.getMonth()+1,e,2)},M:function(t,e){return Bt(t.getMinutes(),e,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,e){return Bt(t.getSeconds(),e,2)},U:function(t,e){return Bt(cs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Bt(cs.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return Bt(t.getFullYear()%100,e,2)},Y:function(t,e){return Bt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},E={a:i,A:r,b:a,B:o,c:s,d:Jt,e:Jt,H:ee,I:ee,j:te,L:re,m:Kt,M:ne,p:u,S:ie,U:Vt,w:Yt,W:Ut,x:c,X:l,y:$t,Y:Gt,Z:Zt,"%":oe};return e}function Bt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(e)+r:r)}function Xt(t){return new RegExp("^(?:"+t.map(eo.requote).join("|")+")","i")}function Wt(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Yt(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Vt(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ut(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Gt(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $t(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.y=Qt(+i[0]),n+i[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qt(t){return t+(t>68?1900:2e3)}function Kt(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Jt(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function te(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ee(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ne(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ie(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function re(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=go(e)/60|0,r=go(e)%60;return n+Bt(i,"0",2)+Bt(r,"0",2)}function oe(t,e,n){hs.lastIndex=0;var i=hs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function se(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ce(){}function le(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function ue(t,e){t&&vs.hasOwnProperty(t.type)&&vs[t.type](t,e)}function de(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function fe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)de(t[n],e,1);e.polygonEnd()}function he(){function t(t,e){t*=Oo,e=e*Oo/2+Fo/4;var n=t-i,o=n>=0?1:-1,s=o*n,c=Math.cos(e),l=Math.sin(e),u=a*l,d=r*c+u*Math.cos(s),f=u*o*Math.sin(s);ys.add(Math.atan2(f,d)),i=t,r=c,a=l}var e,n,i,r,a;xs.point=function(o,s){xs.point=t,i=(e=o)*Oo,r=Math.cos(s=(n=s)*Oo/2+Fo/4),a=Math.sin(s)},xs.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function pe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ye(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return go(t[0]-e[0])<Do&&go(t[1]-e[1])<Do}function _e(t,e){t*=Oo;var n=Math.cos(e*=Oo);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){++ws,ks+=(t-ks)/ws,Ts+=(e-Ts)/ws,As+=(n-As)/ws}function Te(){function t(t,r){t*=Oo;var a=Math.cos(r*=Oo),o=a*Math.cos(t),s=a*Math.sin(t),c=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*c-i*s)*l+(l=i*o-e*c)*l+(l=e*s-n*o)*l),e*o+n*s+i*c);_s+=l,Cs+=l*(e+(e=o)),Ss+=l*(n+(n=s)),Ms+=l*(i+(i=c)),ke(e,n,i)}var e,n,i;Fs.point=function(r,a){r*=Oo;var o=Math.cos(a*=Oo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Fs.point=t,ke(e,n,i)}}function Ae(){Fs.point=_e}function Ce(){function t(t,e){t*=Oo;var n=Math.cos(e*=Oo),o=n*Math.cos(t),s=n*Math.sin(t),c=Math.sin(e),l=r*c-a*s,u=a*o-i*c,d=i*s-r*o,f=Math.sqrt(l*l+u*u+d*d),h=i*o+r*s+a*c,g=f&&-tt(h)/f,p=Math.atan2(f,h);Es+=g*l,Ds+=g*u,Ls+=g*d,_s+=p,Cs+=p*(i+(i=o)),Ss+=p*(r+(r=s)),Ms+=p*(a+(a=c)),ke(i,r,a)}var e,n,i,r,a;Fs.point=function(o,s){e=o,n=s,Fs.point=t,o*=Oo;var c=Math.cos(s*=Oo);i=c*Math.cos(o),r=c*Math.sin(o),a=Math.sin(s),ke(i,r,a)},Fs.lineEnd=function(){t(e,n),Fs.lineEnd=Ae,Fs.point=_e}}function Se(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function Ee(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var c=new Le(n,t,null,!0),l=new Le(n,null,c,!1);c.o=l,a.push(c),o.push(l),c=new Le(i,t,null,!1),l=new Le(i,null,c,!0),c.o=l,a.push(c),o.push(l)}}),o.sort(e),De(a),De(o),a.length){for(var s=0,c=n,l=o.length;l>s;++s)o[s].e=c=!c;for(var u,d,f=a[0];;){for(var h=f,g=!0;h.v;)if((h=h.n)===f)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(var s=0,l=u.length;l>s;++s)r.point((d=u[s])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(g){u=h.p.z;for(var s=u.length-1;s>=0;--s)r.point((d=u[s])[0],d[1])}else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,u=h.z,g=!g}while(!h.v);r.lineEnd()}}}function De(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Le(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Fe(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function c(){b.point=s,m.lineStart()}function l(){b.point=o,m.lineEnd()}function u(t,e){p.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function d(){x.lineStart(),p=[]}function f(){u(p[0][0],p[0][1]),x.lineEnd();var t,e=x.clean(),n=y.buffer(),i=n.length;if(p.pop(),g.push(p),p=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(w||(a.polygonStart(),w=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Pe))}var h,g,p,m=e(a),v=r.invert(i[0],i[1]),b={point:o,lineStart:c,lineEnd:l,polygonStart:function(){b.point=u,b.lineStart=d,b.lineEnd=f,h=[],g=[]},polygonEnd:function(){b.point=o,b.lineStart=c,b.lineEnd=l,h=eo.merge(h);var t=je(v,g);h.length?(w||(a.polygonStart(),w=!0),Ee(h,Ne,t,n,a)):t&&(w||(a.polygonStart(),w=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),w&&(a.polygonEnd(),w=!1),h=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=Ie(),x=e(y),w=!1;return b}}function Pe(t){return t.length>1}function Ie(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:w,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-No-Do:No-t[1])-((e=e.x)[0]<0?e[1]-No-Do:No-e[1])}function Oe(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Fo:-Fo,c=go(a-n);go(c-Fo)<Do?(t.point(n,i=(i+o)/2>0?No:-No),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&c>=Fo&&(go(n-r)<Do&&(n-=r*Do),go(a-s)<Do&&(a-=s*Do),i=Re(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function Re(t,e,n,i){var r,a,o=Math.sin(t-n);return go(o)>Do?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function ze(t,e,n,i){var r;if(null==t)r=n*No,i.point(-Fo,r),i.point(0,r),i.point(Fo,r),i.point(Fo,0),i.point(Fo,-r),i.point(0,-r),i.point(-Fo,-r),i.point(-Fo,0),i.point(-Fo,r);else if(go(t[0]-e[0])>Do){var a=t[0]<e[0]?Fo:-Fo;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;ys.reset();for(var s=0,c=e.length;c>s;++s){var l=e[s],u=l.length;if(u)for(var d=l[0],f=d[0],h=d[1]/2+Fo/4,g=Math.sin(h),p=Math.cos(h),m=1;;){m===u&&(m=0),t=l[m];var v=t[0],b=t[1]/2+Fo/4,y=Math.sin(b),x=Math.cos(b),w=v-f,_=w>=0?1:-1,k=_*w,T=k>Fo,A=g*y;if(ys.add(Math.atan2(A*_*Math.sin(k),p*x+A*Math.cos(k))),a+=T?w+_*Po:w,T^f>=n^v>=n){var C=me(ge(d),ge(t));ye(C);var S=me(r,C);ye(S);var M=(T^w>=0?-1:1)*et(S[2]);(i>M||i===M&&(C[0]||C[1]))&&(o+=T^w>=0?1:-1)}if(!m++)break;f=v,g=y,p=x,d=t}}return(-Do>a||Do>a&&0>ys)^1&o}function qe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(d,f){var h,g=[d,f],p=e(d,f),m=o?p?0:r(d,f):p?r(d+(0>d?Fo:-Fo),f):0;if(!n&&(l=c=p)&&t.lineStart(),p!==c&&(h=i(n,g),(we(n,h)||we(g,h))&&(g[0]+=Do,g[1]+=Do,p=e(g[0],g[1]))),p!==c)u=0,p?(t.lineStart(),h=i(g,n),t.point(h[0],h[1])):(h=i(n,g),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&o^p){var v;m&a||!(v=i(g,n,!0))||(u=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||n&&we(n,g)||t.point(g[0],g[1]),n=g,c=p,a=m},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return u|(l&&c)<<1}}}function i(t,e,n){var i=ge(t),r=ge(e),o=[1,0,0],s=me(i,r),c=pe(s,s),l=s[0],u=c-l*l;if(!u)return!n&&t;var d=a*c/u,f=-a*l/u,h=me(o,s),g=be(o,d),p=be(s,f);ve(g,p);var m=h,v=pe(g,m),b=pe(m,m),y=v*v-b*(pe(g,g)-1);if(!(0>y)){var x=Math.sqrt(y),w=be(m,(-v-x)/b);if(ve(w,g),w=xe(w),!n)return w;var _,k=t[0],T=e[0],A=t[1],C=e[1];k>T&&(_=k,k=T,T=_);var S=T-k,M=go(S-Fo)<Do,E=M||Do>S;if(!M&&A>C&&(_=A,A=C,C=_),E?M?A+C>0^w[1]<(go(w[0]-k)<Do?A:C):A<=w[1]&&w[1]<=C:S>Fo^(k<=w[0]&&w[0]<=T)){var D=be(m,(-v+x)/b);return ve(D,g),[w,xe(D)]}}}function r(e,n){var i=o?t:Fo-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=go(a)>Do,c=gn(t,6*Oo);return Fe(e,n,c,o?[0,-t]:[-Fo,t-Fo])}function He(t,e,n,i){return function(r){var a,o=r.a,s=r.b,c=o.x,l=o.y,u=s.x,d=s.y,f=0,h=1,g=u-c,p=d-l;if(a=t-c,g||!(a>0)){if(a/=g,0>g){if(f>a)return;h>a&&(h=a)}else if(g>0){if(a>h)return;a>f&&(f=a)}if(a=n-c,g||!(0>a)){if(a/=g,0>g){if(a>h)return;a>f&&(f=a)}else if(g>0){if(f>a)return;h>a&&(h=a)}if(a=e-l,p||!(a>0)){if(a/=p,0>p){if(f>a)return;h>a&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=i-l,p||!(0>a)){if(a/=p,0>p){if(a>h)return;a>f&&(f=a)}else if(p>0){if(f>a)return;h>a&&(h=a)}return f>0&&(r.a={x:c+f*g,y:l+f*p}),1>h&&(r.b={x:c+h*g,y:l+h*p}),r}}}}}}function Be(t,e,n,i){function r(i,r){return go(i[0]-t)<Do?r>0?0:3:go(i[0]-n)<Do?r>0?2:1:go(i[1]-e)<Do?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function c(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var a,o=1,s=m[r],c=s.length,l=s[0];c>o;++o)a=s[o],l[1]<=i?a[1]>i&&J(l,a,t)>0&&++e:a[1]<=i&&J(l,a,t)<0&&--e,l=a;return 0!==e}function l(a,s,c,l){var u=0,d=0;if(null==a||(u=r(a,c))!==(d=r(s,c))||o(a,s)<0^c>0){do l.point(0===u||3===u?t:n,u>1?i:e);while((u=(u+c+4)%4)!==d)}else l.point(s[0],s[1])}function u(r,a){return r>=t&&n>=r&&a>=e&&i>=a}function d(t,e){u(t,e)&&s.point(t,e)}function f(){E.point=g,m&&m.push(v=[]),T=!0,k=!1,w=_=0/0}function h(){p&&(g(b,y),x&&k&&S.rejoin(),p.push(S.buffer())),E.point=d,k&&s.lineEnd()}function g(t,e){t=Math.max(-Is,Math.min(Is,t)),e=Math.max(-Is,Math.min(Is,e));var n=u(t,e);if(m&&v.push([t,e]),T)b=t,y=e,x=n,T=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var i={a:{x:w,y:_},b:{x:t,y:e}};M(i)?(k||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),A=!1):n&&(s.lineStart(),s.point(t,e),A=!1)}w=t,_=e,k=n}var p,m,v,b,y,x,w,_,k,T,A,C=s,S=Ie(),M=He(t,e,n,i),E={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=S,p=[],m=[],A=!0},polygonEnd:function(){s=C,p=eo.merge(p);var e=c([t,i]),n=A&&e,r=p.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Ee(p,a,e,l,s),s.polygonEnd()),p=m=v=null}};return E}}function Xe(t){var e=0,n=Fo/3,i=on(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Fo/180,n=t[1]*Fo/180):[e/Fo*180,n/Fo*180]},r}function We(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,et((a-(t*t+n*n)*r*r)/(2*r))]},n}function Ye(){function t(t,e){Os+=r*t-i*e,i=t,r=e}var e,n,i,r;Hs.point=function(a,o){Hs.point=t,e=i=a,n=r=o},Hs.lineEnd=function(){t(e,n)}}function Ve(t,e){Rs>t&&(Rs=t),t>js&&(js=t),zs>e&&(zs=e),e>qs&&(qs=e)}function Ue(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=Ge(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Ge(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){ks+=t,Ts+=e,++As}function Ze(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);Cs+=o*(e+t)/2,Ss+=o*(n+i)/2,Ms+=o,$e(e=t,n=i)}var e,n;Xs.point=function(i,r){Xs.point=t,$e(e=i,n=r)}}function Qe(){Xs.point=$e}function Ke(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);Cs+=o*(i+t)/2,Ss+=o*(r+e)/2,Ms+=o,o=r*t-i*e,Es+=o*(i+t),Ds+=o*(r+e),Ls+=3*o,$e(i=t,r=e)}var e,n,i,r;Xs.point=function(a,o){Xs.point=t,$e(e=i=a,n=r=o)},Xs.lineEnd=function(){t(e,n)}}function Je(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Po)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:w};return s}function tn(t){function e(t){return(s?i:n)(t)}function n(e){return rn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){y=0/0,T.point=a,e.lineStart()}function a(n,i){var a=ge([n,i]),o=t(n,i);r(y,x,b,w,_,k,y=o[0],x=o[1],b=n,w=a[0],_=a[1],k=a[2],s,e),e.point(y,x)}function o(){T.point=n,e.lineEnd()}function c(){i(),T.point=l,T.lineEnd=u}function l(t,e){a(d=t,f=e),h=y,g=x,p=w,m=_,v=k,T.point=a}function u(){r(y,x,b,w,_,k,h,g,d,p,m,v,s,e),T.lineEnd=o,o()}var d,f,h,g,p,m,v,b,y,x,w,_,k,T={point:n,lineStart:i,lineEnd:o,polygonStart:function(){
e.polygonStart(),T.lineStart=c},polygonEnd:function(){e.polygonEnd(),T.lineStart=i}};return T}function r(e,n,i,s,c,l,u,d,f,h,g,p,m,v){var b=u-e,y=d-n,x=b*b+y*y;if(x>4*a&&m--){var w=s+h,_=c+g,k=l+p,T=Math.sqrt(w*w+_*_+k*k),A=Math.asin(k/=T),C=go(go(k)-1)<Do||go(i-f)<Do?(i+f)/2:Math.atan2(_,w),S=t(C,A),M=S[0],E=S[1],D=M-e,L=E-n,F=y*D-b*L;(F*F/x>a||go((b*D+y*L)/x-.5)>.3||o>s*h+c*g+l*p)&&(r(e,n,i,s,c,l,M,E,C,w/=T,_/=T,k,m,v),v.point(M,E),r(M,E,C,w,_,k,u,d,f,h,g,p,m,v))}}var a=.5,o=Math.cos(30*Oo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function en(t){var e=tn(function(e,n){return t([e*Ro,n*Ro])});return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return on(function(){return t})()}function on(t){function e(t){return t=s(t[0]*Oo,t[1]*Oo),[t[0]*f+c,l-t[1]*f]}function n(t){return t=s.invert((t[0]-c)/f,(l-t[1])/f),t&&[t[0]*Ro,t[1]*Ro]}function i(){s=Se(o=un(v,y,x),a);var t=a(p,m);return c=h-t[0]*f,l=g+t[1]*f,r()}function r(){return u&&(u.valid=!1,u=null),e}var a,o,s,c,l,u,d=tn(function(t,e){return t=a(t,e),[t[0]*f+c,l-t[1]*f]}),f=150,h=480,g=250,p=0,m=0,v=0,y=0,x=0,w=Ps,_=b,k=null,T=null;return e.stream=function(t){return u&&(u.valid=!1),u=sn(w(o,d(_(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(w=null==t?(k=t,Ps):qe((k=+t)*Oo),r()):k},e.clipExtent=function(t){return arguments.length?(T=t,_=t?Be(t[0][0],t[0][1],t[1][0],t[1][1]):b,r()):T},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(h=+t[0],g=+t[1],i()):[h,g]},e.center=function(t){return arguments.length?(p=t[0]%360*Oo,m=t[1]%360*Oo,i()):[p*Ro,m*Ro]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Oo,y=t[1]%360*Oo,x=t.length>2?t[2]%360*Oo:0,i()):[v*Ro,y*Ro,x*Ro]},eo.rebind(e,d,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function sn(t){return rn(t,function(e,n){t.point(e*Oo,n*Oo)})}function cn(t,e){return[t,e]}function ln(t,e){return[t>Fo?t-Po:-Fo>t?t+Po:t,e]}function un(t,e,n){return t?e||n?Se(fn(t),hn(e,n)):fn(t):e||n?hn(e,n):ln}function dn(t){return function(e,n){return e+=t,[e>Fo?e-Po:-Fo>e?e+Po:e,n]}}function fn(t){var e=dn(t);return e.invert=dn(-t),e}function hn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,c=Math.sin(t)*n,l=Math.sin(e),u=l*i+s*r;return[Math.atan2(c*a-u*o,s*i-l*r),et(u*a+c*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,c=Math.sin(t)*n,l=Math.sin(e),u=l*a-c*o;return[Math.atan2(c*a+l*o,s*i+u*r),et(u*i-s*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var c=o*e;null!=r?(r=pn(n,r),a=pn(n,a),(o>0?a>r:r>a)&&(r+=o*Po)):(r=t+o*Po,a=t-.5*c);for(var l,u=r;o>0?u>a:a>u;u-=c)s.point((l=xe([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function pn(t,e){var n=ge(e);n[0]-=t,ye(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Do)%(2*Math.PI)}function mn(t,e,n){var i=eo.range(t,e-Do,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vn(t,e,n){var i=eo.range(t,e-Do,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function bn(t){return t.source}function yn(t){return t.target}function xn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),c=r*Math.cos(t),l=r*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),f=2*Math.asin(Math.sqrt(at(i-e)+r*o*at(n-t))),h=1/Math.sin(f),g=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,i=n*c+e*u,r=n*l+e*d,o=n*a+e*s;return[Math.atan2(r,i)*Ro,Math.atan2(o,Math.sqrt(i*i+r*r))*Ro]}:function(){return[t*Ro,e*Ro]};return g.distance=f,g}function wn(){function t(t,r){var a=Math.sin(r*=Oo),o=Math.cos(r),s=go((t*=Oo)-e),c=Math.cos(s);Ws+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*c)*s),n*a+i*o*c),e=t,n=a,i=o}var e,n,i;Ys.point=function(r,a){e=r*Oo,n=Math.sin(a*=Oo),i=Math.cos(a),Ys.point=t},Ys.lineEnd=function(){Ys.point=Ys.lineEnd=w}}function _n(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function kn(t,e){function n(t,e){o>0?-No+Do>e&&(e=-No+Do):e>No-Do&&(e=No-Do);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Fo/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=K(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-No]},n):An}function Tn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return go(r)<Do?cn:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-K(r)*Math.sqrt(t*t+n*n)]},n)}function An(t,e){return[t,Math.log(Math.tan(Fo/4+e/2))]}function Cn(t){var e,n=an(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Fo*i(),c=r();a([[c[0]-s,c[1]-s],[c[0]+s,c[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Sn(t,e){return[Math.log(Math.tan(Fo/4+e/2)),-t]}function Mn(t){return t[0]}function En(t){return t[1]}function Dn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Ln(t,e){return t[0]-e[0]||t[1]-e[1]}function Fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pn(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,c=t[1],l=n[1],u=e[1]-c,d=i[1]-l,f=(s*(c-l)-d*(r-a))/(d*o-s*u);return[r+f*o,c+f*u]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){ni(this),this.edge=this.site=this.circle=null}function On(t){var e=ic.pop()||new Nn;return e.site=t,e}function Rn(t){Un(t),tc.remove(t),ic.push(t),ni(t)}function zn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Rn(t);for(var c=a;c.circle&&go(n-c.circle.x)<Do&&go(i-c.circle.cy)<Do;)a=c.P,s.unshift(c),Rn(c),c=a;s.unshift(c),Un(c);for(var l=o;l.circle&&go(n-l.circle.x)<Do&&go(i-l.circle.cy)<Do;)o=l.N,s.push(l),Rn(l),l=o;s.push(l),Un(l);var u,d=s.length;for(u=1;d>u;++u)l=s[u],c=s[u-1],Jn(l.edge,c.site,l.site,r);c=s[0],l=s[d-1],l.edge=Qn(c.site,l.site,null,r),Vn(c),Vn(l)}function jn(t){for(var e,n,i,r,a=t.x,o=t.y,s=tc._;s;)if(i=qn(s,o)-a,i>Do)s=s.L;else{if(r=a-Hn(s,o),!(r>Do)){i>-Do?(e=s.P,n=s):r>-Do?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var c=On(t);if(tc.insert(e,c),e||n){if(e===n)return Un(e),n=On(e.site),tc.insert(c,n),c.edge=n.edge=Qn(e.site,c.site),Vn(e),void Vn(n);if(!n)return void(c.edge=Qn(e.site,c.site));Un(e),Un(n);var l=e.site,u=l.x,d=l.y,f=t.x-u,h=t.y-d,g=n.site,p=g.x-u,m=g.y-d,v=2*(f*m-h*p),b=f*f+h*h,y=p*p+m*m,x={x:(m*b-h*y)/v+u,y:(f*y-p*b)/v+d};Jn(n.edge,l,g,x),c.edge=Qn(l,t,null,x),n.edge=Qn(t,g,null,x),Vn(e),Vn(n)}}function qn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,c=n.y,l=c-e;if(!l)return s;var u=s-i,d=1/a-1/l,f=u/l;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*l)-c+l/2+r-a/2)))/d+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return qn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Bn(t){this.site=t,this.edges=[]}function Xn(t){for(var e,n,i,r,a,o,s,c,l,u,d=t[0][0],f=t[1][0],h=t[0][1],g=t[1][1],p=Js,m=p.length;m--;)if(a=p[m],a&&a.prepare())for(s=a.edges,c=s.length,o=0;c>o;)u=s[o].end(),i=u.x,r=u.y,l=s[++o%c].start(),e=l.x,n=l.y,(go(i-e)>Do||go(r-n)>Do)&&(s.splice(o,0,new ti(Kn(a.site,u,go(i-d)<Do&&g-r>Do?{x:d,y:go(e-d)<Do?n:g}:go(r-g)<Do&&f-i>Do?{x:go(n-g)<Do?e:f,y:g}:go(i-f)<Do&&r-h>Do?{x:f,y:go(e-f)<Do?n:h}:go(r-h)<Do&&i-d>Do?{x:go(n-h)<Do?e:d,y:h}:null),a.site,null)),++c)}function Wn(t,e){return e.angle-t.angle}function Yn(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,c=i.x-o,l=i.y-s,u=a.x-o,d=a.y-s,f=2*(c*d-l*u);if(!(f>=-Lo)){var h=c*c+l*l,g=u*u+d*d,p=(d*h-l*g)/f,m=(c*g-u*h)/f,d=m+s,v=rc.pop()||new Yn;v.arc=t,v.site=r,v.x=p+o,v.y=d+Math.sqrt(p*p+m*m),v.cy=d,t.circle=v;for(var b=null,y=nc._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}nc.insert(b,v),b||(ec=v)}}}}function Un(t){var e=t.circle;e&&(e.P||(ec=e.N),nc.remove(e),rc.push(e),ni(e),t.circle=null)}function Gn(t){for(var e,n=Ks,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!$n(e,t)||!i(e)||go(e.a.x-e.b.x)<Do&&go(e.a.y-e.b.y)<Do)&&(e.a=e.b=null,n.splice(r,1))}function $n(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],c=e[0][1],l=e[1][1],u=t.l,d=t.r,f=u.x,h=u.y,g=d.x,p=d.y,m=(f+g)/2,v=(h+p)/2;if(p===h){if(o>m||m>=s)return;if(f>g){if(a){if(a.y>=l)return}else a={x:m,y:c};n={x:m,y:l}}else{if(a){if(a.y<c)return}else a={x:m,y:l};n={x:m,y:c}}}else if(i=(f-g)/(p-h),r=v-i*m,-1>i||i>1)if(f>g){if(a){if(a.y>=l)return}else a={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else{if(a){if(a.y<c)return}else a={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else if(p>h){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qn(t,e,n,i){var r=new Zn(t,e);return Ks.push(r),n&&Jn(r,t,e,n),i&&Jn(r,e,t,i),Js[t.i].edges.push(new ti(r,t,e)),Js[e.i].edges.push(new ti(r,e,t)),r}function Kn(t,e,n){var i=new Zn(t,null);return i.a=e,i.b=n,Ks.push(i),i}function Jn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ti(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ii(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ri(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function oi(t,e){var n,i,r,a=t.sort(si).pop();for(Ks=[],Js=new Array(t.length),tc=new ei,nc=new ei;;)if(r=ec,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(Js[a.i]=new Bn(a),jn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;zn(r.arc)}e&&(Gn(e),Xn(e));var o={cells:Js,edges:Ks};return tc=nc=Ks=Js=null,o}function si(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function li(t){return t.x}function ui(t){return t.y}function di(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fi(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),c=e.nodes;c[0]&&fi(t,c[0],n,i,o,s),c[1]&&fi(t,c[1],o,i,r,s),c[2]&&fi(t,c[2],n,s,o,a),c[3]&&fi(t,c[3],o,s,r,a)}}function hi(t,e,n,i,r,a,o){var s,c=1/0;return function l(t,u,d,f,h){if(!(u>a||d>o||i>f||r>h)){if(g=t.point){var g,p=e-t.x,m=n-t.y,v=p*p+m*m;if(c>v){var b=Math.sqrt(c=v);i=e-b,r=n-b,a=e+b,o=n+b,s=g}}for(var y=t.nodes,x=.5*(u+f),w=.5*(d+h),_=e>=x,k=n>=w,T=k<<1|_,A=T+4;A>T;++T)if(t=y[3&T])switch(3&T){case 0:l(t,u,d,x,w);break;case 1:l(t,x,d,f,w);break;case 2:l(t,u,w,x,h);break;case 3:l(t,x,w,f,h)}}}(t,i,r,a,o),s}function gi(t,e){t=eo.rgb(t),e=eo.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+xt(Math.round(n+a*t))+xt(Math.round(i+o*t))+xt(Math.round(r+s*t))}}function pi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=bi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,i,r,a=oc.lastIndex=sc.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(n=oc.exec(t))&&(i=sc.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:mi(n,i)})),a=sc.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?(e=c[0].x,function(t){return e(t)+""}):function(){return e}:(e=c.length,function(t){for(var n,i=0;e>i;++i)s[(n=c[i]).i]=n.x(t);return s.join("")})}function bi(t,e){for(var n,i=eo.interpolators.length;--i>=0&&!(n=eo.interpolators[i](t,e)););return n}function yi(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(bi(t[n],e[n]));for(;a>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function xi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function wi(t){return function(e){return 1-t(1-e)}}function _i(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function Ti(t){return t*t*t}function Ai(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ci(t){return function(e){return Math.pow(e,t)}}function Si(t){return 1-Math.cos(t*No)}function Mi(t){return Math.pow(2,10*(t-1))}function Ei(t){return 1-Math.sqrt(1-t*t)}function Di(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Po*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Po/e)}}function Li(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Pi(t,e){t=eo.hcl(t),e=eo.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ut(n+a*t,i+o*t,r+s*t)+""}}function Ii(t,e){t=eo.hsl(t),e=eo.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ct(n+a*t,i+o*t,r+s*t)+""}}function Ni(t,e){t=eo.lab(t),e=eo.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return ft(n+a*t,i+o*t,r+s*t)+""}}function Oi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ri(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=zi(e,n),a=ji(qi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ro,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Ro:0}function zi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(zi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function qi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t,e){var n,i=[],r=[],a=eo.transform(t),o=eo.transform(e),s=a.translate,c=o.translate,l=a.rotate,u=o.rotate,d=a.skew,f=o.skew,h=a.scale,g=o.scale;return s[0]!=c[0]||s[1]!=c[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mi(s[0],c[0])},{i:3,x:mi(s[1],c[1])})):i.push(c[0]||c[1]?"translate("+c+")":""),l!=u?(l-u>180?u+=360:u-l>180&&(l+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mi(l,u)})):u&&i.push(i.pop()+"rotate("+u+")"),d!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mi(d,f)}):f&&i.push(i.pop()+"skewX("+f+")"),h[0]!=g[0]||h[1]!=g[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mi(h[0],g[0])},{i:n-2,x:mi(h[1],g[1])})):(1!=g[0]||1!=g[1])&&i.push(i.pop()+"scale("+g+")"),n=r.length,function(t){for(var e,a=-1;++a<n;)i[(e=r[a]).i]=e.x(t);return i.join("")}}function Bi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Xi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wi(t){for(var e=t.source,n=t.target,i=Vi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Yi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vi(t,e){if(t===e)return t;for(var n=Yi(t),i=Yi(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function Ui(t){t.fixed|=2}function Gi(t){t.fixed&=-7}function $i(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zi(t){t.fixed&=-5}function Qi(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,c=-1;++c<s;)a=o[c],null!=a&&(Qi(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Ki(t,e){return eo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=rr,t}function Ji(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function tr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function er(t){return t.children}function nr(t){return t.value}function ir(t,e){return e.value-t.value}function rr(t){return eo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ar(t){return t.x}function or(t){return t.y}function sr(t,e,n){t.y0=e,t.y=n}function cr(t){return eo.range(t.length)}function lr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function ur(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function dr(t){return t.reduce(fr,0)}function fr(t,e){return t+e[1]}function hr(t,e){return gr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function pr(t){return[eo.min(t),eo.max(t)]}function mr(t,e){return t.value-e.value}function vr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function br(t,e){t._pack_next=e,e._pack_prev=t}function yr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function xr(t){function e(t){u=Math.min(t.x-t.r,u),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(l=n.length)){var n,i,r,a,o,s,c,l,u=1/0,d=-(1/0),f=1/0,h=-(1/0);if(n.forEach(wr),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(a=n[2],Tr(i,r,a),e(a),vr(i,a),i._pack_prev=a,vr(a,r),r=i._pack_next,o=3;l>o;o++){Tr(i,r,a=n[o]);var g=0,p=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,p++)if(yr(s,a)){g=1;break}if(1==g)for(c=i._pack_prev;c!==s._pack_prev&&!yr(c,a);c=c._pack_prev,m++);g?(m>p||p==m&&r.r<i.r?br(i,r=s):br(i=c,r),o--):(vr(i,a),r=a,e(a))}var v=(u+d)/2,b=(f+h)/2,y=0;for(o=0;l>o;o++)a=n[o],a.x-=v,a.y-=b,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=y,n.forEach(_r)}}function wr(t){t._pack_next=t._pack_prev=t}function _r(t){delete t._pack_next,delete t._pack_prev}function kr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)kr(r[a],e,n,i)}function Tr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var c=.5+(i-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+c*r+l*a,n.y=t.y+c*a-l*r}else n.x=t.x+i,n.y=t.y}function Ar(t,e){return t.parent==e.parent?1:2}function Cr(t){var e=t.children;return e.length?e[0]:t.t}function Sr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Mr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Er(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Dr(t,e,n){return t.a.parent===e.parent?t.a:n}function Lr(t){return 1+eo.max(t,function(t){return t.y})}function Fr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Pr(t){var e=t.children;return e&&e.length?Pr(e[0]):t}function Ir(t){var e,n=t.children;return n&&(e=n.length)?Ir(n[e-1]):t}function Nr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Or(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Rr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function zr(t){return t.rangeExtent?t.rangeExtent():Rr(t.range())}function jr(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function qr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Hr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:bc}function Br(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=eo.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Xr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Br:jr,c=i?Xi:Bi;return o=r(t,e,c,n),s=r(e,t,c,bi),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Oi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return Ur(t,e)},a.tickFormat=function(e,n){return Gr(t,e,n)},a.nice=function(e){return Yr(t,e),r()},a.copy=function(){return Xr(t,e,n,i)},r()}function Wr(t,e){return eo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Yr(t,e){return qr(t,Hr(Vr(t,e)[2]))}function Vr(t,e){null==e&&(e=10);var n=Rr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Ur(t,e){return eo.range.apply(eo,Vr(t,e))}function Gr(t,e,n){var i=Vr(t,e);if(n){var r=os.exec(n);if(r.shift(),"s"===r[8]){var a=eo.formatPrefix(Math.max(go(i[0]),go(i[1])));return r[7]||(r[7]="."+$r(a.scale(i[2]))),r[8]="f",n=eo.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Zr(r[8],i)),n=r.join("")}else n=",."+$r(i[2])+"f";return eo.format(n)}function $r(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zr(t,e){var n=$r(e[2]);return t in yc?Math.abs(n-$r(Math.max(go(e[0]),go(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Qr(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=qr(i.map(r),n?Math:wc);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Rr(i),o=[],s=t[0],c=t[1],l=Math.floor(r(s)),u=Math.ceil(r(c)),d=e%1?2:e;if(isFinite(u-l)){if(n){for(;u>l;l++)for(var f=1;d>f;f++)o.push(a(l)*f);o.push(a(l))}else for(o.push(a(l));l++<u;)for(var f=d-1;f>0;f--)o.push(a(l)*f);for(l=0;o[l]<s;l++);for(u=o.length;o[u-1]>c;u--);o=o.slice(l,u)}return o},o.tickFormat=function(t,e){if(!arguments.length)return xc;arguments.length<2?e=xc:"function"!=typeof e&&(e=eo.format(e));var i,s=Math.max(.1,t/o.ticks().length),c=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(c(r(t)+i))<=s?e(t):""}},o.copy=function(){return Qr(t.copy(),e,n,i)},Wr(o,t)}function Kr(t,e,n){function i(e){return t(r(e))}var r=Jr(e),a=Jr(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Ur(n,t)},i.tickFormat=function(t,e){return Gr(n,t,e)},i.nice=function(t){return i.domain(Yr(n,t))},i.exponent=function(o){return arguments.length?(r=Jr(e=o),a=Jr(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Kr(t.copy(),e,n)},Wr(i,t)}function Jr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ta(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):0/0))-1)%a.length]}function i(e,n){return eo.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new l;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var c=r[0],l=r[1],u=t.length<2?(c=(c+l)/2,0):(l-c)/(t.length-1+s);return a=i(c+u*s/2,u),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var c=r[0],l=r[1],u=t.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(t.length-1+s)|0;return a=i(c+Math.round(u*s/2+(l-c-(t.length-1+s)*u)/2),u),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,c){arguments.length<2&&(s=0),arguments.length<3&&(c=s);var l=r[1]<r[0],u=r[l-0],d=r[1-l],f=(d-u)/(t.length-s+2*c);return a=i(u+f*c,f),l&&a.reverse(),o=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,c){arguments.length<2&&(s=0),arguments.length<3&&(c=s);var l=r[1]<r[0],u=r[l-0],d=r[1-l],f=Math.floor((d-u)/(t.length-s+2*c));return a=i(u+Math.round((d-u-(t.length-s)*f)/2),f),l&&a.reverse(),o=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Rr(e.a[0])},n.copy=function(){return ta(t,e)},n.domain(t)}function ea(t,e){function a(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=eo.quantile(t,n/i);return o}function o(t){return isNaN(t=+t)?void 0:e[eo.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return ea(t,e)},a()}function na(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/a+t,[e,e+1/a]},i.copy=function(){return na(t,e,n)},r()}function ia(t,e){function n(n){return n>=n?e[eo.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ia(t,e)},n}function ra(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ur(t,e)},e.tickFormat=function(e,n){return Gr(t,e,n)},e.copy=function(){return ra(t)},e}function aa(){return 0}function oa(t){return t.innerRadius}function sa(t){return t.outerRadius}function ca(t){return t.startAngle}function la(t){return t.endAngle}function ua(t){return t&&t.padAngle}function da(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function fa(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),c=s*o,l=-s*a,u=t[0]+c,d=t[1]+l,f=e[0]+c,h=e[1]+l,g=(u+f)/2,p=(d+h)/2,m=f-u,v=h-d,b=m*m+v*v,y=n-i,x=u*h-f*d,w=(0>v?-1:1)*Math.sqrt(y*y*b-x*x),_=(x*v-m*w)/b,k=(-x*m-v*w)/b,T=(x*v+m*w)/b,A=(-x*m+v*w)/b,C=_-g,S=k-p,M=T-g,E=A-p;return C*C+S*S>M*M+E*E&&(_=T,k=A),[[_-c,k-l],[_*n/y,k*n/y]]}function ha(t){function e(e){function o(){l.push("M",a(t(u),s))}for(var c,l=[],u=[],d=-1,f=e.length,h=Ct(n),g=Ct(i);++d<f;)r.call(this,c=e[d],d)?u.push([+h.call(this,c,d),+g.call(this,c,d)]):u.length&&(o(),u=[]);return u.length&&o(),l.length?l.join(""):null}var n=Mn,i=En,r=Me,a=ga,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Sc.get(t)||ga).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function pa(t){return ga(t)+"Z"}function ma(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function va(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ba(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function ya(t,e){return t.length<4?ga(t):t[1]+_a(t.slice(1,-1),ka(t,e))}function xa(t,e){return t.length<3?ga(t):t[0]+_a((t.push(t[0]),t),ka([t[t.length-2]].concat(t,[t[1]]),e))}function wa(t,e){return t.length<3?ga(t):t[0]+_a(t,ka(t,e))}function _a(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,c=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],c=2),e.length>1){s=e[1],a=t[c],c++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,c++)a=t[c],s=e[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[c];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function ka(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,c=t.length;++s<c;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Ta(t){if(t.length<3)return ga(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],c=[r,",",a,"L",Ma(Dc,o),",",Ma(Dc,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Ea(c,o,s);return t.pop(),c.push("L",i),c.join("")}function Aa(t){if(t.length<4)return ga(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(Ma(Dc,a)+","+Ma(Dc,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Ea(n,a,o);return n.join("")}function Ca(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[Ma(Dc,o),",",Ma(Dc,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ea(e,o,s);return e.join("")}function Sa(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,c=t[n][1]-o,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*c);return Ta(t)}function Ma(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ea(t,e,n){t.push("C",Ma(Mc,e),",",Ma(Mc,n),",",Ma(Ec,e),",",Ma(Ec,n),",",Ma(Dc,e),",",Ma(Dc,n))}function Da(t,e){return(e[1]-t[1])/(e[0]-t[0])}function La(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Da(r,a);++e<n;)i[e]=(o+(o=Da(r=a,a=t[e+1])))/2;return i[e]=o,i}function Fa(t){for(var e,n,i,r,a=[],o=La(t),s=-1,c=t.length-1;++s<c;)e=Da(t[s],t[s+1]),go(e)<Do?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=c;)r=(t[Math.min(c,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Pa(t){return t.length<3?ga(t):t[0]+_a(t,Fa(t))}function Ia(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-No,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Na(t){function e(e){function c(){p.push("M",s(t(v),d),u,l(t(m.reverse()),d),"Z")}for(var f,h,g,p=[],m=[],v=[],b=-1,y=e.length,x=Ct(n),w=Ct(r),_=n===i?function(){return h}:Ct(i),k=r===a?function(){return g}:Ct(a);++b<y;)o.call(this,f=e[b],b)?(m.push([h=+x.call(this,f,b),g=+w.call(this,f,b)]),v.push([+_.call(this,f,b),+k.call(this,f,b)])):m.length&&(c(),m=[],v=[]);return m.length&&c(),p.length?p.join(""):null}var n=Mn,i=Mn,r=0,a=En,o=Me,s=ga,c=s.key,l=s,u="L",d=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,
e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(c="function"==typeof t?s=t:(s=Sc.get(t)||ga).key,l=s.reverse||s,u=s.closed?"M":"L",e):c},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Oa(t){return t.radius}function Ra(t){return[t.x,t.y]}function za(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-No;return[n*Math.cos(i),n*Math.sin(i)]}}function ja(){return 64}function qa(){return"circle"}function Ha(t){var e=Math.sqrt(t/Fo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ba(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Xa(t,e,n){return yo(t,Rc),t.namespace=e,t.id=n,t}function Wa(t,e,n,i){var r=t.id,a=t.namespace;return X(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function Ya(t){return null==t&&(t=""),function(){this.textContent=t}}function Va(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ua(t,e,n,i,r){var a=t[n]||(t[n]={active:0,count:0}),o=a[i];if(!o){var s=r.time;o=a[i]={tween:new l,time:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++a.count,eo.timer(function(r){function c(n){if(a.active>i)return u();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),a.active=i,o.event&&o.event.start.call(t,t.__data__,e),o.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&p.push(i)}),f=o.ease,d=o.duration,eo.timer(function(){return g.c=l(n||1)?Me:l,1},0,s)}function l(n){if(a.active!==i)return 1;for(var r=n/d,s=f(r),c=p.length;c>0;)p[--c].call(t,s);return r>=1?(o.event&&o.event.end.call(t,t.__data__,e),u()):void 0}function u(){return--a.count?delete a[i]:delete t[n],1}var d,f,h=o.delay,g=is,p=[];return g.t=h+s,r>=h?c(r-h):void(g.c=c)},0,s)}}function Ga(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function $a(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Za(t){return t.toISOString()}function Qa(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=eo.bisect(Vc,r);return a==Vc.length?[e.year,Vr(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Vc[a-1]<Vc[a]/r?a-1:a]:[$c,Vr(t,n)[2]]}return i.invert=function(e){return Ka(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Ka)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Ka(+n+1),e).length}var a=i.domain(),o=Rr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(qr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Ka(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Ka(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Rr(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],Ka(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Qa(t.copy(),e,n)},Wr(i,t)}function Ka(t){return new Date(t)}function Ja(t){return JSON.parse(t.responseText)}function to(t){var e=ro.createRange();return e.selectNode(ro.body),e.createContextualFragment(t.responseText)}var eo={version:"3.5.5"},no=[].slice,io=function(t){return no.call(t)},ro=this.document;if(ro)try{io(ro.documentElement.childNodes)[0].nodeType}catch(ao){io=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ro)try{ro.createElement("DIV").style.setProperty("opacity",0,"")}catch(oo){var so=this.Element.prototype,co=so.setAttribute,lo=so.setAttributeNS,uo=this.CSSStyleDeclaration.prototype,fo=uo.setProperty;so.setAttribute=function(t,e){co.call(this,t,e+"")},so.setAttributeNS=function(t,e,n){lo.call(this,t,e,n+"")},uo.setProperty=function(t,e,n){fo.call(this,t,e+"",n)}}eo.ascending=n,eo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},eo.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},eo.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},eo.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},eo.sum=function(t,e){var n,i=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)r(n=+t[o])&&(i+=n);else for(;++o<a;)r(n=+e.call(t,t[o],o))&&(i+=n);return i},eo.mean=function(t,e){var n,a=0,o=t.length,s=-1,c=o;if(1===arguments.length)for(;++s<o;)r(n=i(t[s]))?a+=n:--c;else for(;++s<o;)r(n=i(e.call(t,t[s],s)))?a+=n:--c;return c?a/c:void 0},eo.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},eo.median=function(t,e){var a,o=[],s=t.length,c=-1;if(1===arguments.length)for(;++c<s;)r(a=i(t[c]))&&o.push(a);else for(;++c<s;)r(a=i(e.call(t,t[c],c)))&&o.push(a);return o.length?eo.quantile(o.sort(n),.5):void 0},eo.variance=function(t,e){var n,a,o=t.length,s=0,c=0,l=-1,u=0;if(1===arguments.length)for(;++l<o;)r(n=i(t[l]))&&(a=n-s,s+=a/++u,c+=a*(n-s));else for(;++l<o;)r(n=i(e.call(t,t[l],l)))&&(a=n-s,s+=a/++u,c+=a*(n-s));return u>1?c/(u-1):void 0},eo.deviation=function(){var t=eo.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ho=a(n);eo.bisectLeft=ho.left,eo.bisect=eo.bisectRight=ho.right,eo.bisector=function(t){return a(1===t.length?function(e,i){return n(t(e),i)}:t)},eo.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,2>a&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},eo.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},eo.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(0>i?0:i);i>n;)a[n]=[e=r,r=t[++n]];return a},eo.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=eo.min(arguments,o),n=new Array(e);++t<e;)for(var i,r=-1,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n},eo.transpose=function(t){return eo.zip.apply(eo,t)},eo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},eo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},eo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},eo.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var go=Math.abs;eo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=s(go(n)),o=-1;if(t*=a,e*=a,n*=a,0>n)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},eo.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var po="__proto__",mo="\x00";c(l,{has:f,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:h,keys:g,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:p,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),eo.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var c,u,d,f,h=-1,g=o.length,p=a[s++],m=new l;++h<g;)(f=m.get(c=p(u=o[h])))?f.push(u):m.set(c,[u]);return e?(u=e(),d=function(n,i){u.set(n,t(e,i,s))}):(u={},d=function(n,i){u[n]=t(e,i,s)}),m.forEach(d),u}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(eo.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},eo.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},c(v,{has:f,add:function(t){return this._[u(t+="")]=!0,t},remove:h,values:g,size:p,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),eo.behavior={},eo.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=y(t,e,e[n]);return t};var vo=["webkit","ms","moz","Moz","o","O"];eo.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},eo.event=null,eo.requote=function(t){return t.replace(bo,"\\$&")};var bo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},xo=function(t,e){return e.querySelector(t)},wo=function(t,e){return e.querySelectorAll(t)},_o=function(t,e){var n=t.matches||t[x(t,"matchesSelector")];return(_o=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(xo=function(t,e){return Sizzle(t,e)[0]||null},wo=Sizzle,_o=Sizzle.matchesSelector),eo.selection=function(){return eo.select(ro.documentElement)};var ko=eo.selection.prototype=[];ko.select=function(t){var e,n,i,r,a=[];t=M(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var c=-1,l=i.length;++c<l;)(r=i[c])?(e.push(n=t.call(r,r.__data__,c,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(a)},ko.selectAll=function(t){var e,n,i=[];t=E(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,c=o.length;++s<c;)(n=o[s])&&(i.push(e=io(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};eo.ns={prefix:To,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),To.hasOwnProperty(n)?{space:To[n],local:t}:t}},ko.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=eo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},ko.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!F(t[r]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},ko.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(O(i,t[i],n));return this}if(2>r){var a=this.node();return e(a).getComputedStyle(a,null).getPropertyValue(t)}i=""}return this.each(O(t,n,i))},ko.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},ko.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ko.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ko.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ko.insert=function(t,e){return t=z(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ko.remove=function(){return this.each(j)},ko.data=function(t,e){function n(t,n){var i,r,a,o=t.length,d=n.length,f=Math.min(o,d),h=new Array(d),g=new Array(d),p=new Array(o);if(e){var m,v=new l,b=new Array(o);for(i=-1;++i<o;)v.has(m=e.call(r=t[i],r.__data__,i))?p[i]=r:v.set(m,r),b[i]=m;for(i=-1;++i<d;)(r=v.get(m=e.call(n,a=n[i],i)))?r!==!0&&(h[i]=r,r.__data__=a):g[i]=q(a),v.set(m,!0);for(i=-1;++i<o;)v.get(b[i])!==!0&&(p[i]=t[i])}else{for(i=-1;++i<f;)r=t[i],a=n[i],r?(r.__data__=a,h[i]=r):g[i]=q(a);for(;d>i;++i)g[i]=q(n[i]);for(;o>i;++i)p[i]=t[i]}g.update=h,g.parentNode=h.parentNode=p.parentNode=t.parentNode,s.push(g),c.push(h),u.push(p)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=W([]),c=S([]),u=S([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return c.enter=function(){return s},c.exit=function(){return u},c},ko.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ko.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=H(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,c=n.length;c>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return S(r)},ko.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},ko.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ko.each=function(t){return X(this,function(e,n,i){t.call(e,e.__data__,n,i)})},ko.call=function(t){var e=io(arguments);return t.apply(e[0]=this,e),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},ko.size=function(){var t=0;return X(this,function(){++t}),t};var Ao=[];eo.selection.enter=W,eo.selection.enter.prototype=Ao,Ao.append=ko.append,Ao.empty=ko.empty,Ao.node=ko.node,Ao.call=ko.call,Ao.size=ko.size,Ao.select=function(t){for(var e,n,i,r,a,o=[],s=-1,c=this.length;++s<c;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,u=r.length;++l<u;)(a=r[l])?(e.push(i[l]=n=t.call(r.parentNode,a.__data__,l,s)),n.__data__=a.__data__):e.push(null)}return S(o)},Ao.insert=function(t,e){return arguments.length<2&&(e=Y(this)),ko.insert.call(this,t,e)},eo.select=function(e){var n;return"string"==typeof e?(n=[xo(e,ro)],n.parentNode=ro.documentElement):(n=[e],n.parentNode=t(e)),S([n])},eo.selectAll=function(t){var e;return"string"==typeof t?(e=io(wo(t,ro)),e.parentNode=ro.documentElement):(e=t,e.parentNode=null),S([e])},ko.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var Co=eo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ro&&Co.forEach(function(t){"on"+t in ro&&Co.remove(t)});var So,Mo=0;eo.mouse=function(t){return Z(t,A())};var Eo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;eo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var i,r=0,a=e.length;a>r;++r)if((i=e[r]).identifier===n)return Z(t,i)},eo.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function n(t,e,n,a,o){return function(){function s(){var t,n,i=e(f,p);i&&(t=i[0]-y[0],n=i[1]-y[1],g|=t|n,y=i,h({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function c(){e(f,p)&&(v.on(a+m,null).on(o+m,null),b(g&&eo.event.target===d),h({type:"dragend"}))}var l,u=this,d=eo.event.target,f=u.parentNode,h=i.of(u,arguments),g=0,p=t(),m=".drag"+(null==p?"":"-"+p),v=eo.select(n(d)).on(a+m,s).on(o+m,c),b=$(d),y=e(f,p);r?(l=r.apply(u,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],h({type:"dragstart"})}}var i=C(t,"drag","dragstart","dragend"),r=null,a=n(w,eo.mouse,e,"mousemove","mouseup"),o=n(Q,eo.touch,b,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},eo.rebind(t,i,"on")},eo.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?io(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Do=1e-6,Lo=Do*Do,Fo=Math.PI,Po=2*Fo,Io=Po-Do,No=Fo/2,Oo=Fo/180,Ro=180/Fo,zo=Math.SQRT2,jo=2,qo=4;eo.interpolateZoom=function(t,e){function n(t){var e=t*b;if(v){var n=it(p),o=a/(jo*f)*(n*rt(zo*e+p)-nt(p));return[i+o*l,r+o*u,a*n/it(zo*e+p)]}return[i+t*l,r+t*u,a*Math.exp(zo*e)]}var i=t[0],r=t[1],a=t[2],o=e[0],s=e[1],c=e[2],l=o-i,u=s-r,d=l*l+u*u,f=Math.sqrt(d),h=(c*c-a*a+qo*d)/(2*a*jo*f),g=(c*c-a*a-qo*d)/(2*c*jo*f),p=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(g*g+1)-g),v=m-p,b=(v||Math.log(c/a))/zo;return n.duration=1e3*b,n},eo.behavior.zoom=function(){function t(t){t.on(L,d).on(Bo+".zoom",h).on("dblclick.zoom",g).on(I,f)}function n(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function i(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function r(t){A.k=Math.max(M[0],Math.min(M[1],t))}function a(t,e){e=i(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function o(e,n,i,o){e.__chart__={x:A.x,y:A.y,k:A.k},r(Math.pow(2,o)),a(m=n,i),e=eo.select(e),E>0&&(e=e.transition().duration(E)),e.call(t.event)}function s(){w&&w.domain(x.range().map(function(t){return(t-A.x)/A.k}).map(x.invert)),k&&k.domain(_.range().map(function(t){return(t-A.y)/A.k}).map(_.invert))}function c(t){D++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function u(t){--D||t({type:"zoomend"}),m=null}function d(){function t(){d=1,a(eo.mouse(r),h),l(s)}function i(){f.on(F,null).on(P,null),g(d&&eo.event.target===o),u(s)}var r=this,o=eo.event.target,s=N.of(r,arguments),d=0,f=eo.select(e(r)).on(F,t).on(P,i),h=n(eo.mouse(r)),g=$(r);Oc.call(r),c(s)}function f(){function t(){var t=eo.touches(g);return h=A.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=eo.event.target;eo.select(e).on(x,i).on(w,s),_.push(e);for(var n=eo.event.changedTouches,r=0,a=n.length;a>r;++r)m[n[r].identifier]=null;var c=t(),l=Date.now();if(1===c.length){if(500>l-y){var u=c[0];o(g,u,m[u.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),T()}y=l}else if(c.length>1){var u=c[0],d=c[1],f=u[0]-d[0],h=u[1]-d[1];v=f*f+h*h}}function i(){var t,e,n,i,o=eo.touches(g);Oc.call(g);for(var s=0,c=o.length;c>s;++s,i=null)if(n=o[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var u=(u=n[0]-t[0])*u+(u=n[1]-t[1])*u,d=v&&Math.sqrt(u/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(d*h)}y=null,a(t,e),l(p)}function s(){if(eo.event.touches.length){for(var e=eo.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}eo.selectAll(_).on(b,null),k.on(L,d).on(I,f),C(),u(p)}var h,g=this,p=N.of(g,arguments),m={},v=0,b=".zoom-"+eo.event.changedTouches[0].identifier,x="touchmove"+b,w="touchend"+b,_=[],k=eo.select(g),C=$(g);e(),c(p),k.on(L,null).on(I,e)}function h(){var t=N.of(this,arguments);b?clearTimeout(b):(p=n(m=v||eo.mouse(this)),Oc.call(this),c(t)),b=setTimeout(function(){b=null,u(t)},50),T(),r(Math.pow(2,.002*Ho())*A.k),a(m,p),l(t)}function g(){var t=eo.mouse(this),e=Math.log(A.k)/Math.LN2;o(this,t,n(t),eo.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var p,m,v,b,y,x,w,_,k,A={x:0,y:0,k:1},S=[960,500],M=Xo,E=250,D=0,L="mousedown.zoom",F="mousemove.zoom",P="mouseup.zoom",I="touchstart.zoom",N=C(t,"zoomstart","zoom","zoomend");return Bo||(Bo="onwheel"in ro?(Ho=function(){return-eo.event.deltaY*(eo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ro?(Ho=function(){return eo.event.wheelDelta},"mousewheel"):(Ho=function(){return-eo.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=A;Ic?eo.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},c(t)}).tween("zoom:zoom",function(){var n=S[0],i=S[1],r=m?m[0]:n/2,a=m?m[1]:i/2,o=eo.interpolateZoom([(r-A.x)/A.k,(a-A.y)/A.k,n/A.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=A={x:r-i[0]*s,y:a-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=A,c(t),l(t),u(t))})},t.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},s(),t):[A.x,A.y]},t.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:+e},s(),t):A.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Xo:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(E=+e,t):E},t.x=function(e){return arguments.length?(w=e,x=e.copy(),A={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(k=e,_=e.copy(),A={x:0,y:0,k:1},t):k},eo.rebind(t,N,"on")};var Ho,Bo,Xo=[0,1/0];eo.color=ot,ot.prototype.toString=function(){return this.rgb()+""},eo.hsl=st;var Wo=st.prototype=new ot;Wo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Wo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Wo.rgb=function(){return ct(this.h,this.s,this.l)},eo.hcl=lt;var Yo=lt.prototype=new ot;Yo.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Vo*(arguments.length?t:1)))},Yo.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Vo*(arguments.length?t:1)))},Yo.rgb=function(){return ut(this.h,this.c,this.l).rgb()},eo.lab=dt;var Vo=18,Uo=.95047,Go=1,$o=1.08883,Zo=dt.prototype=new ot;Zo.brighter=function(t){return new dt(Math.min(100,this.l+Vo*(arguments.length?t:1)),this.a,this.b)},Zo.darker=function(t){return new dt(Math.max(0,this.l-Vo*(arguments.length?t:1)),this.a,this.b)},Zo.rgb=function(){return ft(this.l,this.a,this.b)},eo.rgb=vt;var Qo=vt.prototype=new ot;Qo.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},Qo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Qo.hsl=function(){return _t(this.r,this.g,this.b)},Qo.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ko=eo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ko.forEach(function(t,e){Ko.set(t,bt(e))}),eo.functor=Ct,eo.xhr=St(b),eo.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Mt(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(u>=l)return o;if(r)return r=!1,a;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}u=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>u;){var i=t.charCodeAt(u++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(u)&&(++u,++s);else if(i!==c)continue;return t.slice(e,u-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],l=t.length,u=0,d=0;(i=n())!==o;){for(var f=[];i!==a&&i!==o;)f.push(i),i=n();e&&null==(f=e(f,d++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},eo.csv=eo.dsv(",","text/csv"),eo.tsv=eo.dsv("	","text/tab-separated-values");var Jo,ts,es,ns,is,rs=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};eo.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,a={c:t,t:r,f:!1,n:null};ts?ts.n=a:Jo=a,ts=a,es||(ns=clearTimeout(ns),es=1,rs(Lt))},eo.timer.flush=function(){Ft(),Pt()},eo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var as=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);eo.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=eo.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),as[8+n/3]};var os=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ss=eo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=eo.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),cs=eo.time={},ls=Date;zt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){us.setUTCDate.apply(this._,arguments)},setDay:function(){us.setUTCDay.apply(this._,arguments)},setFullYear:function(){us.setUTCFullYear.apply(this._,arguments)},setHours:function(){us.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){us.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){us.setUTCMinutes.apply(this._,arguments)},setMonth:function(){us.setUTCMonth.apply(this._,arguments)},setSeconds:function(){us.setUTCSeconds.apply(this._,arguments)},setTime:function(){us.setTime.apply(this._,arguments)}};var us=Date.prototype;cs.year=jt(function(t){return t=cs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),cs.years=cs.year.range,cs.years.utc=cs.year.utc.range,cs.day=jt(function(t){var e=new ls(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),cs.days=cs.day.range,cs.days.utc=cs.day.utc.range,cs.dayOfYear=function(t){var e=cs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=cs[t]=jt(function(t){return(t=cs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=cs.year(t).getDay();return Math.floor((cs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});cs[t+"s"]=n.range,cs[t+"s"].utc=n.utc.range,cs[t+"OfYear"]=function(t){var n=cs.year(t).getDay();return Math.floor((cs.dayOfYear(t)+(n+e)%7)/7)}}),cs.week=cs.sunday,cs.weeks=cs.sunday.range,cs.weeks.utc=cs.sunday.utc.range,cs.weekOfYear=cs.sundayOfYear;var ds={"-":"",_:" ",0:"0"},fs=/^\s*\d+/,hs=/^%/;eo.locale=function(t){return{numberFormat:Ot(t),timeFormat:Ht(t)}};var gs=eo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});eo.format=gs.numberFormat,eo.geo={},ce.prototype={s:0,t:0,add:function(t){le(t,this.t,ps),
le(ps.s,this.s,this),this.s?this.t+=ps.t:this.s=ps.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ps=new ce;eo.geo.stream=function(t,e){t&&ms.hasOwnProperty(t.type)?ms[t.type](t,e):ue(t,e)};var ms={Feature:function(t,e){ue(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ue(n[i].geometry,e)}},vs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ue(n[i],e)}};eo.geo.area=function(t){return bs=0,eo.geo.stream(t,xs),bs};var bs,ys=new ce,xs={sphere:function(){bs+=4*Fo},point:w,lineStart:w,lineEnd:w,polygonStart:function(){ys.reset(),xs.lineStart=he},polygonEnd:function(){var t=2*ys;bs+=0>t?4*Fo+t:t,xs.lineStart=xs.lineEnd=xs.point=w}};eo.geo.bounds=function(){function t(t,e){y.push(x=[u=t,f=t]),d>e&&(d=e),e>h&&(h=e)}function e(e,n){var i=ge([e*Oo,n*Oo]);if(v){var r=me(v,i),a=[r[1],-r[0],0],o=me(a,r);ye(o),o=xe(o);var c=e-g,l=c>0?1:-1,p=o[0]*Ro*l,m=go(c)>180;if(m^(p>l*g&&l*e>p)){var b=o[1]*Ro;b>h&&(h=b)}else if(p=(p+360)%360-180,m^(p>l*g&&l*e>p)){var b=-o[1]*Ro;d>b&&(d=b)}else d>n&&(d=n),n>h&&(h=n);m?g>e?s(u,e)>s(u,f)&&(f=e):s(e,f)>s(u,f)&&(u=e):f>=u?(u>e&&(u=e),e>f&&(f=e)):e>g?s(u,e)>s(u,f)&&(f=e):s(e,f)>s(u,f)&&(u=e)}else t(e,n);v=i,g=e}function n(){w.point=e}function i(){x[0]=u,x[1]=f,w.point=t,v=null}function r(t,n){if(v){var i=t-g;b+=go(i)>180?i+(i>0?360:-360):i}else p=t,m=n;xs.point(t,n),e(t,n)}function a(){xs.lineStart()}function o(){r(p,m),xs.lineEnd(),go(b)>Do&&(u=-(f=180)),x[0]=u,x[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function c(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,d,f,h,g,p,m,v,b,y,x,w={point:t,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=a,w.lineEnd=o,b=0,xs.polygonStart()},polygonEnd:function(){xs.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=i,0>ys?(u=-(f=180),d=-(h=90)):b>Do?h=90:-Do>b&&(d=-90),x[0]=u,x[1]=f}};return function(t){h=f=-(u=d=1/0),y=[],eo.geo.stream(t,w);var e=y.length;if(e){y.sort(c);for(var n,i=1,r=y[0],a=[r];e>i;++i)n=y[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,g=-(1/0),e=a.length-1,i=0,r=a[e];e>=i;r=n,++i)n=a[i],(o=s(r[1],n[0]))>g&&(g=o,u=n[0],f=r[1])}return y=x=null,u===1/0||d===1/0?[[0/0,0/0],[0/0,0/0]]:[[u,d],[f,h]]}}(),eo.geo.centroid=function(t){ws=_s=ks=Ts=As=Cs=Ss=Ms=Es=Ds=Ls=0,eo.geo.stream(t,Fs);var e=Es,n=Ds,i=Ls,r=e*e+n*n+i*i;return Lo>r&&(e=Cs,n=Ss,i=Ms,Do>_s&&(e=ks,n=Ts,i=As),r=e*e+n*n+i*i,Lo>r)?[0/0,0/0]:[Math.atan2(n,e)*Ro,et(i/Math.sqrt(r))*Ro]};var ws,_s,ks,Ts,As,Cs,Ss,Ms,Es,Ds,Ls,Fs={sphere:w,point:_e,lineStart:Te,lineEnd:Ae,polygonStart:function(){Fs.lineStart=Ce},polygonEnd:function(){Fs.lineStart=Te}},Ps=Fe(Me,Oe,ze,[-Fo,-Fo/2]),Is=1e9;eo.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=Be(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(eo.geo.conicEqualArea=function(){return Xe(We)}).raw=We,eo.geo.albers=function(){return eo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},eo.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=eo.geo.albers(),o=eo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=eo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var l=a.scale(),u=+e[0],d=+e[1];return n=a.translate(e).clipExtent([[u-.455*l,d-.238*l],[u+.455*l,d+.238*l]]).stream(c).point,i=o.translate([u-.307*l,d+.201*l]).clipExtent([[u-.425*l+Do,d+.12*l+Do],[u-.214*l-Do,d+.234*l-Do]]).stream(c).point,r=s.translate([u-.205*l,d+.212*l]).clipExtent([[u-.214*l+Do,d+.166*l+Do],[u-.115*l-Do,d+.234*l-Do]]).stream(c).point,t},t.scale(1070)};var Ns,Os,Rs,zs,js,qs,Hs={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Os=0,Hs.lineStart=Ye},polygonEnd:function(){Hs.lineStart=Hs.lineEnd=Hs.point=w,Ns+=go(Os/2)}},Bs={point:Ve,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Xs={point:$e,lineStart:Ze,lineEnd:Qe,polygonStart:function(){Xs.lineStart=Ke},polygonEnd:function(){Xs.point=$e,Xs.lineStart=Ze,Xs.lineEnd=Qe}};eo.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),eo.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return Ns=0,eo.geo.stream(t,r(Hs)),Ns},t.centroid=function(t){return ks=Ts=As=Cs=Ss=Ms=Es=Ds=Ls=0,eo.geo.stream(t,r(Xs)),Ls?[Es/Ls,Ds/Ls]:Ms?[Cs/Ms,Ss/Ms]:As?[ks/As,Ts/As]:[0/0,0/0]},t.bounds=function(t){return js=qs=-(Rs=zs=1/0),eo.geo.stream(t,r(Bs)),[[Rs,zs],[js,qs]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||en(t):b,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Ue:new Je(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(eo.geo.albersUsa()).context(null)},eo.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var i in t)n[i]=t[i];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},eo.geo.projection=an,eo.geo.projectionMutator=on,(eo.geo.equirectangular=function(){return an(cn)}).raw=cn.invert=cn,eo.geo.rotation=function(t){function e(e){return e=t(e[0]*Oo,e[1]*Oo),e[0]*=Ro,e[1]*=Ro,e}return t=un(t[0]%360*Oo,t[1]*Oo,t.length>2?t[2]*Oo:0),e.invert=function(e){return e=t.invert(e[0]*Oo,e[1]*Oo),e[0]*=Ro,e[1]*=Ro,e},e},ln.invert=cn,eo.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=un(-t[0]*Oo,-t[1]*Oo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ro,t[1]*=Ro}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*Oo,r*Oo),t):e},t.precision=function(i){return arguments.length?(n=gn(e*Oo,(r=+i)*Oo),t):r},t.angle(90)},eo.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Oo,r=t[1]*Oo,a=e[1]*Oo,o=Math.sin(i),s=Math.cos(i),c=Math.sin(r),l=Math.cos(r),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=l*u-c*d*s)*n),c*u+l*d*s)},eo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return eo.range(Math.ceil(a/m)*m,r,m).map(f).concat(eo.range(Math.ceil(l/v)*v,c,v).map(h)).concat(eo.range(Math.ceil(i/g)*g,n,g).filter(function(t){return go(t%m)>Do}).map(u)).concat(eo.range(Math.ceil(s/p)*p,o,p).filter(function(t){return go(t%v)>Do}).map(d))}var n,i,r,a,o,s,c,l,u,d,f,h,g=10,p=g,m=90,v=360,b=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(h(c).slice(1),f(r).reverse().slice(1),h(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],l=+e[0][1],c=+e[1][1],a>r&&(e=a,a=r,r=e),l>c&&(e=l,l=c,c=e),t.precision(b)):[[a,l],[r,c]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(b)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(g=+e[0],p=+e[1],t):[g,p]},t.precision=function(e){return arguments.length?(b=+e,u=mn(s,o,90),d=vn(i,n,b),f=mn(l,c,90),h=vn(a,r,b),t):b},t.majorExtent([[-180,-90+Do],[180,90-Do]]).minorExtent([[-180,-80-Do],[180,80+Do]])},eo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=bn,r=yn;return t.distance=function(){return eo.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},eo.geo.interpolate=function(t,e){return xn(t[0]*Oo,t[1]*Oo,e[0]*Oo,e[1]*Oo)},eo.geo.length=function(t){return Ws=0,eo.geo.stream(t,Ys),Ws};var Ws,Ys={sphere:w,point:w,lineStart:wn,lineEnd:w,polygonStart:w,polygonEnd:w},Vs=_n(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(eo.geo.azimuthalEqualArea=function(){return an(Vs)}).raw=Vs;var Us=_n(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},b);(eo.geo.azimuthalEquidistant=function(){return an(Us)}).raw=Us,(eo.geo.conicConformal=function(){return Xe(kn)}).raw=kn,(eo.geo.conicEquidistant=function(){return Xe(Tn)}).raw=Tn;var Gs=_n(function(t){return 1/t},Math.atan);(eo.geo.gnomonic=function(){return an(Gs)}).raw=Gs,An.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-No]},(eo.geo.mercator=function(){return Cn(An)}).raw=An;var $s=_n(function(){return 1},Math.asin);(eo.geo.orthographic=function(){return an($s)}).raw=$s;var Zs=_n(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(eo.geo.stereographic=function(){return an(Zs)}).raw=Zs,Sn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-No]},(eo.geo.transverseMercator=function(){var t=Cn(Sn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Sn,eo.geom={},eo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Ct(n),a=Ct(i),o=t.length,s=[],c=[];for(e=0;o>e;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(Ln),e=0;o>e;e++)c.push([s[e][0],-s[e][1]]);var l=Dn(s),u=Dn(c),d=u[0]===l[0],f=u[u.length-1]===l[l.length-1],h=[];for(e=l.length-1;e>=0;--e)h.push(t[s[l[e]][2]]);for(e=+d;e<u.length-f;++e)h.push(t[s[u[e]][2]]);return h}var n=Mn,i=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},eo.geom.polygon=function(t){return yo(t,Qs),t};var Qs=eo.geom.polygon.prototype=[];Qs.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Qs.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Qs.clip=function(t){for(var e,n,i,r,a,o,s=In(t),c=-1,l=this.length-In(this),u=this[l-1];++c<l;){for(e=t.slice(),t.length=0,r=this[c],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],Fn(o,u,r)?(Fn(a,u,r)||t.push(Pn(a,o,u,r)),t.push(o)):Fn(a,u,r)&&t.push(Pn(a,o,u,r)),a=o;s&&t.push(t[0]),u=r}return t};var Ks,Js,tc,ec,nc,ic=[],rc=[];Bn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ii(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ii(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?ai(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ii(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ri(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ii(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ii(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ri(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},eo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return oi(n(t),s).cells.forEach(function(n,s){var c=n.edges,l=n.site,u=e[s]=c.length?c.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=a&&l.y>=r&&l.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];u.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Do)*Do,y:Math.round(o(t,e)/Do)*Do,i:e}})}var i=Mn,r=En,a=i,o=r,s=ac;return t?e(t):(e.links=function(t){return oi(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return oi(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(Wn),c=-1,l=s.length,u=s[l-1].edge,d=u.l===o?u.r:u.l;++c<l;)r=u,a=d,u=s[c].edge,d=u.l===o?u.r:u.l,i<a.i&&i<d.i&&ci(o,a,d)<0&&e.push([t[i],t[a.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(a=Ct(i=t),e):i},e.y=function(t){return arguments.length?(o=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?ac:t,e):s===ac?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ac?null:s&&s[1]},e)};var ac=[[-1e6,-1e6],[1e6,1e6]];eo.geom.delaunay=function(t){return eo.geom.voronoi().triangles(t)},eo.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var c=t.x,u=t.y;if(null!=c)if(go(c-n)+go(u-i)<.01)l(t,e,n,i,r,a,o,s);else{var d=t.point;t.x=t.y=t.point=null,l(t,d,c,u,r,a,o,s),l(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,a,o,s)}function l(t,e,n,i,r,o,s,c){var l=.5*(r+s),u=.5*(o+c),d=n>=l,f=i>=u,h=f<<1|d;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=di()),d?r=l:s=l,f?o=u:c=u,a(t,e,n,i,r,o,s,c)}var u,d,f,h,g,p,m,v,b,y=Ct(s),x=Ct(c);if(null!=e)p=e,m=n,v=i,b=r;else if(v=b=-(p=m=1/0),d=[],f=[],g=t.length,o)for(h=0;g>h;++h)u=t[h],u.x<p&&(p=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>b&&(b=u.y),d.push(u.x),f.push(u.y);else for(h=0;g>h;++h){var w=+y(u=t[h],h),_=+x(u,h);p>w&&(p=w),m>_&&(m=_),w>v&&(v=w),_>b&&(b=_),d.push(w),f.push(_)}var k=v-p,T=b-m;k>T?b=m+k:v=p+T;var A=di();if(A.add=function(t){a(A,t,+y(t,++h),+x(t,h),p,m,v,b)},A.visit=function(t){fi(t,A,p,m,v,b)},A.find=function(t){return hi(A,t[0],t[1],p,m,v,b)},h=-1,null==e){for(;++h<g;)a(A,t[h],d[h],f[h],p,m,v,b);--h}else t.forEach(A.add);return d=f=t=u=null,A}var o,s=Mn,c=En;return(o=arguments.length)?(s=li,c=ui,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(c=t,a):c},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},eo.interpolateRgb=gi,eo.interpolateObject=pi,eo.interpolateNumber=mi,eo.interpolateString=vi;var oc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sc=new RegExp(oc.source,"g");eo.interpolate=bi,eo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Ko.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gi:vi:e instanceof ot?gi:Array.isArray(e)?yi:"object"===n&&isNaN(e)?pi:mi)(t,e)}],eo.interpolateArray=yi;var cc=function(){return b},lc=eo.map({linear:cc,poly:Ci,quad:function(){return ki},cubic:function(){return Ti},sin:function(){return Si},exp:function(){return Mi},circle:function(){return Ei},elastic:Di,back:Li,bounce:function(){return Fi}}),uc=eo.map({"in":b,out:wi,"in-out":_i,"out-in":function(t){return _i(wi(t))}});eo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=lc.get(n)||cc,i=uc.get(i)||b,xi(i(n.apply(null,no.call(arguments,1))))},eo.interpolateHcl=Pi,eo.interpolateHsl=Ii,eo.interpolateLab=Ni,eo.interpolateRound=Oi,eo.transform=function(t){var e=ro.createElementNS(eo.ns.prefix.svg,"g");return(eo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ri(n?n.matrix:dc)})(t)},Ri.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dc={a:1,b:0,c:0,d:1,e:0,f:0};eo.interpolateTransform=Hi,eo.layout={},eo.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Wi(t[n]));return e}},eo.layout.chord=function(){function t(){var t,l,d,f,h,g={},p=[],m=eo.range(a),v=[];for(n=[],i=[],t=0,f=-1;++f<a;){for(l=0,h=-1;++h<a;)l+=r[f][h];p.push(l),v.push(eo.range(a)),t+=l}for(o&&m.sort(function(t,e){return o(p[t],p[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Po-u*a)/t,l=0,f=-1;++f<a;){for(d=l,h=-1;++h<a;){var b=m[f],y=v[b][h],x=r[b][y],w=l,_=l+=x*t;g[b+"-"+y]={index:b,subindex:y,startAngle:w,endAngle:_,value:x}}i[b]={index:b,startAngle:d,endAngle:l,value:(l-d)/t},l+=u}for(f=-1;++f<a;)for(h=f-1;++h<a;){var k=g[f+"-"+h],T=g[h+"-"+f];(k.value||T.value)&&n.push(k.value<T.value?{source:T,target:k}:{source:k,target:T})}c&&e()}function e(){n.sort(function(t,e){return c((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,c,l={},u=0;return l.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(u=t,n=i=null,l):u},l.sortGroups=function(t){return arguments.length?(o=t,n=i=null,l):o},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(c=t,n&&e(),l):c},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},eo.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,c=a*a+o*o;if(c>s*s/m){if(g>c){var l=e.charge/c;t.px-=a*l,t.py-=o*l}return!0}if(e.point&&c&&g>c){var l=e.pointCharge/c;t.px-=a*l,t.py-=o*l}}return!e.charge}}function e(t){t.px=eo.event.x,t.py=eo.event.y,s.resume()}var n,i,r,a,o,s={},c=eo.dispatch("start","tick","end"),l=[1,1],u=.9,d=fc,f=hc,h=-30,g=gc,p=.1,m=.64,v=[],y=[];return s.tick=function(){if((i*=.99)<.005)return c.end({type:"end",alpha:i=0}),!0;var e,n,s,d,f,g,m,b,x,w=v.length,_=y.length;for(n=0;_>n;++n)s=y[n],d=s.source,f=s.target,b=f.x-d.x,x=f.y-d.y,(g=b*b+x*x)&&(g=i*a[n]*((g=Math.sqrt(g))-r[n])/g,b*=g,x*=g,f.x-=b*(m=d.weight/(f.weight+d.weight)),f.y-=x*m,d.x+=b*(m=1-m),d.y+=x*m);if((m=i*p)&&(b=l[0]/2,x=l[1]/2,n=-1,m))for(;++n<w;)s=v[n],s.x+=(b-s.x)*m,s.y+=(x-s.y)*m;if(h)for(Qi(e=eo.geom.quadtree(v),i,o),n=-1;++n<w;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<w;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);c.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.chargeDistance=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.gravity=function(t){return arguments.length?(p=+t,s):p},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(c.start({type:"start",alpha:i=t}),eo.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(c),s=0;c>s;++s)n[s]=[];for(s=0;u>s;++s){var r=y[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,o=n[e],s=-1,l=o.length;++s<l;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var e,n,i,c=v.length,u=y.length,g=l[0],p=l[1];for(e=0;c>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;c>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",g)),isNaN(i.y)&&(i.y=t("y",p)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof d)for(e=0;u>e;++e)r[e]=+d.call(this,y[e],e);else for(e=0;u>e;++e)r[e]=d;if(a=[],"function"==typeof f)for(e=0;u>e;++e)a[e]=+f.call(this,y[e],e);else for(e=0;u>e;++e)a[e]=f;if(o=[],"function"==typeof h)for(e=0;c>e;++e)o[e]=+h.call(this,v[e],e);else for(e=0;c>e;++e)o[e]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=eo.behavior.drag().origin(b).on("dragstart.force",Ui).on("drag.force",e).on("dragend.force",Gi)),arguments.length?void this.on("mouseover.force",$i).on("mouseout.force",Zi).call(n):n},eo.rebind(s,c,"on")};var fc=20,hc=1,gc=1/0;eo.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(l=n.call(t,a,a.depth))&&(c=l.length)){for(var c,l,u;--c>=0;)o.push(u=l[c]),u.parent=a,u.depth=a.depth+1;i&&(a.value=0),a.children=l}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return tr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=ir,n=er,i=nr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Ji(e,function(t){t.children&&(t.value=0)}),tr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},eo.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,c,l=-1;for(i=e.value?i/e.value:0;++l<o;)t(s=a[l],n,c=s.value*i,r),n+=c}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=eo.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Ki(n,i)},eo.layout.pie=function(){function t(o){var s,c=o.length,l=o.map(function(n,i){return+e.call(t,n,i)}),u=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof r?r.apply(this,arguments):r)-u,f=Math.min(Math.abs(d)/c,+("function"==typeof a?a.apply(this,arguments):a)),h=f*(0>d?-1:1),g=(d-c*h)/eo.sum(l),p=eo.range(c),m=[];return null!=n&&p.sort(n===pc?function(t,e){return l[e]-l[t]}:function(t,e){return n(o[t],o[e])}),p.forEach(function(t){m[t]={data:o[t],value:s=l[t],startAngle:u,endAngle:u+=s*g+h,padAngle:f}}),m}var e=Number,n=pc,i=0,r=Po,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var pc={};eo.layout.stack=function(){function t(s,c){if(!(f=s.length))return s;var l=s.map(function(n,i){return e.call(t,n,i)}),u=l.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,u,c);l=eo.permute(l,d),u=eo.permute(u,d);var f,h,g,p,m=i.call(t,u,c),v=l[0].length;for(g=0;v>g;++g)for(r.call(t,l[0][g],p=m[g],u[0][g][1]),h=1;f>h;++h)r.call(t,l[h][g],p+=u[h-1][g][1],u[h][g][1]);return s}var e=b,n=cr,i=lr,r=sr,a=ar,o=or;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:mc.get(e)||cr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:vc.get(e)||lr,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var mc=eo.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(ur),a=t.map(dr),o=eo.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,c=0,l=[],u=[];for(e=0;i>e;++e)n=o[e],c>s?(s+=a[n],l.push(n)):(c+=a[n],u.push(n));return u.reverse().concat(l)},reverse:function(t){return eo.range(t.length).reverse()},"default":cr}),vc=eo.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,c=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;a>n;++n)c[n]=(s-o[n])/2;return c},wiggle:function(t){var e,n,i,r,a,o,s,c,l,u=t.length,d=t[0],f=d.length,h=[];for(h[0]=c=l=0,n=1;f>n;++n){for(e=0,r=0;u>e;++e)r+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];u>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}h[n]=c-=r?a/r*s:0,l>c&&(l=c)}for(n=0;f>n;++n)h[n]-=l;return h},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:lr});eo.layout.histogram=function(){function t(t,a){for(var o,s,c=[],l=t.map(n,this),u=i.call(this,l,a),d=r.call(this,u,l,a),a=-1,f=l.length,h=d.length-1,g=e?1:1/f;++a<h;)o=c[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(h>0)for(a=-1;++a<f;)s=l[a],s>=u[0]&&s<=u[1]&&(o=c[eo.bisect(d,s,1,h)-1],o.y+=g,o.push(t[a]));return c}var e=!0,n=Number,i=pr,r=hr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Ct(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return gr(t,e)}:Ct(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},eo.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],c=r[0],l=r[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,tr(s,function(t){t.r=+u(t.value)}),tr(s,xr),i){var d=i*(e?1:Math.max(2*s.r/c,2*s.r/l))/2;tr(s,function(t){t.r+=d}),tr(s,xr),tr(s,function(t){t.r-=d})}return kr(s,c/2,l/2,e?1:1/Math.max(2*s.r/c,2*s.r/l)),o}var e,n=eo.layout.hierarchy().sort(mr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Ki(t,n)},eo.layout.tree=function(){function t(t,r){var u=o.call(this,t,r),d=u[0],f=e(d);if(tr(f,n),f.parent.m=-f.z,Ji(f,i),l)Ji(d,a);else{var h=d,g=d,p=d;Ji(d,function(t){t.x<h.x&&(h=t),t.x>g.x&&(g=t),t.depth>p.depth&&(p=t)});var m=s(h,g)/2-h.x,v=c[0]/(g.x+s(g,h)/2+m),b=c[1]/(p.depth||1);Ji(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*b})}return u}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Er(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,c=r.parent.children[0],l=r.m,u=a.m,d=o.m,f=c.m;o=Sr(o),r=Cr(r),o&&r;)c=Cr(c),a=Sr(a),a.a=t,i=o.z+d-r.z-l+s(o._,r._),i>0&&(Mr(Dr(o,t,n),t,i),l+=i,u+=i),d+=o.m,l+=r.m,f+=c.m,u+=a.m;o&&!Sr(a)&&(a.t=o,a.m+=d-u),r&&!Cr(c)&&(c.t=r,c.m+=l-f,n=t)}return n}function a(t){t.x*=c[0],t.y=t.depth*c[1]}var o=eo.layout.hierarchy().sort(null).value(null),s=Ar,c=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(c=e)?a:null,t):l?null:c},t.nodeSize=function(e){return arguments.length?(l=null==(c=e)?null:a,t):l?c:null},Ki(t,o)},eo.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),c=s[0],l=0;tr(c,function(t){var e=t.children;e&&e.length?(t.x=Fr(e),t.y=Lr(e)):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var u=Pr(c),d=Ir(c),f=u.x-n(u,d)/2,h=d.x+n(d,u)/2;return tr(c,r?function(t){t.x=(t.x-c.x)*i[0],t.y=(c.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(h-f)*i[0],t.y=(1-(c.y?t.y/c.y:1))*i[1]}),s}var e=eo.layout.hierarchy().sort(null).value(null),n=Ar,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Ki(t,e)},eo.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,c,l=d(n),u=[],f=a.slice(),g=1/0,p="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),u.area=0;(c=f.length)>0;)u.push(o=f[c-1]),u.area+=o.area,"squarify"!==h||(s=i(u,p))<=g?(f.pop(),g=s):(u.area-=u.pop().area,r(u,p,l,!1),p=Math.min(l.dx,l.dy),u.length=u.area=0,g=1/0);u.length&&(r(u,p,l,!0),u.length=u.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=d(e),s=i.slice(),c=[];for(t(s,o.dx*o.dy/e.value),c.area=0;a=s.pop();)c.push(a),c.area+=a.area,null!=a.z&&(r(c,a.z?o.dx:o.dy,o,!s.length),c.length=c.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*g/i,i/(e*a*g)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,l=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++a<o;)r=t[a],r.x=s,r.y=l,r.dy=u,s+=r.dx=Math.min(n.x+n.dx-s,u?c(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++a<o;)r=t[a],r.x=s,r.y=l,r.dx=u,l+=r.dy=Math.min(n.y+n.dy-l,u?c(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=l[0],a.dy=l[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),
(o?n:e)(a),f&&(o=r),r}var o,s=eo.layout.hierarchy(),c=Math.round,l=[1,1],u=null,d=Nr,f=!1,h="squarify",g=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(l=t,a):l},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Nr(e):Or(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Or(e,t)}if(!arguments.length)return u;var i;return d=null==(u=t)?Nr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(c=t?Math.round:Number,a):c!=Number},a.sticky=function(t){return arguments.length?(f=t,o=null,a):f},a.ratio=function(t){return arguments.length?(g=t,a):g},a.mode=function(t){return arguments.length?(h=t+"",a):h},Ki(a,s)},eo.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=eo.random.normal.apply(eo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=eo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},eo.scale={};var bc={floor:b,ceil:b};eo.scale.linear=function(){return Xr([0,1],[0,1],bi,!1)};var yc={s:1,g:1,p:1,r:1,e:1};eo.scale.log=function(){return Qr(eo.scale.linear().domain([0,1]),10,!0,[1,10])};var xc=eo.format(".0e"),wc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};eo.scale.pow=function(){return Kr(eo.scale.linear(),1,[0,1])},eo.scale.sqrt=function(){return eo.scale.pow().exponent(.5)},eo.scale.ordinal=function(){return ta([],{t:"range",a:[[]]})},eo.scale.category10=function(){return eo.scale.ordinal().range(_c)},eo.scale.category20=function(){return eo.scale.ordinal().range(kc)},eo.scale.category20b=function(){return eo.scale.ordinal().range(Tc)},eo.scale.category20c=function(){return eo.scale.ordinal().range(Ac)};var _c=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),kc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Tc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Ac=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);eo.scale.quantile=function(){return ea([],[])},eo.scale.quantize=function(){return na(0,1,[0,1])},eo.scale.threshold=function(){return ia([.5],[0,1])},eo.scale.identity=function(){return ra([0,1])},eo.svg={},eo.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),u=o.apply(this,arguments)-No,d=s.apply(this,arguments)-No,f=Math.abs(d-u),h=u>d?0:1;if(t>l&&(g=l,l=t,t=g),f>=Io)return e(l,h)+(t?e(t,1-h):"")+"Z";var g,p,m,v,b,y,x,w,_,k,T,A,C=0,S=0,M=[];if((v=(+c.apply(this,arguments)||0)/2)&&(m=a===Cc?Math.sqrt(t*t+l*l):+a.apply(this,arguments),h||(S*=-1),l&&(S=et(m/l*Math.sin(v))),t&&(C=et(m/t*Math.sin(v)))),l){b=l*Math.cos(u+S),y=l*Math.sin(u+S),x=l*Math.cos(d-S),w=l*Math.sin(d-S);var E=Math.abs(d-u-2*S)<=Fo?0:1;if(S&&da(b,y,x,w)===h^E){var D=(u+d)/2;b=l*Math.cos(D),y=l*Math.sin(D),x=w=null}}else b=y=0;if(t){_=t*Math.cos(d-C),k=t*Math.sin(d-C),T=t*Math.cos(u+C),A=t*Math.sin(u+C);var L=Math.abs(u-d+2*C)<=Fo?0:1;if(C&&da(_,k,T,A)===1-h^L){var F=(u+d)/2;_=t*Math.cos(F),k=t*Math.sin(F),T=A=null}}else _=k=0;if((g=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){p=l>t^h?0:1;var P=null==T?[_,k]:null==x?[b,y]:Pn([b,y],[T,A],[x,w],[_,k]),I=b-P[0],N=y-P[1],O=x-P[0],R=w-P[1],z=1/Math.sin(Math.acos((I*O+N*R)/(Math.sqrt(I*I+N*N)*Math.sqrt(O*O+R*R)))/2),j=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(null!=x){var q=Math.min(g,(l-j)/(z+1)),H=fa(null==T?[_,k]:[T,A],[b,y],l,q,h),B=fa([x,w],[_,k],l,q,h);g===q?M.push("M",H[0],"A",q,",",q," 0 0,",p," ",H[1],"A",l,",",l," 0 ",1-h^da(H[1][0],H[1][1],B[1][0],B[1][1]),",",h," ",B[1],"A",q,",",q," 0 0,",p," ",B[0]):M.push("M",H[0],"A",q,",",q," 0 1,",p," ",B[0])}else M.push("M",b,",",y);if(null!=T){var X=Math.min(g,(t-j)/(z-1)),W=fa([b,y],[T,A],t,-X,h),Y=fa([_,k],null==x?[b,y]:[x,w],t,-X,h);g===X?M.push("L",Y[0],"A",X,",",X," 0 0,",p," ",Y[1],"A",t,",",t," 0 ",h^da(Y[1][0],Y[1][1],W[1][0],W[1][1]),",",1-h," ",W[1],"A",X,",",X," 0 0,",p," ",W[0]):M.push("L",Y[0],"A",X,",",X," 0 0,",p," ",W[0])}else M.push("L",_,",",k)}else M.push("M",b,",",y),null!=x&&M.push("A",l,",",l," 0 ",E,",",h," ",x,",",w),M.push("L",_,",",k),null!=T&&M.push("A",t,",",t," 0 ",L,",",1-h," ",T,",",A);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=oa,i=sa,r=aa,a=Cc,o=ca,s=la,c=ua;return t.innerRadius=function(e){return arguments.length?(n=Ct(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Ct(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Ct(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==Cc?Cc:Ct(e),t):a},t.startAngle=function(e){return arguments.length?(o=Ct(e),t):o},t.endAngle=function(e){return arguments.length?(s=Ct(e),t):s},t.padAngle=function(e){return arguments.length?(c=Ct(e),t):c},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-No;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Cc="auto";eo.svg.line=function(){return ha(b)};var Sc=eo.map({linear:ga,"linear-closed":pa,step:ma,"step-before":va,"step-after":ba,basis:Ta,"basis-open":Aa,"basis-closed":Ca,bundle:Sa,cardinal:wa,"cardinal-open":ya,"cardinal-closed":xa,monotone:Pa});Sc.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Mc=[0,2/3,1/3,0],Ec=[0,1/3,2/3,0],Dc=[0,1/6,2/3,1/6];eo.svg.line.radial=function(){var t=ha(Ia);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},va.reverse=ba,ba.reverse=va,eo.svg.area=function(){return Na(b)},eo.svg.area.radial=function(){var t=Na(Ia);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},eo.svg.chord=function(){function t(t,s){var c=e(this,a,t,s),l=e(this,o,t,s);return"M"+c.p0+i(c.r,c.p1,c.a1-c.a0)+(n(c,l)?r(c.r,c.p1,c.r,c.p0):r(c.r,c.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,c.r,c.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=c.call(t,r,i)-No,u=l.call(t,r,i)-No;return{r:a,a0:o,a1:u,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Fo)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=bn,o=yn,s=Oa,c=ca,l=la;return t.radius=function(e){return arguments.length?(s=Ct(e),t):s},t.source=function(e){return arguments.length?(a=Ct(e),t):a},t.target=function(e){return arguments.length?(o=Ct(e),t):o},t.startAngle=function(e){return arguments.length?(c=Ct(e),t):c},t.endAngle=function(e){return arguments.length?(l=Ct(e),t):l},t},eo.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,c=[a,{x:a.x,y:s},{x:o.x,y:s},o];return c=c.map(i),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var e=bn,n=yn,i=Ra;return t.source=function(n){return arguments.length?(e=Ct(n),t):e},t.target=function(e){return arguments.length?(n=Ct(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},eo.svg.diagonal.radial=function(){var t=eo.svg.diagonal(),e=Ra,n=t.projection;return t.projection=function(t){return arguments.length?n(za(e=t)):e},t},eo.svg.symbol=function(){function t(t,i){return(Lc.get(e.call(this,t,i))||Ha)(n.call(this,t,i))}var e=qa,n=ja;return t.type=function(n){return arguments.length?(e=Ct(n),t):e},t.size=function(e){return arguments.length?(n=Ct(e),t):n},t};var Lc=eo.map({circle:Ha,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pc)),n=e*Pc;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fc),n=e*Fc/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fc),n=e*Fc/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});eo.svg.symbolTypes=Lc.keys();var Fc=Math.sqrt(3),Pc=Math.tan(30*Oo);ko.transition=function(t){for(var e,n,i=Ic||++zc,r=Va(t),a=[],o=Nc||{time:Date.now(),ease:Ai,delay:0,duration:250},s=-1,c=this.length;++s<c;){a.push(e=[]);for(var l=this[s],u=-1,d=l.length;++u<d;)(n=l[u])&&Ua(n,u,r,i,o),e.push(n)}return Xa(a,r,i)},ko.interrupt=function(t){return this.each(null==t?Oc:Ba(Va(t)))};var Ic,Nc,Oc=Ba(Va()),Rc=[],zc=0;Rc.call=ko.call,Rc.empty=ko.empty,Rc.node=ko.node,Rc.size=ko.size,eo.transition=function(t,e){return t&&t.transition?Ic?t.transition(e):t:eo.selection().transition(t)},eo.transition.prototype=Rc,Rc.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=M(t);for(var s=-1,c=this.length;++s<c;){o.push(e=[]);for(var l=this[s],u=-1,d=l.length;++u<d;)(i=l[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ua(n,u,a,r,i[a][r]),e.push(n)):e.push(null)}return Xa(o,a,r)},Rc.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,c=[];t=E(t);for(var l=-1,u=this.length;++l<u;)for(var d=this[l],f=-1,h=d.length;++f<h;)if(i=d[f]){a=i[s][o],n=t.call(i,i.__data__,f,l),c.push(e=[]);for(var g=-1,p=n.length;++g<p;)(r=n[g])&&Ua(r,g,s,o,a),e.push(r)}return Xa(c,s,o)},Rc.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=H(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]);for(var n=this[a],s=0,c=n.length;c>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Xa(r,this.namespace,this.id)},Rc.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):X(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Rc.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Hi:bi,s=eo.ns.qualify(t);return Wa(this,"attr."+t,e,s.local?a:r)},Rc.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=eo.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Rc.style=function(t,n,i){function r(){this.style.removeProperty(t)}function a(n){return null==n?r:(n+="",function(){var r,a=e(this).getComputedStyle(this,null).getPropertyValue(t);return a!==n&&(r=bi(a,n),function(e){this.style.setProperty(t,r(e),i)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Wa(this,"style."+t,n,a)},Rc.styleTween=function(t,n,i){function r(r,a){var o=n.call(this,r,a,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Rc.text=function(t){return Wa(this,"text",t,Ya)},Rc.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Rc.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=eo.ease.apply(eo,arguments)),X(this,function(i){i[n][e].ease=t}))},Rc.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:X(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Rc.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:X(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Rc.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Nc,a=Ic;try{Ic=n,X(this,function(e,r,a){Nc=e[i][n],t.call(e,e.__data__,r,a)})}finally{Nc=r,Ic=a}}else X(this,function(r){var a=r[i][n];(a.event||(a.event=eo.dispatch("start","end","interrupt"))).on(t,e)});return this},Rc.transition=function(){for(var t,e,n,i,r=this.id,a=++zc,o=this.namespace,s=[],c=0,l=this.length;l>c;c++){s.push(t=[]);for(var e=this[c],u=0,d=e.length;d>u;u++)(n=e[u])&&(i=n[o][r],Ua(n,u,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Xa(s,o,a)},eo.svg.axis=function(){function t(t){t.each(function(){var t,l=eo.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==c?d.ticks?d.ticks.apply(d,s):d.domain():c,h=null==e?d.tickFormat?d.tickFormat.apply(d,s):b:e,g=l.selectAll(".tick").data(f,d),p=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Do),m=eo.transition(g.exit()).style("opacity",Do).remove(),v=eo.transition(g.order()).style("opacity",1),y=Math.max(r,0)+o,x=zr(d),w=l.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),eo.transition(w));p.append("line"),p.append("text");var k,T,A,C,S=p.select("line"),M=v.select("line"),E=g.select("text").text(h),D=p.select("text"),L=v.select("text"),F="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Ga,k="x",A="y",T="x2",C="y2",E.attr("dy",0>F?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+F*a+"V0H"+x[1]+"V"+F*a)):(t=$a,k="y",A="x",T="y2",C="x2",E.attr("dy",".32em").style("text-anchor",0>F?"end":"start"),_.attr("d","M"+F*a+","+x[0]+"H0V"+x[1]+"H"+F*a)),S.attr(C,F*r),D.attr(A,F*y),M.attr(T,0).attr(C,F*r),L.attr(k,0).attr(A,F*y),d.rangeBand){var P=d,I=P.rangeBand()/2;u=d=function(t){return P(t)+I}}else u.rangeBand?u=d:m.call(t,d,u);p.call(t,u,d),v.call(t,d,d)})}var e,n=eo.scale.linear(),i=jc,r=6,a=6,o=3,s=[10],c=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in qc?e+"":jc,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(c=e,t):c},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var jc="bottom",qc={top:1,right:1,bottom:1,left:1};eo.svg.brush=function(){function t(e){e.each(function(){var e=eo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(p,b);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,d=eo.transition(e),f=eo.transition(o);l&&(c=zr(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),i(d)),u&&(c=zr(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function a(){function a(){32==eo.event.keyCode&&(E||(y=null,L[0]-=d[1],L[1]-=f[1],E=2),T())}function p(){32==eo.event.keyCode&&2==E&&(L[0]+=d[1],L[1]+=f[1],E=0,T())}function m(){var t=eo.mouse(w),e=!1;x&&(t[0]+=x[0],t[1]+=x[1]),E||(eo.event.altKey?(y||(y=[(d[0]+d[1])/2,(f[0]+f[1])/2]),L[0]=d[+(t[0]<y[0])],L[1]=f[+(t[1]<y[1])]):y=null),S&&v(t,l,0)&&(i(A),e=!0),M&&v(t,u,1)&&(r(A),e=!0),e&&(n(A),k({type:"brush",mode:E?"move":"resize"}))}function v(t,e,n){var i,r,a=zr(e),c=a[0],l=a[1],u=L[n],p=n?f:d,m=p[1]-p[0];return E&&(c-=u,l-=m+u),i=(n?g:h)?Math.max(c,Math.min(l,t[n])):t[n],E?r=(i+=u)+m:(y&&(u=Math.max(c,Math.min(l,2*y[n]-i))),i>u?(r=i,i=u):r=u),p[0]!=i||p[1]!=r?(n?s=null:o=null,p[0]=i,p[1]=r,!0):void 0}function b(){m(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),eo.select("body").style("cursor",null),F.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),k({type:"brushend"})}var y,x,w=this,_=eo.select(eo.event.target),k=c.of(w,arguments),A=eo.select(w),C=_.datum(),S=!/^(n|s)$/.test(C)&&l,M=!/^(e|w)$/.test(C)&&u,E=_.classed("extent"),D=$(w),L=eo.mouse(w),F=eo.select(e(w)).on("keydown.brush",a).on("keyup.brush",p);if(eo.event.changedTouches?F.on("touchmove.brush",m).on("touchend.brush",b):F.on("mousemove.brush",m).on("mouseup.brush",b),A.interrupt().selectAll("*").interrupt(),E)L[0]=d[0]-L[0],L[1]=f[0]-L[1];else if(C){var P=+/w$/.test(C),I=+/^n/.test(C);x=[d[1-P]-L[0],f[1-I]-L[1]],L[0]=d[P],L[1]=f[I]}else eo.event.altKey&&(y=L.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),eo.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),m()}var o,s,c=C(t,"brushstart","brush","brushend"),l=null,u=null,d=[0,0],f=[0,0],h=!0,g=!0,p=Bc[0];return t.event=function(t){t.each(function(){var t=c.of(this,arguments),e={x:d,y:f,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Ic?eo.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,d=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=yi(d,e.x),i=yi(f,e.y);return o=s=null,function(r){d=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Bc[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Bc[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(h=!!e[0],g=!!e[1]):l?h=!!e:u&&(g=!!e),t):l&&u?[h,g]:l?h:u?g:null},t.extent=function(e){var n,i,r,a,c;return arguments.length?(l&&(n=e[0],i=e[1],u&&(n=n[0],i=i[0]),o=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(c=n,n=i,i=c),(n!=d[0]||i!=d[1])&&(d=[n,i])),u&&(r=e[0],a=e[1],l&&(r=r[1],a=a[1]),s=[r,a],u.invert&&(r=u(r),a=u(a)),r>a&&(c=r,r=a,a=c),(r!=f[0]||a!=f[1])&&(f=[r,a])),t):(l&&(o?(n=o[0],i=o[1]):(n=d[0],i=d[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(c=n,n=i,i=c))),u&&(s?(r=s[0],a=s[1]):(r=f[0],a=f[1],u.invert&&(r=u.invert(r),a=u.invert(a)),r>a&&(c=r,r=a,a=c))),l&&u?[[n,r],[i,a]]:l?[n,i]:u&&[r,a])},t.clear=function(){return t.empty()||(d=[0,0],f=[0,0],o=s=null),t},t.empty=function(){return!!l&&d[0]==d[1]||!!u&&f[0]==f[1]},eo.rebind(t,c,"on")};var Hc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xc=cs.format=gs.timeFormat,Wc=Xc.utc,Yc=Wc("%Y-%m-%dT%H:%M:%S.%LZ");Xc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Za:Yc,Za.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Za.toString=Yc.toString,cs.second=jt(function(t){return new ls(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),cs.seconds=cs.second.range,cs.seconds.utc=cs.second.utc.range,cs.minute=jt(function(t){return new ls(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),cs.minutes=cs.minute.range,cs.minutes.utc=cs.minute.utc.range,cs.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ls(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),cs.hours=cs.hour.range,cs.hours.utc=cs.hour.utc.range,cs.month=jt(function(t){return t=cs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),cs.months=cs.month.range,cs.months.utc=cs.month.utc.range;var Vc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Uc=[[cs.second,1],[cs.second,5],[cs.second,15],[cs.second,30],[cs.minute,1],[cs.minute,5],[cs.minute,15],[cs.minute,30],[cs.hour,1],[cs.hour,3],[cs.hour,6],[cs.hour,12],[cs.day,1],[cs.day,2],[cs.week,1],[cs.month,1],[cs.month,3],[cs.year,1]],Gc=Xc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),$c={range:function(t,e,n){return eo.range(Math.ceil(t/n)*n,+e,n).map(Ka)},floor:b,ceil:b};Uc.year=cs.year,cs.scale=function(){return Qa(eo.scale.linear(),Uc,Gc)};var Zc=Uc.map(function(t){return[t[0].utc,t[1]]}),Qc=Wc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Zc.year=cs.year.utc,cs.scale.utc=function(){return Qa(eo.scale.linear(),Zc,Qc)},eo.text=St(function(t){return t.responseText}),eo.json=function(t,e){return Mt(t,"application/json",Ja,e)},eo.html=function(t,e){return Mt(t,"text/html",to,e)},eo.xml=St(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(eo):"object"==typeof module&&module.exports&&(module.exports=eo),this.d3=eo}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Trianglify=t()}}(function(){var t;return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({"./lib/trianglify.js":[function(t,e){function n(t){function e(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}function n(n,i){for(var r=[],a=-b;n+b>a;a+=t.cell_size)for(var o=-y;i+y>o;o+=t.cell_size){var s=a+t.cell_size/2+e(rand(),[0,1],[-x,x]),c=o+t.cell_size/2+e(rand(),[0,1],[-x,x]);r.push([s,c].map(Math.floor))}return r}function o(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3}}function l(){if(t.palette instanceof Array)return t.palette[Math.floor(rand()*t.palette.length)];var e=Object.keys(t.palette);return t.palette[e[Math.floor(rand()*e.length)]]}function u(t,e){var n={};for(var i in t)n[i]=t[i];for(i in e){if(!t.hasOwnProperty(i))throw new Error(i+" is not a configuration option for Trianglify. Check your spelling?");n[i]=e[i]}return n}if(t=u(c,t),rand=r(t.seed),"random"===t.x_colors&&(t.x_colors=l()),"random"===t.y_colors&&(t.y_colors=l()),"match_x"===t.y_colors&&(t.y_colors=t.x_colors),!(t.width>0&&t.height>0))throw new Error("Width and height must be numbers greater than 0");if(t.cell_size<2)throw new Error("Cell size must be greater than 2.");var d;if(t.color_function)d=function(e,n){return a(t.color_function(e,n))};else{var f=a.scale(t.x_colors).mode(t.color_space),h=a.scale(t.y_colors).mode(t.color_space);d=function(e,n){return a.interpolate(f(e),h(n),.5,t.color_space)}}for(var g=t.width,p=t.height,m=Math.floor((g+4*t.cell_size)/t.cell_size),v=Math.floor((p+4*t.cell_size)/t.cell_size),b=(m*t.cell_size-g)/2,y=(v*t.cell_size-p)/2,x=t.cell_size*t.variance/2,w=function(t){return e(t,[-b,g+b],[0,1])},_=function(t){return e(t,[-y,p+y],[0,1])},k=n(g,p),T=i.triangulate(k),A=[],C=function(t){return k[t]},S=0;S<T.length;S+=3){var M=[T[S],T[S+1],T[S+2]].map(C),E=o(M),D=d(w(E.x),_(E.y)).hex();A.push([D,M])}return s(A,t)}var i=t("delaunay-fast"),r=t("seedrandom"),a=t("chroma-js"),o=t("./colorbrewer"),s=t("./pattern"),c={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:o,color_space:"lab",color_function:null,stroke_width:1.51};n.colorbrewer=o,n.defaults=c,e.exports=n},{"./colorbrewer":"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Projects/trianglify/lib/pattern.js","chroma-js":"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js":[function(t,e){e.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Projects/trianglify/lib/pattern.js":[function(t,e){function n(t,e){function n(){var n=i.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",e.width),n.setAttribute("height",e.height),t.forEach(function(t){var r=i.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","M"+t[1].join("L")+"Z"),r.setAttribute("fill",t[0]),r.setAttribute("stroke",t[0]),r.setAttribute("stroke-width",e.stroke_width),n.appendChild(r)}),n}function r(n){return n||(n=i.createElement("canvas")),n.setAttribute("width",e.width),n.setAttribute("height",e.height),ctx=n.getContext("2d"),ctx.canvas.width=e.width,ctx.canvas.height=e.height,t.forEach(function(t){ctx.fillStyle=ctx.strokeStyle=t[0],ctx.lineWidth=e.stroke_width,ctx.beginPath(),ctx.moveTo.apply(ctx,t[1][0]),ctx.lineTo.apply(ctx,t[1][1]),ctx.lineTo.apply(ctx,t[1][2]),ctx.fill(),ctx.stroke()}),n}function a(){return r().toDataURL("image/png")}return{polys:t,opts:e,svg:n,canvas:r,png:a}}var i="undefined"!=typeof document?document:t("jsdom").jsdom("<html/>");e.exports=n},{jsdom:"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js":[function(e,n,i){(function(){var e,r,a,o,s,c,l,u,d,f,h,g,p,m,v,b,y,x,w,_,k,T,A,C,S,M,E,D,L,F,P,I,N,O,R,z,j,q,H;f=function(t,n,i,r){return new e(t,n,i,r)},"undefined"!=typeof n&&null!==n&&null!=n.exports&&(n.exports=f),"function"==typeof t&&t.amd?t([],function(){return f}):(O="undefined"!=typeof i&&null!==i?i:this,O.chroma=f),f.color=function(t,n,i,r){return new e(t,n,i,r)},f.hsl=function(t,n,i,r){return new e(t,n,i,r,"hsl")},f.hsv=function(t,n,i,r){return new e(t,n,i,r,"hsv")},f.rgb=function(t,n,i,r){return new e(t,n,i,r,"rgb")},f.hex=function(t){return new e(t)},f.css=function(t){return new e(t)},f.lab=function(t,n,i){return new e(t,n,i,"lab")},f.lch=function(t,n,i){return new e(t,n,i,"lch")},f.hsi=function(t,n,i){return new e(t,n,i,"hsi")},f.gl=function(t,n,i,r){return new e(255*t,255*n,255*i,r,"gl")},f.interpolate=function(t,n,i,r){return null==t||null==n?"#000":("string"===R(t)&&(t=new e(t)),"string"===R(n)&&(n=new e(n)),t.interpolate(i,n,r))},f.mix=f.interpolate,f.contrast=function(t,n){var i,r;return"string"===R(t)&&(t=new e(t)),"string"===R(n)&&(n=new e(n)),i=t.luminance(),r=n.luminance(),i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)},f.luminance=function(t){return f(t).luminance()},f._Color=e,e=function(){function t(){var t,e,n,i,r,a,o,s,c,l,u,d,f,g,p,m;for(r=this,n=[],l=0,u=arguments.length;u>l;l++)e=arguments[l],null!=e&&n.push(e);if(0===n.length)d=[255,0,255,1,"rgb"],o=d[0],s=d[1],c=d[2],t=d[3],i=d[4];else if("array"===R(n[0])){
if(3===n[0].length)f=n[0],o=f[0],s=f[1],c=f[2],t=1;else{if(4!==n[0].length)throw"unknown input argument";g=n[0],o=g[0],s=g[1],c=g[2],t=g[3]}i=null!=(p=n[1])?p:"rgb"}else"string"===R(n[0])?(o=n[0],i="hex"):"object"===R(n[0])?(m=n[0]._rgb,o=m[0],s=m[1],c=m[2],t=m[3],i="rgb"):n.length>=3&&(o=n[0],s=n[1],c=n[2]);3===n.length?(i="rgb",t=1):4===n.length?"string"===R(n[3])?(i=n[3],t=1):"number"===R(n[3])&&(i="rgb",t=n[3]):5===n.length&&(t=n[3],i=n[4]),null==t&&(t=1),"rgb"===i?r._rgb=[o,s,c,t]:"gl"===i?r._rgb=[255*o,255*s,255*c,t]:"hsl"===i?(r._rgb=y(o,s,c),r._rgb[3]=t):"hsv"===i?(r._rgb=x(o,s,c),r._rgb[3]=t):"hex"===i?r._rgb=v(o):"lab"===i?(r._rgb=_(o,s,c),r._rgb[3]=t):"lch"===i?(r._rgb=A(o,s,c),r._rgb[3]=t):"hsi"===i&&(r._rgb=b(o,s,c),r._rgb[3]=t),a=h(r._rgb)}return t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},t.prototype.hex=function(){return E(this._rgb)},t.prototype.toString=function(){return this.name()},t.prototype.hsl=function(){return L(this._rgb)},t.prototype.hsv=function(){return F(this._rgb)},t.prototype.lab=function(){return P(this._rgb)},t.prototype.lch=function(){return I(this._rgb)},t.prototype.hsi=function(){return D(this._rgb)},t.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},t.prototype.luminance=function(e,n){var i,r,a,o;return null==n&&(n="rgb"),arguments.length?(0===e&&(this._rgb=[0,0,0,this._rgb[3]]),1===e&&(this._rgb=[255,255,255,this._rgb[3]]),i=S(this._rgb),r=1e-7,a=20,o=function(t,i){var s,c;return c=t.interpolate(.5,i,n),s=c.luminance(),Math.abs(e-s)<r||!a--?c:s>e?o(t,c):o(c,i)},this._rgb=(i>e?o(new t("black"),this):o(this,new t("white"))).rgba(),this):S(this._rgb)},t.prototype.name=function(){var t,e;t=this.hex();for(e in f.colors)if(t===f.colors[e])return e;return t},t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.css=function(t){var e,n,i,r;return null==t&&(t="rgb"),n=this,i=n._rgb,3===t.length&&i[3]<1&&(t+="a"),"rgb"===t?t+"("+i.slice(0,3).map(Math.round).join(",")+")":"rgba"===t?t+"("+i.slice(0,3).map(Math.round).join(",")+","+i[3]+")":"hsl"===t||"hsla"===t?(e=n.hsl(),r=function(t){return Math.round(100*t)/100},e[0]=r(e[0]),e[1]=r(100*e[1])+"%",e[2]=r(100*e[2])+"%",4===t.length&&(e[3]=i[3]),t+"("+e.join(",")+")"):void 0},t.prototype.interpolate=function(e,n,i){var r,a,o,s,c,l,u,d,f,h,g,p,m,v;if(d=this,null==i&&(i="rgb"),"string"===R(n)&&(n=new t(n)),"hsl"===i||"hsv"===i||"lch"===i||"hsi"===i)"hsl"===i?(m=d.hsl(),v=n.hsl()):"hsv"===i?(m=d.hsv(),v=n.hsv()):"hsi"===i?(m=d.hsi(),v=n.hsi()):"lch"===i&&(m=d.lch(),v=n.lch()),"h"===i.substr(0,1)?(o=m[0],g=m[1],l=m[2],s=v[0],p=v[1],u=v[2]):(l=m[0],g=m[1],o=m[2],u=v[0],p=v[1],s=v[2]),isNaN(o)||isNaN(s)?isNaN(o)?isNaN(s)?a=Number.NaN:(a=s,1!==l&&0!==l||"hsv"===i||(h=p)):(a=o,1!==u&&0!==u||"hsv"===i||(h=g)):(r=s>o&&s-o>180?s-(o+360):o>s&&o-s>180?s+360-o:s-o,a=o+e*r),null==h&&(h=g+e*(p-g)),c=l+e*(u-l),f="h"===i.substr(0,1)?new t(a,h,c,i):new t(c,h,a,i);else if("rgb"===i)m=d._rgb,v=n._rgb,f=new t(m[0]+e*(v[0]-m[0]),m[1]+e*(v[1]-m[1]),m[2]+e*(v[2]-m[2]),i);else{if("lab"!==i)throw"color mode "+i+" is not supported";m=d.lab(),v=n.lab(),f=new t(m[0]+e*(v[0]-m[0]),m[1]+e*(v[1]-m[1]),m[2]+e*(v[2]-m[2]),i)}return f.alpha(d.alpha()+e*(n.alpha()-d.alpha())),f},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),f(e[0]*t,e[1]*t,e[2]*t,t)},t.prototype.darken=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[0]-=t,f.lch(e).alpha(n.alpha())},t.prototype.darker=function(t){return this.darken(t)},t.prototype.brighten=function(t){return null==t&&(t=20),this.darken(-t)},t.prototype.brighter=function(t){return this.brighten(t)},t.prototype.saturate=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[1]+=t,f.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=20),this.saturate(-t)},t}(),h=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},m=function(t){var e,n,i,r,a,o,s,c;if(t=t.toLowerCase(),null!=f.colors&&f.colors[t])return v(f.colors[t]);if(i=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(r=i.slice(1,4),n=a=0;2>=a;n=++a)r[n]=+r[n];r[3]=1}else if(i=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(r=i.slice(1,5),n=o=0;3>=o;n=++o)r[n]=+r[n];else if(i=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(r=i.slice(1,4),n=s=0;2>=s;n=++s)r[n]=Math.round(2.55*r[n]);r[3]=1}else if(i=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(r=i.slice(1,5),n=c=0;2>=c;n=++c)r[n]=Math.round(2.55*r[n]);r[3]=+r[3]}else(i=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(e=i.slice(1,4),e[1]*=.01,e[2]*=.01,r=y(e),r[3]=1):(i=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(e=i.slice(1,4),e[1]*=.01,e[2]*=.01,r=y(e),r[3]=+i[4]);return r},v=function(t){var e,n,i,r,a,o;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),o=parseInt(t,16),r=o>>16,i=o>>8&255,n=255&o,[r,i,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),o=parseInt(t,16),r=o>>24&255,i=o>>16&255,n=o>>8&255,e=255&o,[r,i,n,e];if(a=m(t))return a;throw"unknown color: "+t},b=function(t,e,n){var i,r,s,c;return c=z(arguments),t=c[0],e=c[1],n=c[2],t/=360,1/3>t?(i=(1-e)/3,s=(1+e*p(o*t)/p(a-o*t))/3,r=1-(i+s)):2/3>t?(t-=1/3,s=(1-e)/3,r=(1+e*p(o*t)/p(a-o*t))/3,i=1-(s+r)):(t-=2/3,r=(1-e)/3,i=(1+e*p(o*t)/p(a-o*t))/3,s=1-(r+i)),s=C(n*s*3),r=C(n*r*3),i=C(n*i*3),[255*s,255*r,255*i]},y=function(){var t,e,n,i,r,a,o,s,c,l,u,d,f,h;if(f=z(arguments),i=f[0],s=f[1],a=f[2],0===s)o=n=t=255*a;else{for(u=[0,0,0],e=[0,0,0],l=.5>a?a*(1+s):a+s-a*s,c=2*a-l,i/=360,u[0]=i+1/3,u[1]=i,u[2]=i-1/3,r=d=0;2>=d;r=++d)u[r]<0&&(u[r]+=1),u[r]>1&&(u[r]-=1),e[r]=6*u[r]<1?c+6*(l-c)*u[r]:2*u[r]<1?l:3*u[r]<2?c+(l-c)*(2/3-u[r])*6:c;h=[Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])],o=h[0],n=h[1],t=h[2]}return[o,n,t]},x=function(){var t,e,n,i,r,a,o,s,c,l,u,d,f,h,g,p,m,v;if(d=z(arguments),i=d[0],c=d[1],u=d[2],u*=255,0===c)s=n=t=u;else switch(360===i&&(i=0),i>360&&(i-=360),0>i&&(i+=360),i/=60,r=Math.floor(i),e=i-r,a=u*(1-c),o=u*(1-c*e),l=u*(1-c*(1-e)),r){case 0:f=[u,l,a],s=f[0],n=f[1],t=f[2];break;case 1:h=[o,u,a],s=h[0],n=h[1],t=h[2];break;case 2:g=[a,u,l],s=g[0],n=g[1],t=g[2];break;case 3:p=[a,o,u],s=p[0],n=p[1],t=p[2];break;case 4:m=[l,a,u],s=m[0],n=m[1],t=m[2];break;case 5:v=[u,a,o],s=v[0],n=v[1],t=v[2]}return s=Math.round(s),n=Math.round(n),t=Math.round(t),[s,n,t]},r=18,s=.95047,c=1,l=1.08883,w=function(){var t,e,n,i,r,a;return a=z(arguments),r=a[0],t=a[1],e=a[2],n=Math.sqrt(t*t+e*e),i=Math.atan2(e,t)/Math.PI*180,[r,n,i]},_=function(t,e,n){var i,r,a,o,u,d,f;return void 0!==t&&3===t.length&&(d=t,t=d[0],e=d[1],n=d[2]),void 0!==t&&3===t.length&&(f=t,t=f[0],e=f[1],n=f[2]),o=(t+16)/116,a=o+e/500,u=o-n/200,a=k(a)*s,o=k(o)*c,u=k(u)*l,r=q(3.2404542*a-1.5371385*o-.4985314*u),i=q(-.969266*a+1.8760108*o+.041556*u),n=q(.0556434*a-.2040259*o+1.0572252*u),[C(r,0,255),C(i,0,255),C(n,0,255),1]},k=function(t){return t>.206893034?t*t*t:(t-4/29)/7.787037},q=function(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))},T=function(){var t,e,n,i;return i=z(arguments),n=i[0],t=i[1],e=i[2],e=e*Math.PI/180,[n,Math.cos(e)*t,Math.sin(e)*t]},A=function(t,e,n){var i,r,a,o,s,c,l;return c=T(t,e,n),i=c[0],r=c[1],a=c[2],l=_(i,r,a),s=l[0],o=l[1],a=l[2],[C(s,0,255),C(o,0,255),C(a,0,255)]},S=function(t,e,n){var i;return i=z(arguments),t=i[0],e=i[1],n=i[2],t=M(t),e=M(e),n=M(n),.2126*t+.7152*e+.0722*n},M=function(t){return t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},E=function(){var t,e,n,i,r,a;return a=z(arguments),n=a[0],e=a[1],t=a[2],r=n<<16|e<<8|t,i="000000"+r.toString(16),"#"+i.substr(i.length-6)},D=function(){var t,e,n,i,r,a,o,s,c;return c=z(arguments),o=c[0],n=c[1],e=c[2],t=2*Math.PI,o/=255,n/=255,e/=255,a=Math.min(o,n,e),r=(o+n+e)/3,s=1-a/r,0===s?i=0:(i=(o-n+(o-e))/2,i/=Math.sqrt((o-n)*(o-n)+(o-e)*(n-e)),i=Math.acos(i),e>n&&(i=t-i),i/=t),[360*i,s,r]},L=function(t,e,n){var i,r,a,o,s,c;return void 0!==t&&t.length>=3&&(c=t,t=c[0],e=c[1],n=c[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),a=Math.max(t,e,n),r=(a+o)/2,a===o?(s=0,i=Number.NaN):s=.5>r?(a-o)/(a+o):(a-o)/(2-a-o),t===a?i=(e-n)/(a-o):e===a?i=2+(n-t)/(a-o):n===a&&(i=4+(t-e)/(a-o)),i*=60,0>i&&(i+=360),[i,s,r]},F=function(){var t,e,n,i,r,a,o,s,c,l;return l=z(arguments),o=l[0],n=l[1],t=l[2],a=Math.min(o,n,t),r=Math.max(o,n,t),e=r-a,c=r/255,0===r?(i=Number.NaN,s=0):(s=e/r,o===r&&(i=(n-t)/e),n===r&&(i=2+(t-o)/e),t===r&&(i=4+(o-n)/e),i*=60,0>i&&(i+=360)),[i,s,c]},P=function(){var t,e,n,i,r,a,o;return o=z(arguments),n=o[0],e=o[1],t=o[2],n=N(n),e=N(e),t=N(t),i=j((.4124564*n+.3575761*e+.1804375*t)/s),r=j((.2126729*n+.7151522*e+.072175*t)/c),a=j((.0193339*n+.119192*e+.9503041*t)/l),[116*r-16,500*(i-r),200*(r-a)]},N=function(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},j=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},I=function(){var t,e,n,i,r,a,o;return a=z(arguments),r=a[0],n=a[1],e=a[2],o=P(r,n,e),i=o[0],t=o[1],e=o[2],w(i,t,e)},f.scale=function(t,e){var n,i,r,a,o,s,c,l,u,d,h,g,p,m,v,b,y,x,w,_,k;return b="rgb",y=f("#ccc"),k=0,p=!1,g=[0,1],d=[],w=!1,_=[],v=0,m=1,h=!1,x=0,u={},s=function(t,e){var n,i,r,a,s,c,l;if(null==t&&(t=["#ddd","#222"]),null!=t&&"string"===R(t)&&null!=(null!=(s=f.brewer)?s[t]:void 0)&&(t=f.brewer[t]),"array"===R(t)){for(t=t.slice(0),n=r=0,c=t.length-1;c>=0?c>=r:r>=c;n=c>=0?++r:--r)i=t[n],"string"===R(i)&&(t[n]=f(i));if(null!=e)_=e;else for(_=[],n=a=0,l=t.length-1;l>=0?l>=a:a>=l;n=l>=0?++a:--a)_.push(n/(t.length-1))}return o(),d=t},c=function(t){return null==t&&(t=[]),g=t,v=t[0],m=t[t.length-1],o(),x=2===t.length?0:t.length-1},r=function(t){var e,n;if(null!=g){for(n=g.length-1,e=0;n>e&&t>=g[e];)e++;return e-1}return 0},l=function(t){return t},n=function(t){var e,n,i,a,o;return o=t,g.length>2&&(a=g.length-1,e=r(t),i=g[0]+(g[1]-g[0])*(0+.5*k),n=g[a-1]+(g[a]-g[a-1])*(1-.5*k),o=v+(g[e]+.5*(g[e+1]-g[e])-i)/(n-i)*(m-v)),o},a=function(t,e){var n,i,a,o,s,c,h,p,w;if(null==e&&(e=!1),isNaN(t))return y;if(e?h=t:g.length>2?(n=r(t),h=n/(x-1)):(h=a=v!==m?(t-v)/(m-v):0,h=a=(t-v)/(m-v),h=Math.min(1,Math.max(0,h))),e||(h=l(h)),s=Math.floor(1e4*h),u[s])i=u[s];else{if("array"===R(d))for(o=p=0,w=_.length-1;w>=0?w>=p:p>=w;o=w>=0?++p:--p){if(c=_[o],c>=h){i=d[o];break}if(h>=c&&o===_.length-1){i=d[o];break}if(h>c&&h<_[o+1]){h=(h-c)/(_[o+1]-c),i=f.interpolate(d[o],d[o+1],h,b);break}}else"function"===R(d)&&(i=d(h));u[s]=i}return i},o=function(){return u={}},s(t,e),i=function(t){var e;return e=a(t),w&&e[w]?e[w]():e},i.domain=function(t,e,n,r){var a;return null==n&&(n="e"),arguments.length?(null!=e&&(a=f.analyze(t,r),t=0===e?[a.min,a.max]:f.limits(a,n,e)),c(t),i):g},i.mode=function(t){return arguments.length?(b=t,o(),i):b},i.range=function(t,e){return s(t,e),i},i.out=function(t){return w=t,i},i.spread=function(t){return arguments.length?(k=t,i):k},i.correctLightness=function(t){return arguments.length?(h=t,o(),l=h?function(t){var e,n,i,r,o,s,c,l,u;for(e=a(0,!0).lab()[0],n=a(1,!0).lab()[0],c=e>n,i=a(t,!0).lab()[0],o=e+(n-e)*t,r=i-o,l=0,u=1,s=20;Math.abs(r)>.01&&s-->0;)!function(){return c&&(r*=-1),0>r?(l=t,t+=.5*(u-t)):(u=t,t+=.5*(l-t)),i=a(t,!0).lab()[0],r=i-o}();return t}:function(t){return t},i):h},i.colors=function(e){var n,r,a,o,s,c;if(null==e&&(e="hex"),t=[],r=[],g.length>2)for(n=a=1,c=g.length;c>=1?c>a:a>c;n=c>=1?++a:--a)r.push(.5*(g[n-1]+g[n]));else r=g;for(o=0,s=r.length;s>o;o++)n=r[o],t.push(i(n)[e]());return t},i},null==(H=f.scales)&&(f.scales={}),f.scales.cool=function(){return f.scale([f.hsl(180,1,.9),f.hsl(250,.7,.4)])},f.scales.hot=function(){return f.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},f.analyze=function(t,e,n){var i,r,a,o,s,c,l;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(t){null==t||isNaN(t)||(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)},s=function(t,r){return n(t,r)?i(null!=e&&"function"===R(e)?e(t):null!=e&&"string"===R(e)||"number"===R(e)?t[e]:t):void 0},"array"===R(t))for(c=0,l=t.length;l>c;c++)o=t[c],s(o);else for(r in t)o=t[r],s(o,r);return a.domain=[a.min,a.max],a.limits=function(t,e){return f.limits(a,t,e)},a},f.limits=function(t,e,n){var i,r,a,o,s,c,l,u,d,h,g,p,m,v,b,y,x,w,_,k,T,A,C,S,M,E,D,L,F,P,I,N,O,z,j,q,H,B,X,W,Y,V,U,G,$,Z,Q,K,J,tt,et,nt,it,rt,at,ot;if(null==e&&(e="equal"),null==n&&(n=7),"array"===R(t)&&(t=f.analyze(t)),m=t.min,g=t.max,C=t.sum,E=t.values.sort(function(t,e){return t-e}),h=[],"c"===e.substr(0,1)&&(h.push(m),h.push(g)),"e"===e.substr(0,1)){for(h.push(m),l=D=1,H=n-1;H>=1?H>=D:D>=H;l=H>=1?++D:--D)h.push(m+l/n*(g-m));h.push(g)}else if("l"===e.substr(0,1)){if(0>=m)throw"Logarithmic scales are only possible for values > 0";for(v=Math.LOG10E*Math.log(m),p=Math.LOG10E*Math.log(g),h.push(m),l=L=1,G=n-1;G>=1?G>=L:L>=G;l=G>=1?++L:--L)h.push(Math.pow(10,v+l/n*(p-v)));h.push(g)}else if("q"===e.substr(0,1)){for(h.push(m),l=F=1,$=n-1;$>=1?$>=F:F>=$;l=$>=1?++F:--F)_=E.length*l/n,k=Math.floor(_),k===_?h.push(E[k]):(T=_-k,h.push(E[k]*T+E[k+1]*(1-T)));h.push(g)}else if("k"===e.substr(0,1)){for(y=E.length,i=new Array(y),s=new Array(n),A=!0,x=0,a=null,a=[],a.push(m),l=P=1,Z=n-1;Z>=1?Z>=P:P>=Z;l=Z>=1?++P:--P)a.push(m+l/n*(g-m));for(a.push(g);A;){for(u=I=0,Q=n-1;Q>=0?Q>=I:I>=Q;u=Q>=0?++I:--I)s[u]=0;for(l=N=0,K=y-1;K>=0?K>=N:N>=K;l=K>=0?++N:--N){for(M=E[l],b=Number.MAX_VALUE,u=O=0,J=n-1;J>=0?J>=O:O>=J;u=J>=0?++O:--O)c=Math.abs(a[u]-M),b>c&&(b=c,r=u);s[r]++,i[l]=r}for(w=new Array(n),u=z=0,tt=n-1;tt>=0?tt>=z:z>=tt;u=tt>=0?++z:--z)w[u]=null;for(l=j=0,et=y-1;et>=0?et>=j:j>=et;l=et>=0?++j:--j)o=i[l],null===w[o]?w[o]=E[l]:w[o]+=E[l];for(u=q=0,B=n-1;B>=0?B>=q:q>=B;u=B>=0?++q:--q)w[u]*=1/s[u];for(A=!1,u=nt=0,X=n-1;X>=0?X>=nt:nt>=X;u=X>=0?++nt:--nt)if(w[u]!==a[l]){A=!0;break}a=w,x++,x>200&&(A=!1)}for(d={},u=it=0,W=n-1;W>=0?W>=it:it>=W;u=W>=0?++it:--it)d[u]=[];for(l=rt=0,Y=y-1;Y>=0?Y>=rt:rt>=Y;l=Y>=0?++rt:--rt)o=i[l],d[o].push(E[l]);for(S=[],u=at=0,V=n-1;V>=0?V>=at:at>=V;u=V>=0?++at:--at)S.push(d[u][0]),S.push(d[u][d[u].length-1]);for(S=S.sort(function(t,e){return t-e}),h.push(S[0]),l=ot=1,U=S.length-1;U>=ot;l=ot+=2)isNaN(S[l])||h.push(S[l])}return h},f.brewer=d={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},f.colors=g={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},R=function(){var t,e,n,i,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),n=0,i=r.length;i>n;n++)e=r[n],t["[object "+e+"]"]=e.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),C=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),e>t&&(t=e),t>n&&(t=n),t},z=function(t){return t.length>=3?t:t[0]},o=2*Math.PI,a=Math.PI/3,p=Math.cos,u=function(t){var e,n,i,r,a,o,s,c,l,d,h;return t=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(f(r));return i}(),2===t.length?(l=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.lab());return i}(),a=l[0],o=l[1],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;2>=n;e=++n)i.push(a[e]+t*(o[e]-a[e]));return i}(),f.lab.apply(f,n)}):3===t.length?(d=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.lab());return i}(),a=d[0],o=d[1],s=d[2],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;2>=n;e=++n)i.push((1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*s[e]);return i}(),f.lab.apply(f,n)}):4===t.length?(h=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.lab());return i}(),a=h[0],o=h[1],s=h[2],c=h[3],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;2>=n;e=++n)i.push((1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*c[e]);return i}(),f.lab.apply(f,n)}):5===t.length&&(n=u(t.slice(0,3)),i=u(t.slice(2,5)),e=function(t){return.5>t?n(2*t):i(2*(t-.5))}),e},f.interpolate.bezier=u}).call(this)},{}],"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js":[function(t,e){var n;!function(){"use strict";function t(t){var e,n,i,r,a,o,s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<s&&(s=t[e][0]),t[e][0]>l&&(l=t[e][0]),t[e][1]<c&&(c=t[e][1]),t[e][1]>u&&(u=t[e][1]);return n=l-s,i=u-c,r=Math.max(n,i),a=s+.5*n,o=c+.5*i,[[a-20*r,o-r],[a,o+20*r],[a+20*r,o-r]]}function i(t,e,n,i){var r,o,s,c,l,u,d,f,h,g,p=t[e][0],m=t[e][1],v=t[n][0],b=t[n][1],y=t[i][0],x=t[i][1],w=Math.abs(m-b),_=Math.abs(b-x);if(a>w&&a>_)throw new Error("Eek! Coincident points!");return a>w?(c=-((y-v)/(x-b)),u=(v+y)/2,f=(b+x)/2,r=(v+p)/2,o=c*(r-u)+f):a>_?(s=-((v-p)/(b-m)),l=(p+v)/2,d=(m+b)/2,r=(y+v)/2,o=s*(r-l)+d):(s=-((v-p)/(b-m)),c=-((y-v)/(x-b)),l=(p+v)/2,u=(v+y)/2,d=(m+b)/2,f=(b+x)/2,r=(s*l-c*u+f-d)/(s-c),o=w>_?s*(r-l)+d:c*(r-u)+f),h=v-r,g=b-o,{i:e,j:n,k:i,x:r,y:o,r:h*h+g*g}}function r(t){var e,n,i,r,a,o;for(n=t.length;n;)for(r=t[--n],i=t[--n],e=n;e;)if(o=t[--e],a=t[--e],i===a&&r===o||i===o&&r===a){t.splice(n,2),t.splice(e,2);break}}var a=1/1048576;n={triangulate:function(e,n){var o,s,c,l,u,d,f,h,g,p,m,v,b=e.length;if(3>b)return[];if(e=e.slice(0),n)for(o=b;o--;)e[o]=e[o][n];for(c=new Array(b),o=b;o--;)c[o]=o;for(c.sort(function(t,n){return e[n][0]-e[t][0]}),l=t(e),e.push(l[0],l[1],l[2]),u=[i(e,b+0,b+1,b+2)],d=[],f=[],o=c.length;o--;f.length=0){for(v=c[o],s=u.length;s--;)h=e[v][0]-u[s].x,h>0&&h*h>u[s].r?(d.push(u[s]),u.splice(s,1)):(g=e[v][1]-u[s].y,h*h+g*g-u[s].r>a||(f.push(u[s].i,u[s].j,u[s].j,u[s].k,u[s].k,u[s].i),u.splice(s,1)));for(r(f),s=f.length;s;)m=f[--s],p=f[--s],u.push(i(e,p,m,v))}for(o=u.length;o--;)d.push(u[o]);for(u.length=0,o=d.length;o--;)d[o].i<b&&d[o].j<b&&d[o].k<b&&u.push(d[o].i,d[o].j,d[o].k);return u},contains:function(t,e){if(e[0]<t[0][0]&&e[0]<t[1][0]&&e[0]<t[2][0]||e[0]>t[0][0]&&e[0]>t[1][0]&&e[0]>t[2][0]||e[1]<t[0][1]&&e[1]<t[1][1]&&e[1]<t[2][1]||e[1]>t[0][1]&&e[1]>t[1][1]&&e[1]>t[2][1])return null;var n=t[1][0]-t[0][0],i=t[2][0]-t[0][0],r=t[1][1]-t[0][1],a=t[2][1]-t[0][1],o=n*a-i*r;if(0===o)return null;var s=(a*(e[0]-t[0][0])-i*(e[1]-t[0][1]))/o,c=(n*(e[1]-t[0][1])-r*(e[0]-t[0][0]))/o;return 0>s||0>c||s+c>1?null:[s,c]}},"undefined"!=typeof e&&(e.exports=n)}()},{}],"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js":[function(e,n){!function(t,n,i,r,a,o,s,c,l){function u(t){var e,n=t.length,i=this,a=0,o=i.i=i.j=0,s=i.S=[];for(n||(t=[n++]);r>a;)s[a]=a++;for(a=0;r>a;a++)s[a]=s[o=x&o+t[a%n]+(e=s[a])],s[o]=e;(i.g=function(t){for(var e,n=0,a=i.i,o=i.j,s=i.S;t--;)e=s[a=x&a+1],n=n*r+s[x&(s[a]=s[o=x&o+e])+(s[o]=e)];return i.i=a,i.j=o,n})(r)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function f(t,e){var n,i=[],r=typeof t;if(e&&"object"==r)for(n in t)try{i.push(f(t[n],e-1))}catch(a){}return i.length?i:"string"==r?t:t+"\x00"}function h(t,e){for(var n,i=t+"",r=0;r<i.length;)e[x&r]=x&(n^=19*e[x&r])+i.charCodeAt(r++);return p(e)}function g(e){try{return m?p(m.randomBytes(r)):(t.crypto.getRandomValues(e=new Uint8Array(r)),p(e))}catch(i){return[+new Date,t,(e=t.navigator)&&e.plugins,t.screen,p(n)]}}function p(t){return String.fromCharCode.apply(0,t)}var m,v=i.pow(r,a),b=i.pow(2,o),y=2*b,x=r-1,w=i["seed"+l]=function(t,e,o){var s=[];e=1==e?{entropy:!0}:e||{};var c=h(f(e.entropy?[t,p(n)]:null==t?g():t,3),s),m=new u(s);return h(p(m.S),n),(e.pass||o||function(t,e,n,r){return r&&(r.S&&d(r,m),t.state=function(){return d(m,{})}),n?(i[l]=t,e):t})(function(){for(var t=m.g(a),e=v,n=0;b>t;)t=(t+n)*r,e*=r,n=m.g(1);for(;t>=y;)t/=2,e/=2,n>>>=1;return(t+n)/e},c,"global"in e?e.global:this==i,e.state)};if(h(i[l](),n),s&&s.exports){s.exports=w;try{m=e("crypto")}catch(_){}}else c&&c.amd&&c(function(){return w})}(this,[],Math,256,6,52,"object"==typeof n&&n,"function"==typeof t&&t,"random")},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),function(t){"use strict";function e(t){this.owner=t}function n(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function i(t){var e=this.internal=new r(this);e.loadConfig(t),e.init(),function n(t,e,i){Object.keys(t).forEach(function(r){e[r]=t[r].bind(i),Object.keys(t[r]).length>0&&n(t[r],e[r],i)})}(s,this,this)}function r(e){var n=this;n.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function a(t){e.call(this,t)}function o(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+x)+", 0)"})}function i(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function a(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,h);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i}function o(){var t,n=p.copy();return e.isCategory&&(t=p.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=f?f(t):t;return"undefined"!=typeof e?e:""}function c(t){if(A)return A;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),i=s(t),r=n.height,a=i?n.width/i.length:void 0;r&&a&&(e.h=r,e.w=a)}).text(""),A=e,e}function l(n){return e.withoutTransition?n:t.transition(n)}function u(f){f.each(function(){function f(t,n){function i(t,e){a=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(a=s),r=e.substr(0,s+1),o=V.w*r.length,o>n)return i(t.concat(e.substr(0,a?a:s)),e.slice(a?a+1:s));return t.concat(e)}var r,a,o,c=s(t),l=[];return"[object Array]"===Object.prototype.toString.call(c)?c:((!n||0>=n)&&(n=$?95:e.isCategory?Math.ceil(L(F[1])-L(F[0]))-12:110),i(l,c+""))}function h(t,e){var n=V.h;return 0===e&&(n="left"===m||"right"===m?-((U[t.index]-1)*(V.h/2)-3):".71em"),n}function w(t){var e=p(t)+(g?0:x);return R[0]<e&&e<R[1]?v:0}function _(t){return t?t>0?"start":"end":"middle"}function k(t){return t?"rotate("+t+")":""}function T(t){return t?8*Math.sin(Math.PI*(t/180)):0}function A(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):G}var C,S,M,E=u.g=t.select(this),D=this.__chart__||p,L=this.__chart__=o(),F=y?y:a(L),P=E.selectAll(".tick").data(F,L),I=P.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),N=P.exit().remove(),O=l(P).style("opacity",1),R=p.rangeExtent?p.rangeExtent():r(p.range()),z=E.selectAll(".domain").data([0]),j=(z.enter().append("path").attr("class","domain"),l(z));I.append("line"),I.append("text");var q=I.select("line"),H=O.select("line"),B=I.select("text"),X=O.select("text");e.isCategory?(x=Math.ceil((L(1)-L(0))/2),S=g?0:x,M=g?x:0):x=S=0;var W,Y,V=c(E.select(".tick")),U=[],G=Math.max(v,0)+b,$="left"===m||"right"===m;W=P.select("text"),Y=W.selectAll("tspan").data(function(t,n){var i=e.tickMultiline?f(t,e.tickWidth):[].concat(s(t));return U[n]=i.length,i.map(function(t){return{index:n,splitted:t}})}),Y.enter().append("tspan"),Y.exit().remove(),Y.text(function(t){return t.splitted});var Z=e.tickTextRotate;switch(m){case"bottom":C=n,q.attr("y2",v),B.attr("y",G),H.attr("x1",S).attr("x2",S).attr("y2",w),X.attr("x",0).attr("y",A(Z)).style("text-anchor",_(Z)).attr("transform",k(Z)),Y.attr("x",0).attr("dy",h).attr("dx",T(Z)),j.attr("d","M"+R[0]+","+d+"V0H"+R[1]+"V"+d);break;case"top":C=n,q.attr("y2",-v),B.attr("y",-G),H.attr("x2",0).attr("y2",-v),X.attr("x",0).attr("y",-G),W.style("text-anchor","middle"),Y.attr("x",0).attr("dy","0em"),j.attr("d","M"+R[0]+","+-d+"V0H"+R[1]+"V"+-d);break;case"left":C=i,q.attr("x2",-v),B.attr("x",-G),H.attr("x2",-v).attr("y1",M).attr("y2",M),X.attr("x",-G).attr("y",x),W.style("text-anchor","end"),Y.attr("x",-G).attr("dy",h),j.attr("d","M"+-d+","+R[0]+"H0V"+R[1]+"H"+-d);break;case"right":C=i,q.attr("x2",v),B.attr("x",G),H.attr("x2",v).attr("y2",0),X.attr("x",G).attr("y",0),W.style("text-anchor","start"),Y.attr("x",G).attr("dy",h),j.attr("d","M"+d+","+R[0]+"H0V"+R[1]+"H"+d)}if(L.rangeBand){var Q=L,K=Q.rangeBand()/2;D=L=function(t){return Q(t)+K}}else D.rangeBand?D=L:N.call(C,L);I.call(C,D),O.call(C,L)})}var d,f,h,g,p=t.scale.linear(),m="bottom",v=6,b=3,y=null,x=0,w=!0;return e=e||{},d=e.withOuterTick?6:0,u.scale=function(t){return arguments.length?(p=t,u):p},u.orient=function(t){return arguments.length?(m=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",u):m},u.tickFormat=function(t){return arguments.length?(f=t,u):f},u.tickCentered=function(t){return arguments.length?(g=t,u):g},u.tickOffset=function(){return x},u.tickInterval=function(){var t,n;return e.isCategory?t=2*x:(n=u.g.select("path.domain").node().getTotalLength()-2*d,t=n/u.g.selectAll("line").size()),t===1/0?0:t},u.ticks=function(){return arguments.length?(h=arguments,u):h},u.tickCulling=function(t){return arguments.length?(w=t,u):w},u.tickValues=function(t){if("function"==typeof t)y=function(){return t(p.domain())};else{if(!arguments.length)return y;y=t}return u},u}var s,c,l,u={version:"0.4.10"};u.generate=function(t){return new i(t)},u.chart={fn:i.prototype,internal:{fn:r.prototype,axis:{fn:a.prototype}}},s=u.chart.fn,c=u.chart.internal.fn,l=u.chart.internal.axis.fn,c.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);
else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},c.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},c.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},c.initWithData=function(e){var n,i,r=this,o=r.d3,s=r.config,c=!0;r.axis=new a(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),r.selectChart=s.bindto?"function"==typeof s.bindto.node?s.bindto:o.select(s.bindto):o.selectAll([]),r.selectChart.empty()&&(r.selectChart=o.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),c=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(e),s.data_filter&&(r.data.targets=r.data.targets.filter(s.data_filter)),s.data_hide&&r.addHiddenTargetIds(s.data_hide===!0?r.mapToIds(r.data.targets):s.data_hide),s.legend_hide&&r.addHiddenLegendIds(s.legend_hide===!0?r.mapToIds(r.data.targets):s.legend_hide),r.hasType("gauge")&&(s.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(o.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),s.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return s.onmouseover.call(r)}).on("mouseleave",function(){return s.onmouseout.call(r)}),n=r.svg.append("defs"),r.clipChart=r.appendClip(n,r.clipId),r.clipXAxis=r.appendClip(n,r.clipIdForXAxis),r.clipYAxis=r.appendClip(n,r.clipIdForYAxis),r.clipGrid=r.appendClip(n,r.clipIdForGrid),r.clipSubchart=r.appendClip(n,r.clipIdForSubchart),r.updateSvgSize(),i=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),i.append("text").attr("class",d.text+" "+d.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),i.append("g").attr("clip-path",r.clipPath).attr("class",d.chart),s.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),i.insert("rect",s.zoom_privileged?null:"g."+d.regions).attr("class",d.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),s.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),c&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==t.onresize&&(t.onresize=r.generateResize()),t.onresize.add&&(t.onresize.add(function(){s.onresize.call(r)}),t.onresize.add(function(){r.api.flush()}),t.onresize.add(function(){s.onresized.call(r)})),r.api.element=r.selectChart.node()},c.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(a)})})},c.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:0/0,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:0/0,bottom:o+r,left:t.margin.left},t.margin3={top:0,right:0/0,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},c.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},c.showTargets=function(){var t=this;t.svg.selectAll("."+d.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},c.redraw=function(t,e){var n,i,r,a,o,s,c,l,u,f,h,g,p,m,v,b,y,x,w,k,T,A,C,S,M,E,D,L,F,P=this,I=P.main,N=P.d3,O=P.config,R=P.getShapeIndices(P.isAreaType),z=P.getShapeIndices(P.isBarType),j=P.getShapeIndices(P.isLineType),q=P.hasArcType(),H=P.filterTargetsToShow(P.data.targets),B=P.xv.bind(P);if(t=t||{},n=_(t,"withY",!0),i=_(t,"withSubchart",!0),r=_(t,"withTransition",!0),s=_(t,"withTransform",!1),c=_(t,"withUpdateXDomain",!1),l=_(t,"withUpdateOrgXDomain",!1),u=_(t,"withTrimXDomain",!0),p=_(t,"withUpdateXAxis",c),f=_(t,"withLegend",!1),h=_(t,"withEventRect",!0),g=_(t,"withDimension",!0),a=_(t,"withTransitionForExit",r),o=_(t,"withTransitionForAxis",r),w=r?O.transition_duration:0,k=a?w:0,T=o?w:0,e=e||P.axis.generateTransitions(T),f&&O.legend_show?P.updateLegend(P.mapToIds(P.data.targets),t,e):g&&P.updateDimension(!0),P.isCategorized()&&0===H.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),H.length?(P.updateXDomain(H,c,l,u),O.axis_x_tick_values||(S=P.axis.updateXAxisTickValues(H))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),O.zoom_rescale&&!t.flow&&(D=P.x.orgDomain()),P.y.domain(P.getYDomain(H,"y",D)),P.y2.domain(P.getYDomain(H,"y2",D)),!O.axis_y_tick_values&&O.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),O.axis_y2_tick_count)),P.axis.redraw(e,q),P.axis.updateLabels(r),(c||p)&&H.length)if(O.axis_x_tick_culling&&S){for(M=1;M<S.length;M++)if(S.length/M<O.axis_x_tick_culling_max){E=M;break}P.svg.selectAll("."+d.axisX+" .tick text").each(function(t){var e=S.indexOf(t);e>=0&&N.select(this).style("display",e%E?"none":"block")})}else P.svg.selectAll("."+d.axisX+" .tick text").style("display","block");m=P.generateDrawArea?P.generateDrawArea(R,!1):void 0,v=P.generateDrawBar?P.generateDrawBar(z):void 0,b=P.generateDrawLine?P.generateDrawLine(j,!1):void 0,y=P.generateXYForText(R,z,j,!0),x=P.generateXYForText(R,z,j,!1),n&&(P.subY.domain(P.getYDomain(H,"y")),P.subY2.domain(P.getYDomain(H,"y2"))),P.tooltip.style("display","none"),P.updateXgridFocus(),I.select("text."+d.text+"."+d.empty).attr("x",P.width/2).attr("y",P.height/2).text(O.data_empty_label_text).transition().style("opacity",H.length?0:1),P.updateGrid(w),P.updateRegion(w),P.updateBar(k),P.updateLine(k),P.updateArea(k),P.updateCircle(),P.hasDataLabel()&&P.updateText(k),P.redrawArc&&P.redrawArc(w,k,s),P.redrawSubchart&&P.redrawSubchart(i,e,w,k,R,z,j),I.selectAll("."+d.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),O.interaction_enabled&&!t.flow&&h&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),L=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),F=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),t.flow&&(C=P.generateFlow({targets:H,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:b,drawArea:m,cx:L,cy:F,xv:B,xForText:y,yForText:x})),(w||C)&&P.isTabVisible()?N.transition().duration(w).each(function(){var e=[];[P.redrawBar(v,!0),P.redrawLine(b,!0),P.redrawArea(m,!0),P.redrawCircle(L,F,!0),P.redrawText(y,x,t.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),A=P.generateWait(),e.forEach(function(t){A.add(t)})}).call(A,function(){C&&C(),O.onrendered&&O.onrendered.call(P)}):(P.redrawBar(v),P.redrawLine(b),P.redrawArea(m),P.redrawCircle(L,F),P.redrawText(y,x,t.flow),P.redrawRegion(),P.redrawGrid(),O.onrendered&&O.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(t){P.withoutFadeIn[t]=!0})},c.updateAndRedraw=function(t){var e,n=this,i=n.config;t=t||{},t.withTransition=_(t,"withTransition",!0),t.withTransform=_(t,"withTransform",!1),t.withLegend=_(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=_(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},c.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},c.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},c.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},c.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||w(e.data_xs))},c.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},c.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=b(i.margin.left),n=b(i.margin.top)):"context"===t?(e=b(i.margin2.left),n=b(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},c.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},c.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},c.opacityForCircle=function(t){var e=this.config.point_show?1:0;return f(t.value)?this.isScatterType(t)?.5:e:0},c.opacityForText=function(){return this.hasDataLabel()?1:0},c.xx=function(t){return t?this.x(t.x):null},c.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},c.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},c.subxx=function(t){return t?this.subX(t.x):null},c.transformMain=function(t,e){var n,i,r,a=this;e&&e.axisX?n=e.axisX:(n=a.main.select("."+d.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=a.main.select("."+d.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=a.main.select("."+d.axisY2),t&&(r=r.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),i.attr("transform",a.getTranslate("y")),r.attr("transform",a.getTranslate("y2")),a.main.select("."+d.chartArcs).attr("transform",a.getTranslate("arc"))},c.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},c.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+d.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},c.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},c.observeInserted=function(e){var n,i=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(n=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},c.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t},c.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},c.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},c.parseDate=function(e){var n,i=this;return e instanceof Date?n=e:"string"==typeof e?n=i.dataTimeFormat(i.config.data_xFormat).parse(e):"number"!=typeof e&&isNaN(e)||(n=new Date(+e)),(!n||isNaN(+n))&&t.console.error("Failed to parse x '"+e+"' to Date object"),n},c.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},c.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},c.additionalConfig={},c.loadConfig=function(t){function e(){var t=i.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,i,r,a=this.config;Object.keys(a).forEach(function(o){n=t,i=o.split("_"),r=e(),m(r)&&(a[o]=r)})},c.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},c.getX=function(t,e,n,i){var r,a=this,o=a.getScale(t,e,a.isTimeSeries()),s=n?o.domain(n):o;a.isCategorized()?(i=i||function(){return 0},o=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(r in s)o[r]=s[r];return o.orgDomain=function(){return s.domain()},a.isCategorized()&&(o.domain=function(t){return arguments.length?(s.domain(t),o):(t=this.orgDomain(),[t[0],t[1]+1])}),o},c.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},c.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},c.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},c.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},c.getYDomainMin=function(t){var e,n,i,r,a,o,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(o=s.hasNegativeValueInTargets(t),e=0;e<c.data_groups.length;e++)if(r=c.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],o&&u[i]&&u[i].forEach(function(t,e){u[i][e]=0>t?t:0}),n=1;n<r.length;n++)a=r[n],u[a]&&u[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!u[i]||o&&+t>0||(u[i][e]+=+t)});return s.d3.min(Object.keys(u).map(function(t){return s.d3.min(u[t])}))},c.getYDomainMax=function(t){var e,n,i,r,a,o,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(o=s.hasPositiveValueInTargets(t),e=0;e<c.data_groups.length;e++)if(r=c.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],o&&u[i]&&u[i].forEach(function(t,e){u[i][e]=t>0?t:0}),n=1;n<r.length;n++)a=r[n],u[a]&&u[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!u[i]||o&&0>+t||(u[i][e]+=+t)});return s.d3.max(Object.keys(u).map(function(t){return s.d3.max(u[t])}))},c.getYDomain=function(t,e,n){var i,r,a,o,s,c,l,u,d,h,g,p=this,m=p.config,v=t.filter(function(t){return p.axis.getId(t.id)===e}),b=n?p.filterByXDomain(v,n):v,x="y2"===e?m.axis_y2_min:m.axis_y_min,_="y2"===e?m.axis_y2_max:m.axis_y_max,k=p.getYDomainMin(b),T=p.getYDomainMax(b),A="y2"===e?m.axis_y2_center:m.axis_y_center,C=p.hasType("bar",b)&&m.bar_zerobased||p.hasType("area",b)&&m.area_zerobased,S="y2"===e?m.axis_y2_inverted:m.axis_y_inverted,M=p.hasDataLabel()&&m.axis_rotated,E=p.hasDataLabel()&&!m.axis_rotated;return k=f(x)?x:f(_)?_>k?k:_-10:k,T=f(_)?_:f(x)?T>x?T:x+10:T,0===b.length?"y2"===e?p.y2.domain():p.y.domain():(isNaN(k)&&(k=0),isNaN(T)&&(T=k),k===T&&(0>k?T=0:k=0),h=k>=0&&T>=0,g=0>=k&&0>=T,(f(x)&&h||f(_)&&g)&&(C=!1),C&&(h&&(k=0),g&&(T=0)),r=Math.abs(T-k),a=o=s=.1*r,"undefined"!=typeof A&&(c=Math.max(Math.abs(k),Math.abs(T)),T=A+c,k=A-c),M?(l=p.getDataLabelLength(k,T,"width"),u=y(p.y.range()),d=[l[0]/u,l[1]/u],o+=r*(d[1]/(1-d[0]-d[1])),s+=r*(d[0]/(1-d[0]-d[1]))):E&&(l=p.getDataLabelLength(k,T,"height"),o+=p.axis.convertPixelsToAxisPadding(l[1],r),s+=p.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&w(m.axis_y_padding)&&(o=p.axis.getPadding(m.axis_y_padding,"top",o,r),s=p.axis.getPadding(m.axis_y_padding,"bottom",s,r)),"y2"===e&&w(m.axis_y2_padding)&&(o=p.axis.getPadding(m.axis_y2_padding,"top",o,r),s=p.axis.getPadding(m.axis_y2_padding,"bottom",s,r)),C&&(h&&(s=k),g&&(o=-T)),i=[k-s,T+o],S?i.reverse():i)},c.getXDomainMin=function(t){var e=this,n=e.config;return m(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},c.getXDomainMax=function(t){var e=this,n=e.config;return m(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},c.getXDomainPadding=function(t){var e,n,i,r,a=this,o=a.config,s=t[1]-t[0];return a.isCategorized()?n=0:a.hasType("bar")?(e=a.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof o.axis_x_padding&&w(o.axis_x_padding)?(i=f(o.axis_x_padding.left)?o.axis_x_padding.left:n,r=f(o.axis_x_padding.right)?o.axis_x_padding.right:n):i=r="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:i,right:r}},c.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],a=e.getXDomainPadding(n),o=0,s=0;return i-r!==0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(o=e.isTimeSeries()?new Date(i.getTime()-a.left):i-a.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},c.updateXDomain=function(t,e,n,i,r){var a=this,o=a.config;return n&&(a.x.domain(r?r:a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),e&&(a.x.domain(r?r:!a.brush||a.brush.empty()?a.orgXDomain:a.brush.extent()),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent()),i&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},c.trimXDomain=function(t){var e=this;return t[0]<=e.orgXDomain[0]&&(t[1]=+t[1]+(e.orgXDomain[0]-t[0]),t[0]=e.orgXDomain[0]),e.orgXDomain[1]<=t[1]&&(t[0]=+t[0]-(t[1]-e.orgXDomain[1]),t[1]=e.orgXDomain[1]),t},c.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||w(n.data_xs)&&k(n.data_xs,t)},c.isNotX=function(t){return!this.isX(t)},c.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:w(n.data_xs)?n.data_xs[t]:null},c.getXValuesOfXKey=function(t,e){var n,i=this,r=e&&w(e)?i.mapToIds(e):[];return r.forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},c.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},c.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&f(n.data.xs[t][e])?n.data.xs[t][e]:e},c.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},c.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},c.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},c.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},c.isMultipleX=function(){return w(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},c.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=e?e:t.id),t},c.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},c.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},c.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},c.generateTargetX=function(t,e,n){var i,r=this;return i=r.isTimeSeries()?r.parseDate(t?t:r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?f(t)?+t:r.getXValue(e,n):n},c.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},c.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},c.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},c.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},c.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},c.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},c.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},c.mapToIds=function(t){return t.map(function(t){return t.id})},c.mapToTargetIds=function(t){var e=this;return t?g(t)?[t]:t:e.mapToIds(e.data.targets)},c.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},c.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},c.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},c.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},c.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n.map(e.isTimeSeries()?function(t){return new Date(+t)}:function(t){return+t})},c.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},c.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},c.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},c.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},c.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},c.checkValueInTargets=function(t,e){var n,i,r,a=Object.keys(t);for(n=0;n<a.length;n++)for(r=t[a[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},c.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},c.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},c.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},c.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase();

},c.orderTargets=function(t){var e=this,n=e.config,i=e.isOrderAsc(),r=e.isOrderDesc();return i||r?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),a=e.values.reduce(n,0);return i?a-r:r-a}):h(n.data_order)&&t.sort(n.data_order),t},c.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},c.filterRemoveNull=function(t){return t.filter(function(t){return f(t.value)})},c.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},c.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&w(t.data_labels)?!0:!1},c.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],a=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*a}).remove(),r},c.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},c.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},c.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},c.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},c.findClosest=function(t,e){var n,i=this,r=100;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+d.bars+i.getTargetSelectorSuffix(t.id)+" ."+d.bar+"-"+t.index).node();!n&&i.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var a=i.dist(t,e);r>a&&(r=a,n=t)}),n},c.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,a=i.axis_rotated?0:1,o=n.circleY(t,t.index),s=n.x(t.x);return Math.pow(s-e[r],2)+Math.pow(o-e[a],2)},c.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},c.updateDataAttributes=function(t,e){var n=this,i=n.config,r=i["data_"+t];return"undefined"==typeof e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0}),r)},c.convertUrlToData=function(t,e,n,i){var r=this,a=e?e:"csv";r.d3.xhr(t,function(t,e){var o;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");o="json"===a?r.convertJsonToData(JSON.parse(e.response),n):"tsv"===a?r.convertTsvToData(e.response):r.convertCsvToData(e.response),i.call(r,o)})},c.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},c.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},c.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},c.convertJsonToData=function(t,e){var n,i,r=this,a=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,a.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=p(t[n])?null:t[n];e.push(i)}),a.push(e)}),i=r.convertRowsToData(a)):(Object.keys(t).forEach(function(e){a.push([e].concat(t[e]))}),i=r.convertColumnsToData(a)),i},c.convertRowsToData=function(t){var e,n,i=t[0],r={},a=[];for(e=1;e<t.length;e++){for(r={},n=0;n<t[e].length;n++){if(p(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[i[n]]=t[e][n]}a.push(r)}return a},c.convertColumnsToData=function(t){var e,n,i,r=[];for(e=0;e<t.length;e++)for(i=t[e][0],n=1;n<t[e].length;n++){if(p(r[n-1])&&(r[n-1]={}),p(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[n-1][i]=t[e][n]}return r},c.convertDataToTargets=function(t,e){var n,i=this,r=i.config,a=i.d3.keys(t[0]).filter(i.isNotX,i),o=i.d3.keys(t[0]).filter(i.isX,i);return a.forEach(function(n){var a=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?o.indexOf(a)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[a]}).filter(f).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():w(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(a,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),a.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=a.map(function(e,n){var a=r.data_idConverter(e);return{id:a,id_org:e,values:t.map(function(t,o){var s=i.getXKey(e),c=t[s],l=i.generateTargetX(c,e,o);return i.isCustomX()&&i.isCategorized()&&0===n&&c&&(0===o&&(r.axis_x_categories=[]),r.axis_x_categories.push(c)),(p(t[e])||i.data.xs[e].length<=o)&&(l=void 0),{x:l,value:null===t[e]||isNaN(t[e])?null:+t[e],id:a}}).filter(function(t){return m(t.x)})}}),n.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,i=e.x||0===e.x?e.x:1/0;return n-i})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},c.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},c.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},c.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+d.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},c.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},c.initEventRect=function(){var t=this;t.main.select("."+d.chart).append("g").attr("class",d.eventRects).style("fill-opacity",0)},c.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),a=n.main.select("."+d.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(d.eventRectsMultiple,r).classed(d.eventRectsSingle,!r);a.selectAll("."+d.eventRect).remove(),n.eventRect=a.selectAll("."+d.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),a.datum(e?e.values:[]),n.eventRect=a.selectAll("."+d.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},c.updateEventRect=function(t){var e,n,i,r,a,o,s=this,c=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(a=s.getEventRectWidth(),o=function(t){return s.x(t.x)-a/2}):(s.updateXs(),a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?c.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=c.axis_rotated?0:o,n=c.axis_rotated?o:0,i=c.axis_rotated?s.width:a,r=c.axis_rotated?a:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},c.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,i=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(i.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+d.shape+"-"+n).each(function(t){i.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+d.shape+"-"+n).each(function(t){i.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,a=t.index,o=e.svg.select("."+d.eventRect+"-"+a);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),i.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&e.main.selectAll("."+d.shape+"-"+a).each(function(){n.select(this).classed(d.EXPANDED,!0),i.data_selection_enabled&&o.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),i.data_selection_grouped||(e.unexpandCircles(a),e.unexpandBars(a)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(t))&&o.style("cursor","pointer"),i.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),i.point_focus_expand_enabled&&e.expandCircles(a,t.id,!0),e.expandBars(a,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+d.shape+"-"+r).each(function(t){(i.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(i.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},c.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+d.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,i=n.d3,r=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",d.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,a,o,s,c=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(c)){if(t=i.mouse(this),a=n.findClosestFromTargets(c,t),!n.mouseover||a&&a.id===n.mouseover.id||(r.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!a)return void e();o=n.isScatterType(a)||!r.tooltip_grouped?[a]:n.filterByX(c,a.x),s=o.map(function(t){return n.addName(t)}),n.showTooltip(s,this),r.point_focus_expand_enabled&&n.expandCircles(a.index,a.id,!0),n.expandBars(a.index,a.id,!0),n.showXGridFocus(s),(n.isBarType(a.id)||n.dist(a,t)<100)&&(n.svg.select("."+d.eventRect).style("cursor","pointer"),n.mouseover||(r.data_onmouseover.call(n.api,a),n.mouseover=a))}}).on("click",function(){var t,e,a=n.filterTargetsToShow(n.data.targets);n.hasArcType(a)||(t=i.mouse(this),e=n.findClosestFromTargets(a,t),e&&(n.isBarType(e.id)||n.dist(e,t)<100)&&n.main.selectAll("."+d.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+d.shape+"-"+e.index).each(function(){(r.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(r.data_selection_draggable&&n.drag?i.behavior.drag().origin(Object).on("drag",function(){n.drag(i.mouse(this))}).on("dragstart",function(){n.dragstart(i.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},c.dispatchEvent=function(e,n,i){var r=this,a="."+d.eventRect+(r.isMultipleX()?"":"-"+n),o=r.main.select(a).node(),s=o.getBoundingClientRect(),c=s.left+(i?i[0]:0),l=s.top+(i?i[1]:0),u=document.createEvent("MouseEvents");u.initMouseEvent(e,!0,!0,t,0,c,l,c,l,!1,!1,!1,!1,0,null),o.dispatchEvent(u)},c.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},c.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},c.getCurrentPaddingTop=function(){var t=this.config;return f(t.padding_top)?t.padding_top:0},c.getCurrentPaddingBottom=function(){var t=this.config;return f(t.padding_bottom)?t.padding_bottom:0},c.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return f(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(v(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:v(e.getAxisWidthByAxisId("y",t))},c.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return f(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):v(t.getAxisWidthByAxisId("y2"))+i},c.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},c.getParentWidth=function(){return this.getParentRectValue("width")},c.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},c.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?d.axisX:d.axisY,a=e.main.select("."+r).node(),o=a&&i?a.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),l=o.right-s.left-(c?0:e.getCurrentPaddingLeft(t));return l>0?l:0},c.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},c.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},c.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},c.getShapeIndices=function(t){var e,n,i=this,r=i.config,a={},o=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in a){a[t.id]=a[r.data_groups[e][n]];break}p(a[t.id])&&(a[t.id]=o++)}),a.__max__=o-1,a},c.getShapeX=function(t,e,n,i){var r=this,a=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?a(i.x)-t*(e/2-r):0}},c.getShapeY=function(t){var e=this;return function(n){var i=t?e.getSubYScale(n.id):e.getYScale(n.id);return i(n.value)}},c.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),a=r.map(function(t){return t.id});return function(t,o){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),c=s(0),l=c;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&a.indexOf(n.id)<a.indexOf(t.id)&&r[o].value*t.value>=0&&(l+=s(r[o].value)-c)}),l}},c.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=r.classed(d.bar)?i.isWithinBar(t):!0):n=!1,n},c.getInterpolate=function(t){var e=this;return e.isSplineType(t)?"cardinal":e.isStepType(t)?e.config.line_step_type:"linear"},c.initLine=function(){var t=this;t.main.select("."+d.chart).append("g").attr("class",d.chartLines)},c.updateTargetsForLine=function(t){var e,n,i=this,r=i.config,a=i.classChartLine.bind(i),o=i.classLines.bind(i),s=i.classAreas.bind(i),c=i.classCircles.bind(i),l=i.classFocus.bind(i);e=i.main.select("."+d.chartLines).selectAll("."+d.chartLine).data(t).attr("class",function(t){return a(t)+l(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return i.generateClass(d.selectedCircles,t.id)}),n.append("g").attr("class",c).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){i.main.selectAll("."+d.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+d.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},c.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+d.lines).selectAll("."+d.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},c.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},c.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),a=n.generateGetLinePoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(c).y(s):r.x(s).y(c),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var a,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,c=e?n.x:n.subX,l=o.call(n,t.id),u=0,d=0;return n.isLineType(t)?i.data_regions[t.id]?a=n.lineWithRegions(s,c,l,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),a=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(u=c(s[0].x),d=l(s[0].value)),a=i.axis_rotated?"M "+d+" "+u:"M "+u+" "+d),a?a:"M 0 0"}},c.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var r=c.call(n,t.id)(0),l=s(t,e)||r,u=a(t),d=o(t);return i.axis_rotated&&(0<t.value&&r>d||t.value<0&&d>r)&&(d=r),[[u,d-(r-l)],[u,d-(r-l)],[u,d-(r-l)],[u,d-(r-l)]]}},c.lineWithRegions=function(t,e,n,i){function r(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function a(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var o,s,c,l,u,d,f,h,g,v,b,y,x=this,w=x.config,_=-1,k="M",T=x.isCategorized()?.5:0,A=[];if(m(i))for(o=0;o<i.length;o++)A[o]={},A[o].start=p(i[o].start)?t[0].x:x.isTimeSeries()?x.parseDate(i[o].start):i[o].start,A[o].end=p(i[o].end)?t[t.length-1].x:x.isTimeSeries()?x.parseDate(i[o].end):i[o].end;for(b=w.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},y=w.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},c=x.isTimeSeries()?function(t,i,r,o){var s,c=t.x.getTime(),l=i.x-t.x,d=new Date(c+l*r),f=new Date(c+l*(r+o));return s=w.axis_rotated?[[n(u(r)),e(d)],[n(u(r+o)),e(f)]]:[[e(d),n(u(r))],[e(f),n(u(r+o))]],a(s)}:function(t,i,r,o){var s;return s=w.axis_rotated?[[n(u(r),!0),e(l(r))],[n(u(r+o),!0),e(l(r+o))]]:[[e(l(r),!0),n(u(r))],[e(l(r+o),!0),n(u(r+o))]],a(s)},o=0;o<t.length;o++){if(p(A)||!r(t[o].x,A))k+=" "+b(t[o])+" "+y(t[o]);else for(l=x.getScale(t[o-1].x+T,t[o].x+T,x.isTimeSeries()),u=x.getScale(t[o-1].value,t[o].value),d=e(t[o].x)-e(t[o-1].x),f=n(t[o].value)-n(t[o-1].value),h=Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),g=2/h,v=2*g,s=g;1>=s;s+=v)k+=c(t[o-1],t[o],s,g);_=t[o].x}return k},c.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+d.areas).selectAll("."+d.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},c.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},c.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),a=n.generateGetAreaPoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},l=function(t,e){return i.data_groups.length>0?a(t,e)[1][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(c).x1(l).y(s):r.x(s).y0(c).y1(l),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,a=i.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(a=n.convertValuesToStep(a)),e=r.interpolate(n.getInterpolate(t))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(t.id)(a[0].value)),e=i.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),e?e:"M 0 0"}},c.getAreaBaseValue=function(){return 0},c.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var r=c.call(n,t.id)(0),l=s(t,e)||r,u=a(t),d=o(t);return i.axis_rotated&&(0<t.value&&r>d||t.value<0&&d>r)&&(d=r),[[u,l],[u,d-(r-l)],[u,d-(r-l)],[u,l]]}},c.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+d.circles).selectAll("."+d.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},c.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+d.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition():i).attr("cx",t).attr("cy",e)]},c.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},c.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},c.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+d.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+d.circle+(f(t)?"-"+t:""))},c.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(d.EXPANDED,!0).attr("r",r)},c.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(d.EXPANDED)}).classed(d.EXPANDED,!1).attr("r",n)},c.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:h(n.point_r)?n.point_r(t):n.point_r},c.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},c.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},c.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),a=+r.attr("cx"),o=+r.attr("cy");return Math.sqrt(Math.pow(a-i[0],2)+Math.pow(o-i[1],2))<e},c.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},c.initBar=function(){var t=this;t.main.select("."+d.chart).append("g").attr("class",d.chartBars)},c.updateTargetsForBar=function(t){var e,n,i=this,r=i.config,a=i.classChartBar.bind(i),o=i.classBars.bind(i),s=i.classFocus.bind(i);e=i.main.select("."+d.chartBars).selectAll("."+d.chartBar).data(t).attr("class",function(t){return a(t)+s(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},c.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+d.bars).selectAll("."+d.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",a).style("fill",a),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},c.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},c.getBarW=function(t,e){var n=this,i=n.config,r="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},c.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+d.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+d.bar+(f(t)?"-"+t:""))},c.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(d.EXPANDED,!0)},c.unexpandBars=function(t){var e=this;e.getBars(t).classed(d.EXPANDED,!1)},c.generateDrawBar=function(t,e){var n=this,i=n.config,r=n.generateGetBarPoints(t,e);return function(t,e){var n=r(t,e),a=i.axis_rotated?1:0,o=i.axis_rotated?0:1,s="M "+n[0][a]+","+n[0][o]+" L"+n[1][a]+","+n[1][o]+" L"+n[2][a]+","+n[2][o]+" L"+n[3][a]+","+n[3][o]+" z";return s}},c.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,a=n.getBarW(i,r),o=n.getShapeX(a,r,t,!!e),s=n.getShapeY(!!e),c=n.getShapeOffset(n.isBarType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),r=c(t,e)||i,u=o(t),d=s(t);return n.config.axis_rotated&&(0<t.value&&i>d||t.value<0&&d>i)&&(d=i),[[u,r],[u,d-(i-r)],[u+a,d-(i-r)],[u+a,r]]}},c.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),a=Math.min(i.x,r.x),o=Math.min(i.y,r.y),s=n.width,c=n.height,l=2,u=a-l,d=a+s+l,f=o+c+l,h=o-l;return u<e[0]&&e[0]<d&&h<e[1]&&e[1]<f},c.initText=function(){var t=this;t.main.select("."+d.chart).append("g").attr("class",d.chartTexts),t.mainText=t.d3.selectAll([])},c.updateTargetsForText=function(t){var e,n,i=this,r=i.classChartText.bind(i),a=i.classTexts.bind(i),o=i.classFocus.bind(i);e=i.main.select("."+d.chartTexts).selectAll("."+d.chartText).data(t).attr("class",function(t){return r(t)+o(t)}),n=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a)},c.updateText=function(t){var e=this,n=e.config,i=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+d.texts).selectAll("."+d.text).data(i),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},c.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},c.getTextRect=function(t,e){var n,i=this.d3.select("body").append("div").classed("c3",!0),r=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return r.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).text(t).each(function(){n=this.getBoundingClientRect()}),i.remove(),n},c.generateXYForText=function(t,e,n,i){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),c=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?a:r.isBarType(t)?o:s;return c.call(r,n(t,e),t,this)}},c.getXForText=function(t,e,n){var i,r,a=this,o=n.getBoundingClientRect();return a.config.axis_rotated?(r=a.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>a.width?i=a.width-o.width:0>i&&(i=4)),i},c.getYForText=function(t,e,n){var i,r=this,a=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*a.height)/2:(i=t[2][1],e.value<0?(i+=a.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<a.height?i=a.height:i>this.height&&(i=this.height-4)),i},c.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},c.hasType=function(t,e){var n=this,i=n.config.data_types,r=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(r=!0)}):r=n.config.data_type===t,r},c.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},c.isLineType=function(t){var e=this.config,n=g(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},c.isStepType=function(t){var e=g(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},c.isSplineType=function(t){var e=g(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},c.isAreaType=function(t){var e=g(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},c.isBarType=function(t){var e=g(t)?t:t.id;return"bar"===this.config.data_types[e]},c.isScatterType=function(t){var e=g(t)?t:t.id;return"scatter"===this.config.data_types[e]},c.isPieType=function(t){var e=g(t)?t:t.id;return"pie"===this.config.data_types[e]},c.isGaugeType=function(t){var e=g(t)?t:t.id;return"gauge"===this.config.data_types[e]},c.isDonutType=function(t){var e=g(t)?t:t.id;return"donut"===this.config.data_types[e]},c.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},c.lineData=function(t){return this.isLineType(t)?[t]:[]},c.arcData=function(t){return this.isArcType(t.data)?[t]:[]},c.barData=function(t){return this.isBarType(t)?t.values:[]},c.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},c.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},c.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",d.grid),e.grid_x_show&&t.grid.append("g").attr("class",d.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",d.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",d.xgridFocus).append("line").attr("class",d.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},c.initGridLines=function(){var t=this,e=t.d3;

t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",d.grid+" "+d.gridLines),t.gridLines.append("g").attr("class",d.xgridLines),t.gridLines.append("g").attr("class",d.ygridLines),t.xgridLines=e.selectAll([])},c.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgrid=e.main.select("."+d.xgrids).selectAll("."+d.xgrid).data(r),e.xgrid.enter().append("line").attr("class",d.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},c.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+d.ygrids).selectAll("."+d.ygrid).data(n),t.ygrid.enter().append("line").attr("class",d.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},c.gridTextAnchor=function(t){return t.position?t.position:"end"},c.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},c.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},c.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},c.updateGrid=function(t){var e,n,i,r=this,a=r.main,o=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),a.select("line."+d.xgridFocus).style("visibility","hidden"),o.grid_x_show&&r.updateXGrid(),r.xgridLines=a.select("."+d.xgridLines).selectAll("."+d.xgridLine).data(o.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return d.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),o.grid_y_show&&r.updateYGrid(),r.ygridLines=a.select("."+d.ygridLines).selectAll("."+d.ygridLine).data(o.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(t){return d.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",o.axis_rotated?i:0).attr("x2",o.axis_rotated?i:r.width).attr("y1",o.axis_rotated?0:i).attr("y2",o.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",o.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},c.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),a=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?a.transition():a).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},c.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&f(t.value)}),r=e.main.selectAll("line."+d.xgridFocus),a=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),e.smoothLines(r,"grid")))},c.hideXGridFocus=function(){this.main.select("line."+d.xgridFocus).style("visibility","hidden")},c.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+d.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},c.generateGridData=function(t,e){var n,i,r,a,o=this,s=[],c=o.main.select("."+d.axisX).selectAll(".tick").size();if("year"===t)for(n=o.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),a=i;r>=a;a++)s.push(new Date(a+"-01-01 00:00:00"));else s=e.ticks(10),s.length>c&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},c.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},c.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),a=function(t){return!r(t)},o=e?d.xgridLines:d.ygridLines,s=e?d.xgridLine:d.ygridLine;n.main.select("."+o).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(a):i.grid_y_lines=i.grid_y_lines.filter(a)},c.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",d.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&g(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},c.getTooltipContent=function(t,e,n,i){var r,a,o,s,c,l,u=this,f=u.config,h=f.tooltip_format_title||e,g=f.tooltip_format_name||function(t){return t},p=f.tooltip_format_value||n;for(a=0;a<t.length;a++)t[a]&&(t[a].value||0===t[a].value)&&(r||(o=h?h(t[a].x):t[a].x,r="<table class='"+d.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),s=p(t[a].value,t[a].ratio,t[a].id,t[a].index),void 0!==s&&(c=g(t[a].name,t[a].ratio,t[a].id,t[a].index),l=u.levelColor?u.levelColor(t[a].value):i(t[a].id),r+="<tr class='"+d.tooltipName+"-"+t[a].id+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+c+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"));return r+"</table>"},c.tooltipPosition=function(t,e,n,i){var r,a,o,s,c,l=this,u=l.config,d=l.d3,f=l.hasArcType(),h=d.mouse(i);return f?(a=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+h[0],s=l.height/2+h[1]+20):(r=l.getSvgLeft(!0),u.axis_rotated?(a=r+h[0]+100,o=a+e,c=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(a=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20,o=a+e,c=r+l.currentWidth-l.getCurrentPaddingRight(),s=h[1]+15),o>c&&(a-=o-c+20),s+n>l.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:a}},c.showTooltip=function(t,e){var n,i,r,a=this,o=a.config,s=a.hasArcType(),l=t.filter(function(t){return t&&f(t.value)}),u=o.tooltip_position||c.tooltipPosition;0!==l.length&&o.tooltip_show&&(a.tooltip.html(o.tooltip_contents.call(a,t,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style("display","block"),n=a.tooltip.property("offsetWidth"),i=a.tooltip.property("offsetHeight"),r=u.call(this,l,n,i,e),a.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},c.hideTooltip=function(){this.tooltip.style("display","none")},c.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},c.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},c.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},c.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},c.updateLegendStep=function(t){this.legendStep=t},c.updateLegendItemWidth=function(t){this.legendItemWidth=t},c.updateLegendItemHeight=function(t){this.legendItemHeight=t},c.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},c.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},c.opacityForLegend=function(t){return t.classed(d.legendItemHidden)?null:1},c.opacityForUnfocusedLegend=function(t){return t.classed(d.legendItemHidden)?null:.3},c.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+d.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(d.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},c.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+d.legendItem).classed(d.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},c.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},c.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&x(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},c.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},c.updateLegend=function(t,e,n){function i(t,e){return x.legendItemTextBox[e]||(x.legendItemTextBox[e]=x.getTextRect(t.textContent,d.legendItem)),x.legendItemTextBox[e]}function r(e,n,r){function a(t,e){e||(o=(g-E-h)/2,S>o&&(o=(g-h)/2,E=0,N++)),I[t]=N,P[N]=x.isLegendInset?10:o,D[t]=E,E+=h}var o,s,c=0===r,l=r===t.length-1,u=i(e,n),d=u.width+M+(!l||x.isLegendRight||x.isLegendInset?T:0),f=u.height+k,h=x.isLegendRight||x.isLegendInset?f:d,g=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();return c&&(E=0,N=0,A=0,C=0),w.legend_show&&!x.isLegendToShow(n)?void(L[n]=F[n]=I[n]=D[n]=0):(L[n]=d,F[n]=f,(!A||d>=A)&&(A=d),(!C||f>=C)&&(C=f),s=x.isLegendRight||x.isLegendInset?C:A,void(w.legend_equally?(Object.keys(L).forEach(function(t){L[t]=A}),Object.keys(F).forEach(function(t){F[t]=C}),o=(g-s*t.length)/2,S>o?(E=0,N=0,t.forEach(function(t){a(t)})):a(n,!0)):a(n)))}var a,o,s,c,l,u,f,h,g,p,v,b,y,x=this,w=x.config,k=4,T=10,A=0,C=0,S=10,M=15,E=0,D={},L={},F={},P=[0],I={},N=0;e=e||{},h=_(e,"withTransition",!0),g=_(e,"withTransitionForTransform",!0),x.isLegendInset&&(N=w.legend_inset_step?w.legend_inset_step:t.length,x.updateLegendStep(N)),x.isLegendRight?(a=function(t){return A*I[t]},c=function(t){return P[I[t]]+D[t]}):x.isLegendInset?(a=function(t){return A*I[t]+10},c=function(t){return P[I[t]]+D[t]}):(a=function(t){return P[I[t]]+D[t]},c=function(t){return C*I[t]}),o=function(t,e){return a(t,e)+14},l=function(t,e){return c(t,e)+9},s=function(t,e){return a(t,e)},u=function(t,e){return c(t,e)-5},f=x.legend.selectAll("."+d.legendItem).data(t).enter().append("g").attr("class",function(t){return x.generateClass(d.legendItem,t)}).style("visibility",function(t){return x.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(x,t):x.d3.event.altKey?(x.api.hide(),x.api.show(t)):(x.api.toggle(t),x.isTargetToShow(t)?x.api.focus(t):x.api.revert())}).on("mouseover",function(t){x.d3.select(this).classed(d.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(t)&&x.api.focus(t),w.legend_item_onmouseover&&w.legend_item_onmouseover.call(x,t)}).on("mouseout",function(t){x.d3.select(this).classed(d.legendItemFocused,!1),x.api.revert(),w.legend_item_onmouseout&&w.legend_item_onmouseout.call(x,t)}),f.append("text").text(function(t){return m(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:l),f.append("rect").attr("class",d.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?s:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:u),f.append("rect").attr("class",d.legendItemTile).style("pointer-events","none").style("fill",x.color).attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:c).attr("width",10).attr("height",10),y=x.legend.select("."+d.legendBackground+" rect"),x.isLegendInset&&A>0&&0===y.size()&&(y=x.legend.insert("g","."+d.legendItem).attr("class",d.legendBackground).append("rect")),p=x.legend.selectAll("text").data(t).text(function(t){return m(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(h?p.transition():p).attr("x",o).attr("y",l),v=x.legend.selectAll("rect."+d.legendItemEvent).data(t),(h?v.transition():v).attr("width",function(t){return L[t]}).attr("height",function(t){return F[t]}).attr("x",s).attr("y",u),b=x.legend.selectAll("rect."+d.legendItemTile).data(t),(h?b.transition():b).style("fill",x.color).attr("x",a).attr("y",c),y&&(h?y.transition():y).attr("height",x.getLegendHeight()-12).attr("width",A*(N+1)+10),x.legend.selectAll("."+d.legendItem).classed(d.legendItemHidden,function(t){return!x.isTargetToShow(t)}),x.updateLegendItemWidth(A),x.updateLegendItemHeight(C),x.updateLegendStep(N),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(g,n),x.legendHasRendered=!0},n(e,a),a.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",d.axis+" "+d.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",d.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",d.axis+" "+d.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",d.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",d.axis+" "+d.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",d.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},a.prototype.getXAxis=function(t,e,n,i,r,a,s){var c=this.owner,l=c.config,u={isCategory:c.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:s?0:l.axis_x_tick_rotate,withoutTransition:a},d=o(c.d3,u).scale(t).orient(e);return c.isTimeSeries()&&i&&(i=i.map(function(t){return c.parseDate(t)})),d.tickFormat(n).tickValues(i),c.isCategorized()&&(d.tickCentered(l.axis_x_tick_centered),x(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),d},a.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},a.prototype.getYAxis=function(t,e,n,i,r,a){var s={withOuterTick:r,withoutTransition:a},c=this.owner,l=c.d3,u=c.config,d=o(l,s).scale(t).orient(e).tickFormat(n);return c.isTimeSeriesY()?d.ticks(l.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):d.tickValues(i),d},a.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},a.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(h(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),h(n)?function(e){return n.call(t,e)}:n},a.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},a.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},a.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},a.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},a.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},a.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return g(e)?e:e?e.text:null},a.prototype.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);g(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},a.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},a.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},a.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},a.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},a.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},a.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},a.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},a.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},a.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},a.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},a.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},a.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},a.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},a.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},a.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},a.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},a.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},a.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},a.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},a.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},a.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},a.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},a.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},a.prototype.getMaxTickWidth=function(t,e){var n,i,r,a,o,s=this.owner,c=s.config,l=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(i=s.y.copy().domain(s.getYDomain(n,"y")),r=this.getYAxis(i,s.yOrient,c.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===t?(i=s.y2.copy().domain(s.getYDomain(n,"y2")),r=this.getYAxis(i,s.y2Orient,c.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(i=s.x.copy().domain(s.getXDomain(n)),r=this.getXAxis(i,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),a=s.d3.select("body").append("div").classed("c3",!0),o=a.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o.append("g").call(r).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();l<t.width&&(l=t.width)}),a.remove()})),s.currentMaxTickWidths[t]=0>=l?s.currentMaxTickWidths[t]:l,s.currentMaxTickWidths[t])},a.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+d.axisX+" ."+d.axisXLabel),i=e.main.select("."+d.axisY+" ."+d.axisYLabel),r=e.main.select("."+d.axisY2+" ."+d.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},a.prototype.getPadding=function(t,e,n,i){return f(t[e])?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(t[e],i):n},a.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return e*(t/i)},a.prototype.generateTickValues=function(t,e,n){var i,r,a,o,s,c,l,u=t;if(e)if(i=h(e)?e():e,1===i)u=[t[0]];else if(2===i)u=[t[0],t[t.length-1]];else if(i>2){for(o=i-2,r=t[0],a=t[t.length-1],s=(a-r)/(o+1),u=[r],c=0;o>c;c++)l=+r+s*(c+1),u.push(n?new Date(l):l);u.push(a)}return n||(u=u.sort(function(t,e){return t-e})),u},a.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},a.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},c.getClipPath=function(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"},c.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},c.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},c.getAxisClipY=function(t){return t?-20:-this.margin.top},c.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},c.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},c.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},c.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},c.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},c.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},c.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},c.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},c.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},c.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},c.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},c.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},c.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},c.updateAngle=function(t){var e,n,i=this,r=i.config,a=!1,o=0,s=r.gauge_min,c=r.gauge_max;return i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(e){a||e.data.id!==t.data.id||(a=!0,t=e,t.index=o),o++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),i.isGaugeType(t.data)&&(e=Math.PI/(c-s),n=t.value<s?0:t.value<c?t.value-s:c-s,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),a?t:null},c.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n),r?e(r):"M 0 0")};return n.centroid=e.centroid,n},c.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},c.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},c.transformForArcLabel=function(t){var e,n,i,r,a,o=this,s=o.updateAngle(t),c="";return s&&!o.hasType("gauge")&&(e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),a=o.radius&&r?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/r:0,c="translate("+n*a+","+i*a+")"),c},c.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},c.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},c.textForArcLabel=function(t){var e,n,i,r,a,o=this;return o.shouldShowArcLabel()?(e=o.updateAngle(t),n=e?e.value:null,i=o.getArcRatio(e),r=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(i)?(a=o.getArcLabelFormat(),a?a(n,i,r):o.defaultArcValueFormat(n,i)):""):""},c.expandArc=function(e){var n,i=this;return i.transiting?void(n=t.setInterval(function(){i.transiting||(t.clearInterval(n),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(e))},10)):(e=i.mapToTargetIds(e),void i.svg.selectAll(i.selectorTargets(e,"."+d.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll("path").transition().duration(50).attr("d",i.svgArcExpanded).transition().duration(100).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},c.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+d.chartArc)).selectAll("path").transition().duration(50).attr("d",e.svgArc),e.svg.selectAll("."+d.arc).style("opacity",1))},c.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},c.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},c.meetsArcLabelThreshold=function(t){var e=this,n=e.config,i=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=i},c.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},c.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},c.updateTargetsForArc=function(t){var e,n,i=this,r=i.main,a=i.classChartArc.bind(i),o=i.classArcs.bind(i),s=i.classFocus.bind(i);e=r.select("."+d.chartArcs).selectAll("."+d.chartArc).data(i.pie(t)).attr("class",function(t){return a(t)+s(t.data)}),n=e.enter().append("g").attr("class",a),n.append("g").attr("class",o),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},c.initArc=function(){var t=this;t.arcs=t.main.select("."+d.chart).append("g").attr("class",d.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",d.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},c.redrawArc=function(t,e,n){var i,r=this,a=r.d3,o=r.config,s=r.main;i=s.selectAll("."+d.arcs).selectAll("."+d.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return o.interaction_enabled&&o.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",o.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this))}:null).on("mousemove",o.interaction_enabled?function(t){var e=r.updateAngle(t),n=r.convertToArcData(e),i=[n];r.showTooltip(i,this)}:null).on("mouseout",o.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this))}:null).on("click",o.interaction_enabled?function(t,e){var n=r.updateAngle(t),i=r.convertToArcData(n);r.toggleShape&&r.toggleShape(this,i,e),r.config.data_onclick.call(r.api,i,this)}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=r.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),
isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=a.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+d.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?d.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),s.select("."+d.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+d.chartArcsBackground).attr("d",function(){var t={data:[{value:o.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return r.getArc(t,!0,!0)}),r.arcs.select("."+d.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),r.arcs.select("."+d.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),r.arcs.select("."+d.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/2+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},c.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",d.chartArcsBackground),t.append("text").attr("class",d.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",d.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",d.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},c.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},c.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",d.regions)},c.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+d.regions).selectAll("."+d.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},c.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),i=e.regionX.bind(e),r=e.regionY.bind(e),a=e.regionWidth.bind(e),o=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",a).attr("height",o).style("fill-opacity",function(t){return f(t.opacity)?t.opacity:.1})]},c.regionX=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?r(t.start):0:i.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},c.regionY=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?r(t.end):0:i.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},c.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?a(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,r>e?0:e-r},c.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?a(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,r>e?0:e-r},c.isRegionOnX=function(t){return!t.axis||"x"===t.axis},c.drag=function(t){var e,n,i,r,a,o,s,c,l=this,u=l.config,f=l.main,h=l.d3;l.hasArcType()||u.data_selection_enabled&&(!u.zoom_enabled||l.zoom.altDomain)&&u.data_selection_multiple&&(e=l.dragStart[0],n=l.dragStart[1],i=t[0],r=t[1],a=Math.min(e,i),o=Math.max(e,i),s=u.data_selection_grouped?l.margin.top:Math.min(n,r),c=u.data_selection_grouped?l.height:Math.max(n,r),f.select("."+d.dragarea).attr("x",a).attr("y",s).attr("width",o-a).attr("height",c-s),f.selectAll("."+d.shapes).selectAll("."+d.shape).filter(function(t){return u.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,u,f,g,p=h.select(this),m=p.classed(d.SELECTED),v=p.classed(d.INCLUDED),b=!1;if(p.classed(d.circle))n=1*p.attr("cx"),i=1*p.attr("cy"),f=l.togglePoint,b=n>a&&o>n&&i>s&&c>i;else{if(!p.classed(d.bar))return;g=T(this),n=g.x,i=g.y,r=g.width,u=g.height,f=l.togglePath,b=!(n>o||a>n+r||i>c||s>i+u)}b^v&&(p.classed(d.INCLUDED,!v),p.classed(d.SELECTED,!m),f.call(l,!m,p,t,e))}))},c.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+d.chart).append("rect").attr("class",d.dragarea).style("opacity",.1),e.dragging=!0)},c.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+d.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+d.shape).classed(d.INCLUDED,!1),t.dragging=!1)},c.selectPoint=function(t,e,n){var i=this,r=i.config,a=(r.axis_rotated?i.circleY:i.circleX).bind(i),o=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+d.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+d.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(d.selectedCircle,n)}).attr("cx",a).attr("cy",o).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},c.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected(e,t.node()),i.main.select("."+d.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+d.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},c.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},c.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},c.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},c.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},c.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},c.toggleShape=function(t,e,n){var i=this,r=i.d3,a=i.config,o=r.select(t),s=o.classed(d.SELECTED),c=i.getToggle(t,e).bind(i);a.data_selection_enabled&&a.data_selection_isselectable(e)&&(a.data_selection_multiple||i.main.selectAll("."+d.shapes+(a.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+d.shape).each(function(t,e){var n=r.select(this);n.classed(d.SELECTED)&&c(!1,n.classed(d.SELECTED,!1),t,e)}),o.classed(d.SELECTED,!s),c(!s,o,e,n))},c.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+d.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},c.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility",e.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",d.chart),n.select("."+d.chart).append("g").attr("class",d.chartBars),n.select("."+d.chart).append("g").attr("class",d.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",d.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",d.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},c.updateTargetsForSubchart=function(t){var e,n,i,r,a=this,o=a.context,s=a.config,c=a.classChartBar.bind(a),l=a.classBars.bind(a),u=a.classChartLine.bind(a),f=a.classLines.bind(a),h=a.classAreas.bind(a);s.subchart_show&&(r=o.select("."+d.chartBars).selectAll("."+d.chartBar).data(t).attr("class",c),i=r.enter().append("g").style("opacity",0).attr("class",c),i.append("g").attr("class",l),n=o.select("."+d.chartLines).selectAll("."+d.chartLine).data(t).attr("class",u),e=n.enter().append("g").style("opacity",0).attr("class",u),e.append("g").attr("class",f),e.append("g").attr("class",h),o.selectAll("."+d.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?a.width2:a.height2))},c.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+d.bars).selectAll("."+d.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},c.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},c.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+d.lines).selectAll("."+d.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},c.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},c.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+d.areas).selectAll("."+d.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},c.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},c.redrawSubchart=function(t,e,n,i,r,a,o){var s,c,l,u=this,d=u.d3,f=u.config;u.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(d.event&&"zoom"===d.event.type&&u.brush.extent(u.x.orgDomain()).update(),t&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(r,!0),c=u.generateDrawBar(a,!0),l=u.generateDrawLine(o,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(c,n,n),u.redrawLineForSubchart(l,n,n),u.redrawAreaForSubchart(s,n,n)))},c.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},c.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+d.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},c.getDefaultExtent=function(){var t=this,e=t.config,n=h(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},c.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=y(e.x.orgDomain())/y(e.orgXDomain),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},c.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+d.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+d.eventRect).call(e).on("dblclick.zoom",null)},c.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},c.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=w(e.color_pattern)?e.color_pattern:n.scale.category10().range(),a=e.data_color,o=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(o.indexOf(n)<0&&o.push(n),e=r[o.indexOf(n)%r.length],i[n]=e),a instanceof Function?a(e,t):e}},c.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,i=e.color_threshold,r="value"===i.unit,a=i.values&&i.values.length?i.values:[],o=i.max||100;return w(e.color_threshold)?function(t){var e,i,s=n[n.length-1];for(e=0;e<a.length;e++)if(i=r?t:100*t/o,i<a[e]){s=n[e];break}return s}:null},c.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,a){var o="y2"===e.axis.getId(a)?i:n;return o.call(e,t,r)}},c.yFormat=function(t){var e=this,n=e.config,i=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return i(t)},c.y2Format=function(t){var e=this,n=e.config,i=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return i(t)},c.defaultValueFormat=function(t){return f(t)?+t:""},c.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},c.dataLabelFormat=function(t){var e,n=this,i=n.config.data_labels,r=function(t){return f(t)?+t:""};return e="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[t]?i.format[t]===!0?r:i.format[t]:function(){return""}:r},c.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},c.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},c.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var d=c.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};c.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},c.classText=function(t){return this.generateClass(d.text,t.index)},c.classTexts=function(t){return this.generateClass(d.texts,t.id)},c.classShape=function(t){return this.generateClass(d.shape,t.index)},c.classShapes=function(t){return this.generateClass(d.shapes,t.id)},c.classLine=function(t){return this.classShape(t)+this.generateClass(d.line,t.id)},c.classLines=function(t){return this.classShapes(t)+this.generateClass(d.lines,t.id)},c.classCircle=function(t){return this.classShape(t)+this.generateClass(d.circle,t.index)},c.classCircles=function(t){return this.classShapes(t)+this.generateClass(d.circles,t.id)},c.classBar=function(t){return this.classShape(t)+this.generateClass(d.bar,t.index)},c.classBars=function(t){return this.classShapes(t)+this.generateClass(d.bars,t.id)},c.classArc=function(t){return this.classShape(t.data)+this.generateClass(d.arc,t.data.id)},c.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(d.arcs,t.data.id)},c.classArea=function(t){return this.classShape(t)+this.generateClass(d.area,t.id)},c.classAreas=function(t){return this.classShapes(t)+this.generateClass(d.areas,t.id)},c.classRegion=function(t,e){return this.generateClass(d.region,e)+" "+("class"in t?t["class"]:"")},c.classEvent=function(t){return this.generateClass(d.eventRect,t.index)},c.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+d.target+"-"+n),e.generateClass(d.target,t)+i},c.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},c.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?d.focused:"")},c.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?d.defocused:"")},c.classChartText=function(t){return d.chartText+this.classTarget(t.id)},c.classChartLine=function(t){return d.chartLine+this.classTarget(t.id)},c.classChartBar=function(t){return d.chartBar+this.classTarget(t.id)},c.classChartArc=function(t){return d.chartArc+this.classTarget(t.data.id)},c.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},c.selectorTarget=function(t,e){return(e||"")+"."+d.target+this.getTargetSelectorSuffix(t)},c.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},c.selectorLegend=function(t){return"."+d.legendItem+this.getTargetSelectorSuffix(t)},c.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var f=c.isValue=function(t){return t||0===t},h=c.isFunction=function(t){return"function"==typeof t},g=c.isString=function(t){return"string"==typeof t},p=c.isUndefined=function(t){return"undefined"==typeof t},m=c.isDefined=function(t){return"undefined"!=typeof t},v=c.ceil10=function(t){return 10*Math.ceil(t/10)},b=c.asHalfPixel=function(t){return Math.ceil(t)+.5},y=c.diffDomain=function(t){return t[1]-t[0]},x=c.isEmpty=function(t){return!t||g(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},w=c.notEmpty=function(t){return Object.keys(t).length>0},_=c.getOption=function(t,e,n){return m(t[e])?t[e]:n},k=c.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},T=c.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:e.width,height:e.height}};s.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(d.focused,!0).classed(d.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},s.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(d.focused,!1).classed(d.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},s.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(d.focused,!1).classed(d.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(d.legendItemFocused)}).classed(d.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},s.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},s.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},s.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},s.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},s.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},s.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},s.flow=function(t){var e,n,i,r,a,o,s,c,l=this.internal,u=[],d=l.getMaxDataCount(),h=0,g=0;if(t.json)n=l.convertJsonToData(t.json,t.keys);else if(t.rows)n=l.convertRowsToData(t.rows);else{if(!t.columns)return;n=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(n,!0),l.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(g=t.values[t.values.length-1].index+1),h=e[n].values.length,i=0;h>i;i++)e[n].values[i].index=g+i,l.isTimeSeries()||(e[n].values[i].x=g+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||u.push(t.id)}),l.data.targets.forEach(function(t){var e,n;for(e=0;e<u.length;e++)if(t.id===u[e])for(g=t.values[t.values.length-1].index+1,n=0;h>n;n++)t.values.push({id:t.id,index:g+n,x:l.isTimeSeries()?l.getOtherTargetX(g+n):g+n,value:null})}),l.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=l.data.targets[0].values[0].index;g>e;e++)n.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=g,l.isTimeSeries()||(t.x+=g)}),t.values=n.concat(t.values)}),l.data.targets=l.data.targets.concat(e),i=l.getMaxDataCount(),a=l.data.targets[0],o=a.values[0],m(t.to)?(h=0,c=l.isTimeSeries()?l.parseDate(t.to):t.to,a.values.forEach(function(t){t.x<c&&h++})):m(t.length)&&(h=t.length),d?1===d&&l.isTimeSeries()&&(s=(a.values[a.values.length-1].x-o.x)/2,r=[new Date(+o.x-s),new Date(+o.x+s)],l.updateXDomain(null,!0,!0,!1,r)):(s=l.isTimeSeries()?a.values.length>1?a.values[a.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,r=[o.x-s,o.x],l.updateXDomain(null,!0,!0,!1,r)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:h,duration:f(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},c.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var r,a,o,s=t.targets,c=t.flow,l=t.drawBar,u=t.drawLine,f=t.drawArea,h=t.cx,g=t.cy,p=t.xv,m=t.xForText,v=t.yForText,b=t.duration,x=1,w=c.index,_=c.length,k=e.getValueOnIndex(e.data.targets[0].values,w),T=e.getValueOnIndex(e.data.targets[0].values,w+_),A=e.x.domain(),C=c.duration||b,S=c.done||function(){},M=e.generateWait(),E=e.xgrid||i.selectAll([]),D=e.xgridLines||i.selectAll([]),L=e.mainRegion||i.selectAll([]),F=e.mainText||i.selectAll([]),P=e.mainBar||i.selectAll([]),I=e.mainLine||i.selectAll([]),N=e.mainArea||i.selectAll([]),O=e.mainCircle||i.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,_)}),o=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),c.orgDataCount?r=1===c.orgDataCount||k.x===T.x?e.x(A[0])-e.x(o[0]):e.isTimeSeries()?e.x(A[0])-e.x(o[0]):e.x(k.x)-e.x(T.x):1!==e.data.targets[0].values.length?r=e.x(A[0])-e.x(o[0]):e.isTimeSeries()?(k=e.getValueOnIndex(e.data.targets[0].values,0),T=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(k.x)-e.x(T.x)):r=y(o)/2,x=y(A)/y(o),a="translate("+r+",0) scale("+x+",1)",e.hideXGridFocus(),e.hideTooltip(),i.transition().ease("linear").duration(C).each(function(){M.add(e.axes.x.transition().call(e.xAxis)),M.add(P.transition().attr("transform",a)),M.add(I.transition().attr("transform",a)),M.add(N.transition().attr("transform",a)),M.add(O.transition().attr("transform",a)),M.add(F.transition().attr("transform",a)),M.add(L.filter(e.isRegionOnX).transition().attr("transform",a)),M.add(E.transition().attr("transform",a)),M.add(D.transition().attr("transform",a))}).call(M,function(){var t,i=[],r=[],a=[];if(_){for(t=0;_>t;t++)i.push("."+d.shape+"-"+(w+t)),r.push("."+d.text+"-"+(w+t)),a.push("."+d.eventRect+"-"+(w+t));e.svg.selectAll("."+d.shapes).selectAll(i).remove(),e.svg.selectAll("."+d.texts).selectAll(r).remove(),e.svg.selectAll("."+d.eventRects).selectAll(a).remove(),e.svg.select("."+d.xgrid).remove()}E.attr("transform",null).attr(e.xgridAttr),D.attr("transform",null),D.select("line").attr("x1",n.axis_rotated?0:p).attr("x2",n.axis_rotated?e.width:p),D.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",p),P.attr("transform",null).attr("d",l),I.attr("transform",null).attr("d",u),N.attr("transform",null).attr("d",f),O.attr("transform",null).attr("cx",h).attr("cy",g),F.attr("transform",null).attr("x",m).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),L.attr("transform",null),L.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),S(),e.flowing=!1})}},s.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+d.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+d.shape).filter(function(){return n.select(this).classed(d.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},s.select=function(t,e,n){var i=this.internal,r=i.d3,a=i.config;a.data_selection_enabled&&i.main.selectAll("."+d.shapes).selectAll("."+d.shape).each(function(o,s){var c=r.select(this),l=o.data?o.data.id:o.id,u=i.getToggle(this,o).bind(i),f=a.data_selection_grouped||!t||t.indexOf(l)>=0,h=!e||e.indexOf(s)>=0,g=c.classed(d.SELECTED);c.classed(d.line)||c.classed(d.area)||(f&&h?a.data_selection_isselectable(o)&&!g&&u(!0,c.classed(d.SELECTED,!0),o,s):m(n)&&n&&g&&u(!1,c.classed(d.SELECTED,!1),o,s))})},s.unselect=function(t,e){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+d.shapes).selectAll("."+d.shape).each(function(a,o){var s=i.select(this),c=a.data?a.data.id:a.id,l=n.getToggle(this,a).bind(n),u=r.data_selection_grouped||!t||t.indexOf(c)>=0,f=!e||e.indexOf(o)>=0,h=s.classed(d.SELECTED);s.classed(d.line)||s.classed(d.area)||u&&f&&r.data_selection_isselectable(a)&&h&&l(!1,s.classed(d.SELECTED,!1),a,o)})},s.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},c.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),a=n||{withTransitionForAxis:r};a.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(a)},s.groups=function(t){var e=this.internal,n=e.config;return p(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},s.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},s.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},s.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},s.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},s.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},s.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},s.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},s.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},s.regions.remove=function(t){var e,n,i,r=this.internal,a=r.config;return t=t||{},e=r.getOption(t,"duration",a.transition_duration),n=r.getOption(t,"classes",[d.region]),i=r.main.select("."+d.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),a.regions},s.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},s.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},s.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},s.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t);

},s.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},s.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},s.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},s.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},s.color=function(t){var e=this.internal;return e.color(t)},s.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.axis=function(){},s.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},s.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_max=t.x),f(t.y)&&(n.axis_y_max=t.y),f(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},s.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_min=t.x),f(t.y)&&(n.axis_y_min=t.y),f(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},s.axis.range=function(t){return arguments.length?(m(t.max)&&this.axis.max(t.max),void(m(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},s.legend=function(){},s.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},s.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},s.destroy=function(){var e=this.internal;return t.clearInterval(e.intervalForObserveInserted),t.onresize=null,e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},s.tooltip=function(){},s.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=f(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n)},s.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var A;c.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},c.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"function"==typeof define&&define.amd?define("c3",["d3"],u):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=u:t.c3=u}(window),function(){var t=window.nv||{};window.nv=t,t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.graphs=[],t.logs={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),t.dev&&(t.dispatch.on("render_start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e){t.dev&&console&&console.warn&&console.warn("`"+e+"` has been deprecated.")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start(),setTimeout(function(){for(var n,i,r=0;e>r&&(i=t.render.queue[r]);r++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n),t.graphs.push(n);t.render.queue.splice(0,r),t.render.queue.length?setTimeout(arguments.callee,0):(t.dispatch.render_end(),t.render.active=!1)},0)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function f(){var t=d3.mouse(this),i=t[0],r=t[1],c=!0,l=!1;if(u&&(i=d3.event.offsetX,r=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(c=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0)),c&&(i-=a.left,r-=a.top),0>i||0>r||i>g||r>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||l){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return s.elementMouseout({mouseX:i,mouseY:r}),void e.renderGuideLine(null)}var d=o.invert(i);s.elementMousemove({mouseX:i,mouseY:r,pointXValue:d}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:i,mouseY:r,pointXValue:d}),"click"===d3.event.type&&s.elementClick({mouseX:i,mouseY:r,pointXValue:d})}var h=d3.select(this),g=i||960,p=r||400,m=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),v=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");v.append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.renderGuideLine=function(e){if(c){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),n.exit().remove()}})})}var n=t.models.tooltip(),i=null,r=null,a={left:0,top:0},o=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick")),c=!0,l=null,u="ActiveXObject"in window;return e.dispatch=s,e.tooltip=n,e.margin=function(t){return arguments.length?(a.top="undefined"!=typeof t.top?t.top:a.top,a.left="undefined"!=typeof t.left?t.left:a.left,e):a},e.width=function(t){return arguments.length?(i=t,e):i},e.height=function(t){return arguments.length?(r=t,e):r},e.xScale=function(t){return arguments.length?(o=t,e):o},e.showGuideLine=function(t){return arguments.length?(c=t,e):c},e.svgContainer=function(t){return arguments.length?(l=t,e):l},e},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;"function"!=typeof n&&(n=function(t,e){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),a=n(t[r],r);if("undefined"==typeof a&&(a=r),a===e)return r;var o=d3.min([r+1,t.length-1]),s=n(t[o],o);return"undefined"==typeof s&&(s=o),Math.abs(s-e)>=Math.abs(a-e)?r:o},t.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,a){var o=Math.abs(e-t);i>=o&&n>o&&(i=o,r=a)}),r},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function e(){if(d){var t=d3.select(d);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];h.left=h.left*n,h.top=h.top*n}}}function n(t){var e;e=d3.select(d?d:"body");var n=e.select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(u?u:"xy-tooltip")).attr("id",p)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function i(){if(g&&x(a)){e();var r=h.left,u=null!=l?l:h.top,p=n(y(a));if(f=p,d){var m=d.getElementsByTagName("svg")[0],v=(m?m.getBoundingClientRect():d.getBoundingClientRect(),{left:0,top:0});if(m){var b=m.getBoundingClientRect(),w=d.getBoundingClientRect(),_=b.top;if(0>_){var k=d.getBoundingClientRect();_=Math.abs(_)>k.height?0:_}v.top=Math.abs(_-w.top),v.left=Math.abs(b.left-w.left)}r+=d.offsetLeft+v.left-2*d.scrollLeft,u+=d.offsetTop+v.top-2*d.scrollTop}return c&&c>0&&(u=Math.floor(u/c)*c),t.tooltip.calcTooltipPosition([r,u],o,s,p),i}}var r=null,a=null,o="w",s=50,c=25,l=null,u=null,d=null,f=null,h={left:null,top:null},g=!0,p="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",v=function(t,e){return t},b=function(t){return t},y=function(t){if(null!=r)return r;if(null==t)return"";var e=d3.select(document.createElement("table")),n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(b(t.value));var i=e.selectAll("tbody").data([t]).enter().append("tbody"),a=i.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});a.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),a.append("td").classed("key",!0).html(function(t){return t.key}),a.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),a.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var o=e.node().outerHTML;return void 0!==t.footer&&(o+="<div class='footer'>"+t.footer+"</div>"),o},x=function(t){return t&&t.series&&t.series.length>0?!0:!1};return i.nvPointerEventsClass=m,i.content=function(t){return arguments.length?(r=t,i):r},i.tooltipElem=function(){return f},i.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(y=t),i):y},i.data=function(t){return arguments.length?(a=t,i):a},i.gravity=function(t){return arguments.length?(o=t,i):o},i.distance=function(t){return arguments.length?(s=t,i):s},i.snapDistance=function(t){return arguments.length?(c=t,i):c},i.classes=function(t){return arguments.length?(u=t,i):u},i.chartContainer=function(t){return arguments.length?(d=t,i):d},i.position=function(t){return arguments.length?(h.left="undefined"!=typeof t.left?t.left:h.left,h.top="undefined"!=typeof t.top?t.top:h.top,i):h},i.fixedTop=function(t){return arguments.length?(l=t,i):l},i.enabled=function(t){return arguments.length?(g=t,i):g},i.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),i):v},i.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(b=t),i):b},i.id=function(){return p},i},t.tooltip.show=function(e,n,i,r,a,o){var s=document.createElement("div");s.className="nvtooltip "+(o?o:"xy-tooltip");var c=a;(!a||a.tagName.match(/g|svg/i))&&(c=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,"string"!=typeof n?s.appendChild(n):s.innerHTML=n,c.appendChild(s),a&&(e[0]=e[0]-a.scrollLeft,e[1]=e[1]-a.scrollTop),t.tooltip.calcTooltipPosition(e,i,r,s)},t.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},t.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},t.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},t.tooltip.calcTooltipPosition=function(e,n,i,r){var a,o,s=parseInt(r.offsetHeight),c=parseInt(r.offsetWidth),l=t.utils.windowSize().width,u=t.utils.windowSize().height,d=window.pageYOffset,f=window.pageXOffset;u=window.innerWidth>=document.body.scrollWidth?u:u-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16,n=n||"s",i=i||20;var h=function(e){return t.tooltip.findTotalOffsetTop(e,o)},g=function(e){return t.tooltip.findTotalOffsetLeft(e,a)};switch(n){case"e":a=e[0]-c-i,o=e[1]-s/2;var p=g(r),m=h(r);f>p&&(a=e[0]+i>f?e[0]+i:f-p+a),d>m&&(o=d-m+o),m+s>d+u&&(o=d+u-m+o-s);break;case"w":a=e[0]+i,o=e[1]-s/2;var p=g(r),m=h(r);p+c>l&&(a=e[0]-c-i),d>m&&(o=d+5),m+s>d+u&&(o=d+u-m+o-s);break;case"n":a=e[0]-c/2-5,o=e[1]+i;var p=g(r),m=h(r);f>p&&(a=f+5),p+c>l&&(a=a-c/2+5),m+s>d+u&&(o=d+u-m+o-s);break;case"s":a=e[0]-c/2,o=e[1]-s-i;var p=g(r),m=h(r);f>p&&(a=f+5),p+c>l&&(a=a-c/2+5),d>m&&(o=d);break;case"none":a=e[0],o=e[1]-i;var p=g(r),m=h(r)}return r.style.left=a+"px",r.style.top=o+"px",r.style.opacity=1,r.style.position="absolute",r},t.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),t.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){return arguments.length?e instanceof Array?function(t,n){return t.color||e[n%e.length]}:e:t.utils.defaultColor()},t.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},t.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||d3.scale.category20().range();var i=n.length;return function(r,a){var o=e(r);return"function"==typeof t[o]?t[o]():void 0!==t[o]?t[o]:(i||(i=n.length),i-=1,n[i])}},t.utils.pjax=function(e,n){var i=function(i){d3.html(i,function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),i(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&i(d3.event.state)})},t.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px","")),n=t.text().length;return n*e*.5}return 0},t.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var i=void 0!==n?n:250,r=[],a=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,a.renderEnd("model")})}(t),r.indexOf(t)<0&&r.push(t)}),this},this.reset=function(t){void 0!==t&&(i=t),r=[]},this.transition=function(t,e,n){if(e=arguments.length>1?[].slice.call(arguments,1):[],n=e.length>1?e.pop():void 0!==i?i:250,t.__rendered=!1,r.indexOf(t)<0&&r.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;t.__rendered=0===t.length?!0:t.every(function(t){return!t.length})?!0:!1;var o=0;return t.transition().duration(n).each(function(){++o}).each("end",function(n,i){0===--o&&(t.__rendered=!0,a.renderEnd.apply(this,e))})},this.renderEnd=function(){r.every(function(t){return t.__rendered})&&(r.forEach(function(t){t.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(key in n){var i=e[key]instanceof Array,r="object"==typeof e[key],a="object"==typeof n[key];r&&!i&&a?t.utils.deepExtend(e[key],n[key]):e[key]=n[key]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},i=function(){return{}},r=null,a=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return i=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,i){t(n),i&&e()},this},this.init=function(e){r=r||{},t.utils.deepExtend(r,e)};var o=function(){var t=i();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],a=!0;return!0};this.update=function(){r&&(n(r,!1),r=null),o.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return t.deprecated("nv.utils.optionsFunc"),e&&d3.map(e).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var i=1,r=0;for(r;r<n.length;r+=1){var a=n[r]&&n[r].values?n[r].values.length:0;i=a>i?a:i}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",i),e=e>i?e=i-1:e,e=1>e?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t[e]=t._calls&&t._calls[e]?t._calls[e]:function(n){return arguments.length?(t._options[e]=n,t):t._options[e]}},t.utils.initOptions=function(e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{});n=n.concat(i);for(var r in n)t.utils.initOption(e,n[r])},t.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,r){var a=n.call(this,e,r),o=i.call(this,e,r);return-1!==d3.svg.symbolTypes.indexOf(a)?d3.svg.symbol().type(a).size(o)():t.utils.symbolMap.get(a)(o)}var n,i=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(i=d3.functor(t),e):i},e},t.utils.inheritOptions=function(e,n){var i=Object.getOwnPropertyNames(n._options||{}),r=Object.getOwnPropertyNames(n._calls||{}),a=n._inherited||[],o=n._d3options||[],s=i.concat(r).concat(a).concat(o);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(i.concat(r).concat(a).concat(i).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(o.concat(e._d3options||[]))},t.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},t.models.axis=function(){"use strict";function e(o){return y.reset(),o.each(function(e){var o=d3.select(this);t.utils.initSVG(o);var m=o.selectAll("g.nv-wrap.nv-axis").data([e]),v=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),x=(v.append("g"),m.select("g"));null!==g?n.ticks(g):("top"==n.orient()||"bottom"==n.orient())&&n.ticks(Math.abs(i.range()[1]-i.range()[0])/100),x.watchTransition(y,"axis").call(n),b=b||n.scale();var w=n.tickFormat();null==w&&(w=b.tickFormat());var _=x.selectAll("text.nv-axislabel").data([s||null]);switch(_.exit().remove(),n.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel");var k;if(k=i.range().length<2?0:2===i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]),_.attr("text-anchor","middle").attr("y",0).attr("x",k/2),c){var T=m.selectAll("g.nv-axisMaxMin").data(i.domain());T.enter().append("g").attr("class","nv-axisMaxMin").append("text"),T.exit().remove(),T.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(i(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),T.watchTransition(y,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(i.range()[n])+",0)"})}break;case"bottom":var A=p+36,C=30,S=x.selectAll("g").select("text");if(u%360){S.each(function(t,e){var n=this.getBoundingClientRect().width;n>C&&(C=n)});var M=Math.abs(Math.sin(u*Math.PI/180)),A=(M?M*C:C)+30;S.attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u%360>0?"start":"end")}_.enter().append("text").attr("class","nv-axislabel");var k;if(k=i.range().length<2?0:2===i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]),_.attr("text-anchor","middle").attr("y",A).attr("x",k/2),c){var T=m.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]]);T.enter().append("g").attr("class","nv-axisMaxMin").append("text"),T.exit().remove(),T.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(i(e)+(h?i.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u?u%360>0?"start":"end":"middle").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),T.watchTransition(y,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(i(e)+(h?i.rangeBand()/2:0))+",0)"})}f&&S.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?-Math.max(r.right,a)+12:-10).attr("x",d?i.range()[0]/2:n.tickPadding()),c){var T=m.selectAll("g.nv-axisMaxMin").data(i.domain());T.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),T.exit().remove(),T.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(i(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),T.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(i.range()[n])+")"}).select("text").style("opacity",1)}break;case"left":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?-Math.max(r.left,a)+25-(p||0):-10).attr("x",d?-i.range()[0]/2:-n.tickPadding()),c){var T=m.selectAll("g.nv-axisMaxMin").data(i.domain());T.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),T.exit().remove(),T.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(b(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),T.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(i.range()[n])+")"}).select("text").style("opacity",1)}}if(_.text(function(t){return t}),!c||"left"!==n.orient()&&"right"!==n.orient()||(x.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),c&&("top"===n.orient()||"bottom"===n.orient())){var E=[];m.selectAll("g.nv-axisMaxMin").each(function(t,e){try{E.push(e?i(t)-this.getBoundingClientRect().width-4:i(t)+this.getBoundingClientRect().width+4)}catch(n){E.push(e?i(t)-4:i(t)+4)}}),x.selectAll("g").each(function(t,e){(i(t)<E[0]||i(t)>E[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&x.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*this.__data__)/1e6)&&void 0!==this.__data__}).classed("zero",!0),b=i.copy()}),y.renderEnd("axis immediate"),e}var n=d3.svg.axis(),i=d3.scale.linear(),r={top:0,right:0,bottom:0,left:0},a=75,o=60,s=null,c=!0,l=!0,u=0,d=!0,f=!1,h=!1,g=null,p=0,m=250,v=d3.dispatch("renderEnd");n.scale(i).orient("bottom").tickFormat(function(t){return t});var b,y=t.utils.renderWatch(v,m);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return u},set:function(t){u=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},highlightZero:{get:function(){return l},set:function(t){l=t}},showMaxMin:{get:function(){return c},set:function(t){c=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return o},set:function(t){o=t}},ticks:{get:function(){return g},set:function(t){g=t}},width:{get:function(){return a},set:function(t){a=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},duration:{get:function(){return m},set:function(t){m=t,y.reset(m)}},scale:{get:function(){return i},set:function(r){i=r,n.scale(i),h="function"==typeof i.rangeBands,t.utils.inheritOptionsD3(e,i,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,i,["domain","range","rangeBand","rangeBands"]),e},t.models.bullet=function(){"use strict";function e(i){return i.each(function(e,i){var g=f-n.left-n.right,v=h-n.top-n.bottom,b=d3.select(this);t.utils.initSVG(b);{var y=a.call(this,e,i).slice().sort(d3.descending),x=o.call(this,e,i).slice().sort(d3.descending),w=s.call(this,e,i).slice().sort(d3.descending),_=c.call(this,e,i).slice(),k=l.call(this,e,i).slice(),T=u.call(this,e,i).slice(),A=d3.scale.linear().domain(d3.extent(d3.merge([d,y]))).range(r?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(A.range())}this.__chart__=A;var C=d3.min(y),S=d3.max(y),M=y[1],E=b.selectAll("g.nv-wrap.nv-bullet").data([e]),D=E.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),L=D.append("g"),F=E.select("g");L.append("rect").attr("class","nv-range nv-rangeMax"),L.append("rect").attr("class","nv-range nv-rangeAvg"),L.append("rect").attr("class","nv-range nv-rangeMin"),L.append("rect").attr("class","nv-measure"),L.append("path").attr("class","nv-markerTriangle"),E.attr("transform","translate("+n.left+","+n.top+")");var P=function(t){return Math.abs(A(t)-A(0))},I=function(t){return A(0>t?t:0)};F.select("rect.nv-rangeMax").attr("height",v).attr("width",P(S>0?S:C)).attr("x",I(S>0?S:C)).datum(S>0?S:C),F.select("rect.nv-rangeAvg").attr("height",v).attr("width",P(M)).attr("x",I(M)).datum(M),F.select("rect.nv-rangeMin").attr("height",v).attr("width",P(S)).attr("x",I(S)).attr("width",P(S>0?C:S)).attr("x",I(S>0?C:S)).datum(S>0?C:S),F.select("rect.nv-measure").style("fill",p).attr("height",v/3).attr("y",v/3).attr("width",0>w?A(0)-A(w[0]):A(w[0])-A(0)).attr("x",I(w)).on("mouseover",function(){m.elementMouseover({value:w[0],label:T[0]||"Current",pos:[A(w[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:T[0]||"Current"})});var N=v/6;x[0]?F.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+A(x[0])+","+v/2+")"}).attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",function(){m.elementMouseover({value:x[0],label:k[0]||"Previous",pos:[A(x[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:x[0],label:k[0]||"Previous"})}):F.selectAll("path.nv-markerTriangle").remove(),E.selectAll(".nv-range").on("mouseover",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseover({value:t,label:n,pos:[A(t),v/2]})}).on("mouseout",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseout({value:t,label:n})})}),e}var n={top:0,right:0,bottom:0,left:0},i="left",r=!1,a=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[0]},s=function(t){return t.measures},c=function(t){return t.rangeLabels?t.rangeLabels:[]},l=function(t){return t.markerLabels?t.markerLabels:[]},u=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],f=380,h=30,g=null,p=t.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return d},set:function(t){d=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},tickFormat:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},orient:{get:function(){return i},set:function(t){i=t,r="right"==i||"bottom"==i}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(i){return i.each(function(h,v){var b=d3.select(this);t.utils.initSVG(b);var y=(l||parseInt(b.style("width"))||960)-a.left-a.right,x=u-a.top-a.bottom,w=this;if(e.update=function(){e(i)},e.container=this,!h||!o.call(this,h,v)){var _=b.selectAll(".nv-noData").data([g]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",a.left+y/2).attr("y",18+a.top+x/2).text(function(t){return t}),e}b.selectAll(".nv-noData").remove();var k=o.call(this,h,v).slice().sort(d3.descending),T=s.call(this,h,v).slice().sort(d3.descending),A=c.call(this,h,v).slice().sort(d3.descending),C=b.selectAll("g.nv-wrap.nv-bulletChart").data([h]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),M=S.append("g"),E=C.select("g");M.append("g").attr("class","nv-bulletWrap"),M.append("g").attr("class","nv-titles"),C.attr("transform","translate("+a.left+","+a.top+")");var D=d3.scale.linear().domain([0,Math.max(k[0],T[0],A[0])]).range(r?[y,0]:[0,y]),L=this.__chart__||d3.scale.linear().domain([0,1/0]).range(D.range());this.__chart__=D;var F=M.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-a.top-a.bottom)/2+")");F.append("text").attr("class","nv-title").text(function(t){return t.title}),F.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(y).height(x);var P=E.select(".nv-bulletWrap");d3.transition(P).call(n);var I=d||D.tickFormat(y/100),N=E.selectAll("g.nv-tick").data(D.ticks(y/50),function(t){return this.textContent||I(t)}),O=N.enter().append("g").attr("class","nv-tick").attr("transform",function(t){
return"translate("+L(t)+",0)"}).style("opacity",1e-6);O.append("line").attr("y1",x).attr("y2",7*x/6),O.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*x/6).text(I);var R=d3.transition(N).attr("transform",function(t){return"translate("+D(t)+",0)"}).style("opacity",1);R.select("line").attr("y1",x).attr("y2",7*x/6),R.select("text").attr("y",7*x/6),d3.transition(N.exit()).attr("transform",function(t){return"translate("+D(t)+",0)"}).style("opacity",1e-6).remove(),p.on("tooltipShow",function(t){t.key=h.title,f&&m(t,w.parentNode)})}),d3.timer.flush(),e}var n=t.models.bullet(),i="left",r=!1,a={top:5,right:40,bottom:20,left:120},o=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[0]},c=function(t){return t.measures},l=null,u=55,d=null,f=!0,h=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},g="No Data Available.",p=d3.dispatch("tooltipShow","tooltipHide"),m=function(n,i){var r=n.pos[0]+(i.offsetLeft||0)+a.left,o=n.pos[1]+(i.offsetTop||0)+a.top,s=h(n.key,n.label,n.value,n,e);t.tooltip.show([r,o],s,n.value<0?"e":"w",null,i)};return n.dispatch.on("elementMouseover.tooltip",function(t){p.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){p.tooltipHide(t)}),p.on("tooltipHide",function(){f&&t.tooltip.cleanup()}),e.bullet=n,e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(t){o=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return c},set:function(t){c=t}},width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},tooltips:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},orient:{get:function(){return i},set:function(t){i=t,r="right"==i||"bottom"==i}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(k){return I.reset(),I.models(a),m&&I.models(o),v&&I.models(s),k.each(function(k){function L(t,n){d3.select(e.container).style("cursor","ew-resize")}function I(t,e){P.x=d3.event.x,P.i=Math.round(F.invert(P.x)),j()}function z(t,n){d3.select(e.container).style("cursor","auto"),A.index=P.i,E.stateChange(A)}function j(){at.data([P]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var q=d3.select(this);t.utils.initSVG(q),q.classed("nv-chart-"+T,!0);var H=this,B=(h||parseInt(q.style("width"))||960)-d.left-d.right,X=(g||parseInt(q.style("height"))||400)-d.top-d.bottom;if(e.update=function(){0===D?q.call(e):q.transition().duration(D).call(e)},e.container=this,A.setter(R(k),e.update).getter(O(k)).update(),A.disabled=k.map(function(t){return!!t.disabled}),!C){var W;C={};for(W in A)C[W]=A[W]instanceof Array?A[W].slice(0):A[W]}var Y=d3.behavior.drag().on("dragstart",L).on("drag",I).on("dragend",z);if(!(k&&k.length&&k.filter(function(t){return t.values.length}).length)){var V=q.selectAll(".nv-noData").data([S]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",d.left+B/2).attr("y",d.top+X/2).text(function(t){return t}),e}if(q.selectAll(".nv-noData").remove(),i=a.xScale(),r=a.yScale(),_)a.yDomain(null);else{var U=k.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,a.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),G=[d3.min(U,function(t){return t[0]}),d3.max(U,function(t){return t[1]})];a.yDomain(G)}F.domain([0,k[0].values.length-1]).range([0,B]).clamp(!0);var k=n(P.i,k),$=w?"none":"all",Z=q.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),Q=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),K=Z.select("g");if(Q.append("g").attr("class","nv-interactive"),Q.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),Q.append("g").attr("class","nv-y nv-axis"),Q.append("g").attr("class","nv-background"),Q.append("g").attr("class","nv-linesWrap").style("pointer-events",$),Q.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),Q.append("g").attr("class","nv-legendWrap"),Q.append("g").attr("class","nv-controlsWrap"),p&&(c.width(B),K.select(".nv-legendWrap").datum(k).call(c),d.top!=c.height()&&(d.top=c.height(),X=(g||parseInt(q.style("height"))||400)-d.top-d.bottom),K.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),x){var J=[{key:"Re-scale y-axis",disabled:!_}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),K.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-d.top+")").call(l)}Z.attr("transform","translate("+d.left+","+d.top+")"),b&&K.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)");var tt=k.filter(function(t){return t.tempDisabled});Z.select(".tempDisabled").remove(),tt.length&&Z.append("text").attr("class","tempDisabled").attr("x",B/2).attr("y","-.71em").style("text-anchor","end").text(tt.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),w&&(u.width(B).height(X).margin({left:d.left,top:d.top}).svgContainer(q).xScale(i),Z.select(".nv-interactive").call(u)),Q.select(".nv-background").append("rect"),K.select(".nv-background rect").attr("width",B).attr("height",X),a.y(function(t){return t.display.y}).width(B).height(X).color(k.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!k[e].disabled&&!k[e].tempDisabled}));var et=K.select(".nv-linesWrap").datum(k.filter(function(t){return!t.disabled&&!t.tempDisabled}));et.call(a),k.forEach(function(t,e){t.seriesIndex=e});var nt=k.filter(function(t){return!t.disabled&&!!M(t)}),it=K.select(".nv-avgLinesWrap").selectAll("line").data(nt,function(t){return t.key}),rt=function(t){var e=r(M(t));return 0>e?0:e>X?X:e};it.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return a.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",B).attr("y1",rt).attr("y2",rt),it.style("stroke-opacity",function(t){var e=r(M(t));return 0>e||e>X?0:1}).attr("x1",0).attr("x2",B).attr("y1",rt).attr("y2",rt),it.exit().remove();var at=et.selectAll(".nv-indexLine").data([P]);at.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(Y),at.attr("transform",function(t){return"translate("+F(t.i)+",0)"}).attr("height",X),m&&(o.scale(i).ticks(t.utils.calcTicksX(B/70,k)).tickSize(-X,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),K.select(".nv-x.nv-axis").call(o)),v&&(s.scale(r).ticks(t.utils.calcTicksY(X/36,k)).tickSize(-B,0),K.select(".nv-y.nv-axis").call(s)),K.select(".nv-background rect").on("click",function(){P.x=d3.mouse(this)[0],P.i=Math.round(F.invert(P.x)),A.index=P.i,E.stateChange(A),j()}),a.dispatch.on("elementClick",function(t){P.i=t.pointIndex,P.x=F(P.i),A.index=P.i,E.stateChange(A),j()}),l.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,_=!t.disabled,A.rescaleY=_,E.stateChange(A),e.update()}),c.dispatch.on("stateChange",function(t){for(var n in t)A[n]=t[n];E.stateChange(A),e.update()}),u.dispatch.on("elementMousemove",function(n){a.clearHighlights();var i,r,c,l=[];if(k.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){r=t.interactiveBisect(o.values,n.pointXValue,e.x()),a.highlightPoint(s,r,!0);var u=o.values[r];"undefined"!=typeof u&&("undefined"==typeof i&&(i=u),"undefined"==typeof c&&(c=e.xScale()(e.x()(u,r))),l.push({key:o.key,value:e.y()(u,r),color:f(o,o.seriesIndex)}))}),l.length>2){var h=e.yScale().invert(n.mouseY),g=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),p=.03*g,m=t.nearestValueIndex(l.map(function(t){return t.value}),h,p);null!==m&&(l[m].highlight=!0)}var v=o.tickFormat()(e.x()(i,r),r);u.tooltip.position({left:c+d.left,top:n.mouseY+d.top}).chartContainer(H.parentNode).enabled(y).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:v,series:l})(),u.renderGuideLine(c)}),u.dispatch.on("elementMouseout",function(t){E.tooltipHide(),a.clearHighlights()}),E.on("tooltipShow",function(t){y&&N(t,H.parentNode)}),E.on("changeState",function(t){"undefined"!=typeof t.disabled&&(k.forEach(function(e,n){e.disabled=t.disabled[n]}),A.disabled=t.disabled),"undefined"!=typeof t.index&&(P.i=t.index,P.x=F(P.i),A.index=t.index,at.data([P])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),I.renderEnd("cumulativeLineChart immediate"),e}function n(t,e){return z||(z=a.y()),e.map(function(e,n){if(!e.values)return e;var i=e.values[t];if(null==i)return e;var r=z(i,t);return-.95>r&&!L?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(z(t,e)-r)/(1+r)},t}),e)})}var i,r,a=t.models.line(),o=t.models.axis(),s=t.models.axis(),c=t.models.legend(),l=t.models.legend(),u=t.interactiveGuideline(),d={top:30,right:30,bottom:50,left:60},f=t.utils.defaultColor(),h=null,g=null,p=!0,m=!0,v=!0,b=!1,y=!0,x=!0,w=!1,_=!0,k=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},T=a.id(),A=t.utils.state(),C=null,S="No Data Available.",M=function(t){return t.average},E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),D=250,L=!1;A.index=0,A.rescaleY=_,o.orient("bottom").tickPadding(7),s.orient(b?"right":"left"),l.updateState(!1);var F=d3.scale.linear(),P={i:0,x:0},I=t.utils.renderWatch(E,D),N=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=o.tickFormat()(a.x()(n.point,n.pointIndex)),u=s.tickFormat()(a.y()(n.point,n.pointIndex)),d=k(n.series.key,l,u,n,e);t.tooltip.show([r,c],d,null,null,i)},O=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:P.i,rescaleY:_}}},R=function(t){return function(e){void 0!==e.index&&(P.i=e.index),void 0!==e.rescaleY&&(_=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],E.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){E.tooltipHide(t)}),E.on("tooltipHide",function(){y&&t.tooltip.cleanup()});var z=null;return e.dispatch=E,e.lines=a,e.legend=c,e.xAxis=o,e.yAxis=s,e.interactiveLayer=u,e.state=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return g},set:function(t){g=t}},rescaleY:{get:function(){return _},set:function(t){_=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return p},set:function(t){p=t}},average:{get:function(){return M},set:function(t){M=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return S},set:function(t){S=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noErrorCheck:{get:function(){return L},set:function(t){L=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),c.color(f)}},useInteractiveGuideline:{get:function(){return w},set:function(t){w=t,t===!0&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,s.orient(t?"right":"left")}},duration:{get:function(){return D},set:function(t){D=t,a.duration(D),o.duration(D),s.duration(D),I.reset(D)}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(d){return k.reset(),d.each(function(e){var d=l-c.left-c.right,_=u-c.top-c.bottom,T=d3.select(this);t.utils.initSVG(T),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var A=n&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:p(t,e),y0:t.y0}})});f.domain(n||d3.merge(A).map(function(t){return t.x})).rangeBands(r||[0,d],.1),h.domain(i||d3.extent(d3.merge(A).map(function(t){return t.y}).concat(m))),h.range(b?a||[_-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]:a||[_,0]),o=o||f,s=s||h.copy().range([h(0),h(0)]);{var C=T.selectAll("g.nv-wrap.nv-discretebar").data([e]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),M=S.append("g");C.select("g")}M.append("g").attr("class","nv-groups"),C.attr("transform","translate("+c.left+","+c.top+")");var E=C.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(k,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.watchTransition(k,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=E.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var L=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+h(0)+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),x.elementMouseover({value:p(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(p(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),x.elementMouseout({value:p(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){x.elementClick({value:p(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(p(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){x.elementDblClick({value:p(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(p(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});L.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/e.length),b?(L.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return y(p(t,e))}).watchTransition(k,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return p(t,e)<0?h(p(t,e))-h(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return p(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",w).watchTransition(k,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/e.length),D.watchTransition(k,"discreteBar: bars").attr("transform",function(t,e){var n=f(g(t,e))+.05*f.rangeBand(),i=p(t,e)<0?h(0):h(0)-h(p(t,e))<1?h(0)-1:h(p(t,e));return"translate("+n+", "+i+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(h(p(t,e))-h(i&&i[0]||0))||1)}),o=f.copy(),s=h.copy()}),k.renderEnd("discreteBar immediate"),e}var n,i,r,a,o,s,c={top:0,right:0,bottom:0,left:0},l=960,u=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),h=d3.scale.linear(),g=function(t){return t.x},p=function(t){return t.y},m=[0],v=t.utils.defaultColor(),b=!1,y=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),w="discreteBar",_=250,k=t.utils.renderWatch(x,_);return e.dispatch=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return a},set:function(t){a=t}},valueFormat:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return _},set:function(t){_=t,k.reset(_)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(u){return w.reset(),w.models(r),d&&w.models(a),f&&w.models(o),u.each(function(u){var m=d3.select(this),w=this;t.utils.initSVG(m);var _=(c||parseInt(m.style("width"))||960)-s.left-s.right,k=(l||parseInt(m.style("height"))||400)-s.top-s.bottom;if(e.update=function(){b.beforeUpdate(),m.transition().duration(y).call(e)},e.container=this,!(u&&u.length&&u.filter(function(t){return t.values.length}).length)){var T=m.selectAll(".nv-noData").data([v]);return T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",s.left+_/2).attr("y",s.top+k/2).text(function(t){return t}),e}m.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale().clamp(!0);var A=m.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([u]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=C.append("defs"),M=A.select("g");C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),M.attr("transform","translate("+s.left+","+s.top+")"),h&&M.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),r.width(_).height(k);var E=M.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled}));if(E.transition().call(r),S.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),M.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",n.rangeBand()*(g?2:1)).attr("height",16).attr("x",-n.rangeBand()/(g?1:2)),d){a.scale(n).ticks(t.utils.calcTicksX(_/100,u)).tickSize(-k,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+(i.range()[0]+(r.showValues()&&i.domain()[0]<0?16:0))+")"),M.select(".nv-x.nv-axis").call(a);var D=M.select(".nv-x.nv-axis").selectAll("g");g&&D.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(o.scale(i).ticks(t.utils.calcTicksY(k/36,u)).tickSize(-_,0),M.select(".nv-y.nv-axis").call(o)),M.select(".nv-zeroLine line").attr("x1",0).attr("x2",_).attr("y1",i(0)).attr("y2",i(0)),b.on("tooltipShow",function(t){p&&x(t,w.parentNode)})}),w.renderEnd("discreteBar chart immediate"),e}var n,i,r=t.models.discreteBar(),a=t.models.axis(),o=t.models.axis(),s={top:15,right:10,bottom:50,left:60},c=null,l=null,u=t.utils.getColor(),d=!0,f=!0,h=!1,g=!1,p=!0,m=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",b=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),y=250;a.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(h?"right":"left").tickFormat(d3.format(",.1f"));var x=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=a.tickFormat()(r.x()(n.point,n.pointIndex)),u=o.tickFormat()(r.y()(n.point,n.pointIndex)),d=m(n.series.key,l,u,n,e);t.tooltip.show([s,c],d,n.value<0?"n":"s",null,i)},w=t.utils.renderWatch(b,y);return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],b.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),b.on("tooltipHide",function(){p&&t.tooltip.cleanup()}),e.dispatch=b,e.discretebar=r,e.xAxis=a,e.yAxis=o,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltips:{get:function(){return p},set:function(t){p=t}},tooltipContent:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return y},set:function(t){y=t,w.reset(y),r.duration(y),a.duration(y),o.duration(y)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),r.color(u)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,o.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(u){return f.reset(),u.each(function(e){var u=(r-("x"===o?i.left+i.right:i.top+i.bottom),"x"==o?"y":"x"),d=d3.select(this);t.utils.initSVG(d),n=n||l;var h=d.selectAll("g.nv-distribution").data([e]),g=h.enter().append("g").attr("class","nvd3 nv-distribution"),p=(g.append("g"),h.select("g"));h.attr("transform","translate("+i.left+","+i.top+")");var m=p.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});m.enter().append("g"),m.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return c(t,e)});var v=m.selectAll("line.nv-dist"+o).data(function(t){return t.values});v.enter().append("line").attr(o+"1",function(t,e){return n(s(t,e))}).attr(o+"2",function(t,e){return n(s(t,e))}),f.transition(m.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return l(s(t,e))}).attr(o+"2",function(t,e){return l(s(t,e))}).style("stroke-opacity",0).remove(),v.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",a),f.transition(v,"dist").attr(o+"1",function(t,e){return l(s(t,e))}).attr(o+"2",function(t,e){return l(s(t,e))}),n=l.copy()}),f.renderEnd("distribution immediate"),e}var n,i={top:0,right:0,bottom:0,left:0},r=400,a=8,o="x",s=function(t){return t[o]},c=t.utils.defaultColor(),l=d3.scale.linear(),u=250,d=d3.dispatch("renderEnd"),f=t.utils.renderWatch(d,u);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(r=t,e):r},e.axis=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(a=t,e):a},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(l=t,e):l},e.color=function(n){return arguments.length?(c=t.utils.getColor(n),e):c},e.duration=function(t){return arguments.length?(u=t,f.reset(u),e):u},e},t.models.historicalBar=function(){"use strict";function e(_){return _.each(function(e){w.reset();var _=d3.select(this),k=(s||parseInt(_.style("width"))||960)-o.left-o.right,T=(c||parseInt(_.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(_),u.domain(n||d3.extent(e[0].values.map(f).concat(g))),u.range(m?r||[.5*k/e[0].values.length,k*(e[0].values.length-.5)/e[0].values.length]:r||[0,k]),d.domain(i||d3.extent(e[0].values.map(h).concat(p))).range(a||[T,0]),u.domain()[0]===u.domain()[1]&&u.domain(u.domain()[0]?[u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]:[-1,1]),d.domain()[0]===d.domain()[1]&&d.domain(d.domain()[0]?[d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]:[-1,1]);var A=_.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([e[0].values]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),S=C.append("defs"),M=C.append("g"),E=A.select("g");M.append("g").attr("class","nv-bars"),A.attr("transform","translate("+o.left+","+o.top+")"),_.on("click",function(t,e){y.chartClick({data:t,index:e,pos:d3.event,id:l})}),S.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),A.select("#nv-chart-clip-path-"+l+" rect").attr("width",k).attr("height",T),E.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var D=A.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});D.exit().remove();D.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(d(Math.max(0,h(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(d(h(e,n))-d(0)))}).attr("transform",function(t,n){return"translate("+(u(f(t,n))-k/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,n){x&&(d3.select(this).classed("hover",!0),y.elementMouseover({point:t,series:e[0],pos:[u(f(t,n)),d(h(t,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,n){x&&(d3.select(this).classed("hover",!1),y.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){x&&(y.elementClick({value:h(t,e),data:t,index:e,pos:[u(f(t,e)),d(h(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())}).on("dblclick",function(t,e){x&&(y.elementDblClick({value:h(t,e),data:t,index:e,pos:[u(f(t,e)),d(h(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())});D.attr("fill",function(t,e){return b(t,e)}).attr("class",function(t,e,n){return(h(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(w,"bars").attr("transform",function(t,n){return"translate("+(u(f(t,n))-k/e[0].values.length*.45)+",0)"}).attr("width",k/e[0].values.length*.9),D.watchTransition(w,"bars").attr("y",function(e,n){var i=h(e,n)<0?d(0):d(0)-d(h(e,n))<1?d(0)-1:d(h(e,n));return t.utils.NaNtoZero(i)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(d(h(e,n))-d(0)),1))})}),w.renderEnd("historicalBar immediate"),e}var n,i,r,a,o={top:0,right:0,bottom:0,left:0},s=null,c=null,l=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},g=[],p=[0],m=!1,v=!0,b=t.utils.defaultColor(),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),x=!0,w=t.utils.renderWatch(y,0);return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return c},set:function(t){c=t}},forceX:{get:function(){return g},set:function(t){g=t}},forceY:{get:function(){return p},set:function(t){p=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return a},set:function(t){a=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(x){S.reset(),S.models(a),p&&S.models(o),m&&S.models(s);var M=d3.select(this),E=this;t.utils.initSVG(M);var D=(f||parseInt(M.style("width"))||960)-u.left-u.right,L=(h||parseInt(M.style("height"))||400)-u.top-u.bottom;if(n.update=function(){M.transition().duration(A).call(n)},n.container=this,w.disabled=x.map(function(t){return!!t.disabled}),!_){var F;_={};for(F in w)_[F]=w[F]instanceof Array?w[F].slice(0):w[F]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var P=M.selectAll(".nv-noData").data([k]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",u.left+D/2).attr("y",u.top+L/2).text(function(t){return t}),n}M.selectAll(".nv-noData").remove(),i=a.xScale(),r=a.yScale();var I=M.selectAll("g.nv-wrap.nv-historicalBarChart").data([x]),N=I.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),O=I.select("g");N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),g&&(c.width(D),O.select(".nv-legendWrap").datum(x).call(c),u.top!=c.height()&&(u.top=c.height(),L=(h||parseInt(M.style("height"))||400)-u.top-u.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),I.attr("transform","translate("+u.left+","+u.top+")"),v&&O.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),b&&(l.width(D).height(L).margin({left:u.left,top:u.top}).svgContainer(M).xScale(i),I.select(".nv-interactive").call(l)),a.width(D).height(L).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled}));var R=O.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled}));R.transition().call(a),p&&(o.scale(i).tickSize(-L,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),O.select(".nv-x.nv-axis").transition().call(o)),m&&(s.scale(r).ticks(t.utils.calcTicksY(L/36,x)).tickSize(-D,0),O.select(".nv-y.nv-axis").transition().call(s)),l.dispatch.on("elementMousemove",function(e){a.clearHighlights();var i,r,c,f=[];x.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){r=t.interactiveBisect(o.values,e.pointXValue,n.x()),a.highlightPoint(r,!0);var l=o.values[r];"undefined"!=typeof l&&("undefined"==typeof i&&(i=l),"undefined"==typeof c&&(c=n.xScale()(n.x()(l,r))),f.push({key:o.key,value:n.y()(l,r),color:d(o,o.seriesIndex),data:o.values[r]}))});var h=o.tickFormat()(n.x()(i,r));l.tooltip.position({left:c+u.left,top:e.mouseY+u.top}).chartContainer(E.parentNode).enabled(y).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:h,series:f})(),l.renderGuideLine(c)}),l.dispatch.on("elementMouseout",function(t){T.tooltipHide(),a.clearHighlights()}),c.dispatch.on("legendClick",function(t,i){t.disabled=!t.disabled,x.filter(function(t){return!t.disabled}).length||x.map(function(t){return t.disabled=!1,I.selectAll(".nv-series").classed("disabled",!1),t}),w.disabled=x.map(function(t){return!!t.disabled}),T.stateChange(w),e.transition().call(n)}),c.dispatch.on("legendDblclick",function(t){x.forEach(function(t){t.disabled=!0}),t.disabled=!1,w.disabled=x.map(function(t){return!!t.disabled}),T.stateChange(w),n.update()}),T.on("tooltipShow",function(t){
y&&C(t,E.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),n.update()})}),S.renderEnd("historicalBarChart immediate"),n}var i,r,a=e||t.models.historicalBar(),o=t.models.axis(),s=t.models.axis(),c=t.models.legend(),l=t.interactiveGuideline(),u={top:30,right:90,bottom:50,left:90},d=t.utils.defaultColor(),f=null,h=null,g=!1,p=!0,m=!0,v=!1,b=!1,y=!0,x=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},_=null,k="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250;o.orient("bottom").tickPadding(7),s.orient(v?"right":"left");var C=function(e,i){if(i){var r=d3.select(i).select("svg"),c=r.node()?r.attr("viewBox"):null;if(c){c=c.split(" ");var l=parseInt(r.style("width"))/c[2];e.pos[0]=e.pos[0]*l,e.pos[1]=e.pos[1]*l}}var u=e.pos[0]+(i.offsetLeft||0),d=e.pos[1]+(i.offsetTop||0),f=o.tickFormat()(a.x()(e.point,e.pointIndex)),h=s.tickFormat()(a.y()(e.point,e.pointIndex)),g=x(e.series.key,f,h,e,n);t.tooltip.show([u,d],g,null,null,i)},S=t.utils.renderWatch(T,0);return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],T.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){y&&t.tooltip.cleanup()}),n.dispatch=T,n.bars=a,n.legend=c,n.xAxis=o,n.yAxis=s,n.interactiveLayer=l,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),c.color(d),a.color(d)}},duration:{get:function(){return A},set:function(t){A=t,S.reset(A),s.duration(A),o.duration(A)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,t===!0&&n.interactive(!1)}}}),t.utils.inheritOptions(n,a),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,i=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+i+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(f){return f.each(function(e){var f=i-n.left-n.right,h=d3.select(this);t.utils.initSVG(h);var g=h.selectAll("g.nv-legend").data([e]),p=(g.enter().append("g").attr("class","nvd3 nv-legend").append("g"),g.select("g"));g.attr("transform","translate("+n.left+","+n.top+")");var m=p.selectAll(".nv-series").data(function(t){return t}),v=m.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){d.legendMouseover(t,e)}).on("mouseout",function(t,e){d.legendMouseout(t,e)}).on("click",function(t,n){d.legendClick(t,n),l&&(u?(e.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,e.every(function(t){return t.disabled})&&e.forEach(function(t){t.disabled=!1})),d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,n){d.legendDblclick(t,n),l&&(e.forEach(function(t){t.disabled=!0}),t.disabled=!1,d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))});if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),m.classed("nv-disabled",function(t){return t.disabled}),m.exit().remove(),m.select("circle").style("fill",function(t,e){return t.color||o(t,e)}).style("stroke",function(t,e){return t.color||o(t,e)}),m.select("text").text(a),s){var b=[];m.each(function(e,n){var i,r=d3.select(this).select("text");try{if(i=r.node().getComputedTextLength(),0>=i)throw Error()}catch(a){i=t.utils.calcApproxTextWidth(r)}b.push(i+28)});for(var y=0,x=0,w=[];f>x&&y<b.length;)w[y]=b[y],x+=b[y++];for(0===y&&(y=1);x>f&&y>1;){w=[],y--;for(var _=0;_<b.length;_++)b[_]>(w[_%y]||0)&&(w[_%y]=b[_]);x=w.reduce(function(t,e,n,i){return t+e})}for(var k=[],T=0,A=0;y>T;T++)k[T]=A,A+=w[T];m.attr("transform",function(t,e){return"translate("+k[e%y]+","+(5+20*Math.floor(e/y))+")"}),c?p.attr("transform","translate("+(i-n.right-x)+","+n.top+")"):p.attr("transform","translate(0,"+n.top+")"),r=n.top+n.bottom+20*Math.ceil(b.length/y)}else{var C,S=5,M=5,E=0;m.attr("transform",function(t,e){var r=d3.select(this).select("text").node().getComputedTextLength()+28;return C=M,i<n.left+n.right+C+r&&(M=C=5,S+=20),M+=r,M>E&&(E=M),"translate("+C+","+S+")"}),p.attr("transform","translate("+(i-n.right-E)+","+n.top+")"),r=n.top+n.bottom+S+15}}),e}var n={top:5,right:0,bottom:5,left:0},i=400,r=20,a=function(t){return t.key},o=t.utils.defaultColor(),s=!0,c=!0,l=!0,u=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return a},set:function(t){a=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},updateState:{get:function(){return l},set:function(t){l=t}},radioButtonMode:{get:function(){return u},set:function(t){u=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(p){return y.reset(),y.models(r),p.each(function(e){var p=o-a.left-a.right,m=s-a.top-a.bottom,x=d3.select(this);t.utils.initSVG(x),n=r.xScale(),i=r.yScale(),v=v||n,b=b||i;var w=x.selectAll("g.nv-wrap.nv-line").data([e]),_=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),k=_.append("defs"),T=_.append("g"),A=w.select("g");T.append("g").attr("class","nv-groups"),T.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+a.left+","+a.top+")"),r.width(p).height(m);var C=w.select(".nv-scatterWrap");C.call(r),k.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),w.select("#nv-edge-clip-"+r.id()+" rect").attr("width",p).attr("height",m>0?m:0),A.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":""),C.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":"");var S=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});S.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),S.exit().remove(),S.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return c(t,e)}).style("stroke",function(t,e){return c(t,e)}),S.watchTransition(y,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);var M=S.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]});M.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(g).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(l(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(b(u(e,n)))}).y1(function(t,e){return b(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[e.values])}),S.exit().selectAll("path.nv-area").remove(),M.watchTransition(y,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(g).defined(d).x(function(e,i){return t.utils.NaNtoZero(n(l(e,i)))}).y0(function(e,n){return t.utils.NaNtoZero(i(u(e,n)))}).y1(function(t,e){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[e.values])});var E=S.selectAll("path.nv-line").data(function(t){return[t.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(l(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(b(u(e,n)))})),E.watchTransition(y,"line: linePaths").attr("d",d3.svg.line().interpolate(g).defined(d).x(function(e,i){return t.utils.NaNtoZero(n(l(e,i)))}).y(function(e,n){return t.utils.NaNtoZero(i(u(e,n)))})),v=n.copy(),b=i.copy()}),y.renderEnd("line immediate"),e}var n,i,r=t.models.scatter(),a={top:0,right:0,bottom:0,left:0},o=960,s=500,c=t.utils.defaultColor(),l=function(t){return t.x},u=function(t){return t.y},d=function(t,e){return!isNaN(u(t,e))&&null!==u(t,e)},f=function(t){return t.area},h=!1,g="linear",p=250,m=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");r.pointSize(16).pointDomain([16,256]);var v,b,y=t.utils.renderWatch(m,p);return e.dispatch=m,e.scatter=r,r.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),r.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),r.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return g},set:function(t){g=t}},clipEdge:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return p},set:function(t){p=t,y.reset(p),r.duration(p)}},isArea:{get:function(){return f},set:function(t){f=d3.functor(t)}},x:{get:function(){return l},set:function(t){l=t,r.x(t)}},y:{get:function(){return u},set:function(t){u=t,r.y(t)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),r.color(c)}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(y){return C.reset(),C.models(r),g&&C.models(a),p&&C.models(o),y.each(function(y){var C=d3.select(this),E=this;t.utils.initSVG(C);var D=(d||parseInt(C.style("width"))||960)-l.left-l.right,L=(f||parseInt(C.style("height"))||400)-l.top-l.bottom;if(e.update=function(){0===T?C.call(e):C.transition().duration(T).call(e)},e.container=this,x.setter(M(y),e.update).getter(S(y)).update(),x.disabled=y.map(function(t){return!!t.disabled}),!w){var F;w={};for(F in x)w[F]=x[F]instanceof Array?x[F].slice(0):x[F]}if(!(y&&y.length&&y.filter(function(t){return t.values.length}).length)){var P=C.selectAll(".nv-noData").data([_]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",l.left+D/2).attr("y",l.top+L/2).text(function(t){return t}),e}C.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var I=C.selectAll("g.nv-wrap.nv-lineChart").data([y]),N=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),O=I.select("g");N.append("rect").style("opacity",0),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),O.select("rect").attr("width",D).attr("height",L>0?L:0),h&&(s.width(D),O.select(".nv-legendWrap").datum(y).call(s),l.top!=s.height()&&(l.top=s.height(),L=(f||parseInt(C.style("height"))||400)-l.top-l.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),I.attr("transform","translate("+l.left+","+l.top+")"),m&&O.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),v&&(c.width(D).height(L).margin({left:l.left,top:l.top}).svgContainer(C).xScale(n),I.select(".nv-interactive").call(c)),r.width(D).height(L).color(y.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!y[e].disabled}));var R=O.select(".nv-linesWrap").datum(y.filter(function(t){return!t.disabled}));R.call(r),g&&(a.scale(n).ticks(t.utils.calcTicksX(D/100,y)).tickSize(-L,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),O.select(".nv-x.nv-axis").call(a)),p&&(o.scale(i).ticks(t.utils.calcTicksY(L/36,y)).tickSize(-D,0),O.select(".nv-y.nv-axis").call(o)),s.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];k.stateChange(x),e.update()}),c.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,s,d,f=[];if(y.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,o){s=t.interactiveBisect(a.values,n.pointXValue,e.x()),r.highlightPoint(o,s,!0);var c=a.values[s];"undefined"!=typeof c&&("undefined"==typeof i&&(i=c),"undefined"==typeof d&&(d=e.xScale()(e.x()(c,s))),f.push({key:a.key,value:e.y()(c,s),color:u(a,a.seriesIndex)}))}),f.length>2){var h=e.yScale().invert(n.mouseY),g=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),p=.03*g,m=t.nearestValueIndex(f.map(function(t){return t.value}),h,p);null!==m&&(f[m].highlight=!0)}var v=a.tickFormat()(e.x()(i,s));c.tooltip.position({left:d+l.left,top:n.mouseY+l.top}).chartContainer(E.parentNode).enabled(b).valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:v,series:f})(),c.renderGuideLine(d)}),c.dispatch.on("elementClick",function(n){var i,a=[];y.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r){var o=t.interactiveBisect(r.values,n.pointXValue,e.x()),s=r.values[o];if("undefined"!=typeof s){"undefined"==typeof i&&(i=e.xScale()(e.x()(s,o)));var c=e.yScale()(e.y()(s,o));a.push({point:s,pointIndex:o,pos:[i,c],seriesIndex:r.seriesIndex,series:r})}}),r.dispatch.elementClick(a)}),c.dispatch.on("elementMouseout",function(t){k.tooltipHide(),r.clearHighlights()}),k.on("tooltipShow",function(t){b&&A(t,E.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&y.length===t.disabled.length&&(y.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),e.update()})}),C.renderEnd("lineChart immediate"),e}var n,i,r=t.models.line(),a=t.models.axis(),o=t.models.axis(),s=t.models.legend(),c=t.interactiveGuideline(),l={top:30,right:20,bottom:50,left:60},u=t.utils.defaultColor(),d=null,f=null,h=!0,g=!0,p=!0,m=!1,v=!1,b=!0,y=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x=t.utils.state(),w=null,_="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),T=250;a.orient("bottom").tickPadding(7),o.orient(m?"right":"left");var A=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=a.tickFormat()(r.x()(n.point,n.pointIndex)),u=o.tickFormat()(r.y()(n.point,n.pointIndex)),d=y(n.series.key,l,u,n,e);t.tooltip.show([s,c],d,null,null,i)},C=t.utils.renderWatch(k,T),S=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},M=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],k.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),e.dispatch=k,e.lines=r,e.legend=s,e.xAxis=a,e.yAxis=o,e.interactiveLayer=c,e.dispatch=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return p},set:function(t){p=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return T},set:function(t){T=t,C.reset(T),r.duration(T),a.duration(T),o.duration(T)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),s.color(u),r.color(u)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,o.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(t){v=t,v&&(r.interactive(!1),r.useVoronoi(!1))}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(N){return N.each(function(N){function V(t){var e=+("e"==t),n=e?1:-1,i=J/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function U(){x.empty()||x.extent(P),ht.data([x.empty()?r.domain():P]).each(function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",0>n?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",0>i?0:i)})}function G(){P=x.empty()?null:x.extent(),n=x.empty()?r.domain():x.extent(),R.brush({extent:n,brush:x}),U(),d.width(Q).height(K).color(N.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!N[e].disabled&&N[e].bar})),l.width(Q).height(K).color(N.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!N[e].disabled&&!N[e].bar}));var e=ct.select(".nv-focus .nv-barsWrap").datum(nt.length?nt.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return d.x()(t,e)>=n[0]&&d.x()(t,e)<=n[1]})}}):[{values:[]}]),s=ct.select(".nv-focus .nv-linesWrap").datum(it[0].disabled?[{values:[]}]:it.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return l.x()(t,e)>=n[0]&&l.x()(t,e)<=n[1]})}}));i=nt.length?d.xScale():l.xScale(),h.scale(i).ticks(t.utils.calcTicksX(Q/100,N)).tickSize(-K,0),h.domain([Math.ceil(n[0]),Math.floor(n[1])]),ct.select(".nv-x.nv-axis").transition().duration(z).call(h),e.transition().duration(z).call(d),s.transition().duration(z).call(l),ct.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),p.scale(a).ticks(t.utils.calcTicksY(K/36,N)).tickSize(-Q,0),m.scale(o).ticks(t.utils.calcTicksY(K/36,N)).tickSize(nt.length?0:-Q,0),ct.select(".nv-focus .nv-y1.nv-axis").style("opacity",nt.length?1:0),ct.select(".nv-focus .nv-y2.nv-axis").style("opacity",it.length&&!it[0].disabled?1:0).attr("transform","translate("+i.range()[1]+",0)"),ct.select(".nv-focus .nv-y1.nv-axis").transition().duration(z).call(p),ct.select(".nv-focus .nv-y2.nv-axis").transition().duration(z).call(m)}var $=d3.select(this),Z=this;t.utils.initSVG($);var Q=(k||parseInt($.style("width"))||960)-w.left-w.right,K=(T||parseInt($.style("height"))||400)-w.top-w.bottom-(E?F:0),J=F-_.top-_.bottom;if(e.update=function(){$.transition().duration(z).call(e)},e.container=this,j.setter(Y(N),e.update).getter(W(N)).update(),j.disabled=N.map(function(t){return!!t.disabled}),!q){var tt;q={};for(tt in j)q[tt]=j[tt]instanceof Array?j[tt].slice(0):j[tt]}if(!(N&&N.length&&N.filter(function(t){return t.values.length}).length)){var et=$.selectAll(".nv-noData").data([O]);return et.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),et.attr("x",w.left+Q/2).attr("y",w.top+K/2).text(function(t){return t}),e}$.selectAll(".nv-noData").remove();var nt=N.filter(function(t){return!t.disabled&&t.bar}),it=N.filter(function(t){return!t.bar});i=d.xScale(),r=g.scale(),a=d.yScale(),o=l.yScale(),s=f.yScale(),c=u.yScale();var rt=N.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:A(t,e),y:C(t,e)}})}),at=N.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:A(t,e),y:C(t,e)}})});i.range([0,Q]),r.domain(d3.extent(d3.merge(rt.concat(at)),function(t){return t.x})).range([0,Q]);var ot=$.selectAll("g.nv-wrap.nv-linePlusBar").data([N]),st=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ct=ot.select("g");st.append("g").attr("class","nv-legendWrap");var lt=st.append("g").attr("class","nv-focus");lt.append("g").attr("class","nv-x nv-axis"),lt.append("g").attr("class","nv-y1 nv-axis"),lt.append("g").attr("class","nv-y2 nv-axis"),lt.append("g").attr("class","nv-barsWrap"),lt.append("g").attr("class","nv-linesWrap");var ut=st.append("g").attr("class","nv-context");ut.append("g").attr("class","nv-x nv-axis"),ut.append("g").attr("class","nv-y1 nv-axis"),ut.append("g").attr("class","nv-y2 nv-axis"),ut.append("g").attr("class","nv-barsWrap"),ut.append("g").attr("class","nv-linesWrap"),ut.append("g").attr("class","nv-brushBackground"),ut.append("g").attr("class","nv-x nv-brush"),M&&(y.width(Q/2),ct.select(".nv-legendWrap").datum(N.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?H:B),t})).call(y),w.top!=y.height()&&(w.top=y.height(),K=(T||parseInt($.style("height"))||400)-w.top-w.bottom-F),ct.select(".nv-legendWrap").attr("transform","translate("+Q/2+","+-w.top+")")),ot.attr("transform","translate("+w.left+","+w.top+")"),ct.select(".nv-context").style("display",E?"initial":"none"),f.width(Q).height(J).color(N.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!N[e].disabled&&N[e].bar})),u.width(Q).height(J).color(N.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!N[e].disabled&&!N[e].bar}));var dt=ct.select(".nv-context .nv-barsWrap").datum(nt.length?nt:[{values:[]}]),ft=ct.select(".nv-context .nv-linesWrap").datum(it[0].disabled?[{values:[]}]:it);ct.select(".nv-context").attr("transform","translate(0,"+(K+w.bottom+_.top)+")"),dt.transition().call(f),ft.transition().call(u),L&&(g.ticks(t.utils.calcTicksX(Q/100,N)).tickSize(-J,0),ct.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),ct.select(".nv-context .nv-x.nv-axis").transition().call(g)),D&&(v.scale(s).ticks(J/36).tickSize(-Q,0),b.scale(c).ticks(J/36).tickSize(nt.length?0:-Q,0),ct.select(".nv-context .nv-y3.nv-axis").style("opacity",nt.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),ct.select(".nv-context .nv-y2.nv-axis").style("opacity",it.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),ct.select(".nv-context .nv-y1.nv-axis").transition().call(v),ct.select(".nv-context .nv-y2.nv-axis").transition().call(b)),x.x(r).on("brush",G),P&&x.extent(P);var ht=ct.select(".nv-brushBackground").selectAll("g").data([P||x.extent()]),gt=ht.enter().append("g");gt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",J),gt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",J);var pt=ct.select(".nv-x.nv-brush").call(x);pt.selectAll("rect").attr("height",J),pt.selectAll(".resize").append("path").attr("d",V),y.dispatch.on("stateChange",function(t){for(var n in t)j[n]=t[n];R.stateChange(j),e.update()}),R.on("tooltipShow",function(t){I&&X(t,Z.parentNode)}),R.on("changeState",function(t){"undefined"!=typeof t.disabled&&(N.forEach(function(e,n){e.disabled=t.disabled[n]}),j.disabled=t.disabled),e.update()}),G()}),e}var n,i,r,a,o,s,c,l=t.models.line(),u=t.models.line(),d=t.models.historicalBar(),f=t.models.historicalBar(),h=t.models.axis(),g=t.models.axis(),p=t.models.axis(),m=t.models.axis(),v=t.models.axis(),b=t.models.axis(),y=t.models.legend(),x=d3.svg.brush(),w={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},k=null,T=null,A=function(t){return t.x},C=function(t){return t.y},S=t.utils.defaultColor(),M=!0,E=!0,D=!1,L=!0,F=50,P=null,I=!0,N=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},O="No Data Available.",R=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),z=0,j=t.utils.state(),q=null,H=" (left axis)",B=" (right axis)";l.clipEdge(!0),u.interactive(!1),h.orient("bottom").tickPadding(5),p.orient("left"),m.orient("right"),g.orient("bottom").tickPadding(5),v.orient("left"),b.orient("right");var X=function(i,r){n&&(i.pointIndex+=Math.ceil(n[0]));var a=i.pos[0]+(r.offsetLeft||0),o=i.pos[1]+(r.offsetTop||0),s=h.tickFormat()(l.x()(i.point,i.pointIndex)),c=(i.series.bar?p:m).tickFormat()(l.y()(i.point,i.pointIndex)),u=N(i.series.key,s,c,i,e);t.tooltip.show([a,o],u,i.value<0?"n":"s",null,r)},W=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},Y=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return l.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],R.tooltipShow(t)}),l.dispatch.on("elementMouseout.tooltip",function(t){R.tooltipHide(t)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],R.tooltipShow(t)}),d.dispatch.on("elementMouseout.tooltip",function(t){R.tooltipHide(t)}),R.on("tooltipHide",function(){I&&t.tooltip.cleanup()}),e.dispatch=R,e.legend=y,e.lines=l,e.lines2=u,e.bars=d,e.bars2=f,e.xAxis=h,e.x2Axis=g,e.y1Axis=p,e.y2Axis=m,e.y3Axis=v,e.y4Axis=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return T},set:function(t){T=t}},showLegend:{get:function(){return M},set:function(t){M=t}},tooltips:{get:function(){return I},set:function(t){I=t}},tooltipContent:{get:function(){return N},set:function(t){N=t}},brushExtent:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return O},set:function(t){O=t}},focusEnable:{get:function(){return E},set:function(t){E=t}},focusHeight:{get:function(){return F},set:function(t){F=t}},focusShowAxisX:{get:function(){return L},set:function(t){L=t}},focusShowAxisY:{get:function(){return D},set:function(t){D=t}},legendLeftAxisHint:{get:function(){return H},set:function(t){H=t}},legendRightAxisHint:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return z},set:function(t){z=t}},color:{get:function(){return S},set:function(e){S=t.utils.getColor(e),y.color(S)}},x:{get:function(){return A},set:function(t){A=t,l.x(t),u.x(t),d.x(t),f.x(t)}},y:{get:function(){return C},set:function(t){C=t,l.y(t),u.y(t),d.y(t),f.y(t)}}}),t.utils.inheritOptions(e,l),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(k){return k.each(function(k){function F(t){var e=+("e"==t),n=e?1:-1,i=j/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function P(){h.empty()||h.extent(w),G.data([h.empty()?r.domain():w]).each(function(t,e){var i=r(t[0])-n.range()[0],a=n.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",0>i?0:i),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",0>a?0:a)})}function I(){w=h.empty()?null:h.extent();var t=h.empty()?r.domain():h.extent();if(!(Math.abs(t[0]-t[1])<=1)){A.brush({extent:t,brush:h}),P();var e=W.select(".nv-focus .nv-linesWrap").datum(k.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return o.x()(e,n)>=t[0]&&o.x()(e,n)<=t[1]})}}));e.transition().duration(C).call(o),W.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(c),W.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(l)}}var N=d3.select(this),O=this;t.utils.initSVG(N);var R=(v||parseInt(N.style("width"))||960)-g.left-g.right,z=(b||parseInt(N.style("height"))||400)-g.top-g.bottom-y,j=y-p.top-p.bottom;if(e.update=function(){N.transition().duration(C).call(e)},e.container=this,S.setter(L(k),e.update).getter(D(k)).update(),S.disabled=k.map(function(t){return!!t.disabled}),!M){var q;M={};for(q in S)M[q]=S[q]instanceof Array?S[q].slice(0):S[q]}if(!(k&&k.length&&k.filter(function(t){return t.values.length}).length)){var H=N.selectAll(".nv-noData").data([T]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",g.left+R/2).attr("y",g.top+z/2).text(function(t){return t}),e}N.selectAll(".nv-noData").remove(),n=o.xScale(),i=o.yScale(),r=s.xScale(),a=s.yScale();var B=N.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([k]),X=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),W=B.select("g");X.append("g").attr("class","nv-legendWrap");var Y=X.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-linesWrap");var V=X.append("g").attr("class","nv-context");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-brushBackground"),V.append("g").attr("class","nv-x nv-brush"),x&&(f.width(R),W.select(".nv-legendWrap").datum(k).call(f),g.top!=f.height()&&(g.top=f.height(),z=(b||parseInt(N.style("height"))||400)-g.top-g.bottom-y),W.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")),B.attr("transform","translate("+g.left+","+g.top+")"),o.width(R).height(z).color(k.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!k[e].disabled})),s.defined(o.defined()).width(R).height(j).color(k.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!k[e].disabled})),W.select(".nv-context").attr("transform","translate(0,"+(z+g.bottom+p.top)+")");var U=W.select(".nv-context .nv-linesWrap").datum(k.filter(function(t){return!t.disabled}));d3.transition(U).call(s),c.scale(n).ticks(t.utils.calcTicksX(R/100,k)).tickSize(-z,0),l.scale(i).ticks(t.utils.calcTicksY(z/36,k)).tickSize(-R,0),W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+z+")"),h.x(r).on("brush",function(){var t=e.duration();e.duration(0),I(),e.duration(t)}),w&&h.extent(w);var G=W.select(".nv-brushBackground").selectAll("g").data([w||h.extent()]),$=G.enter().append("g");$.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",j),$.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",j);var Z=W.select(".nv-x.nv-brush").call(h);Z.selectAll("rect").attr("height",j),Z.selectAll(".resize").append("path").attr("d",F),I(),u.scale(r).ticks(t.utils.calcTicksX(R/100,k)).tickSize(-j,0),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(W.select(".nv-context .nv-x.nv-axis")).call(u),d.scale(a).ticks(t.utils.calcTicksY(j/36,k)).tickSize(-R,0),d3.transition(W.select(".nv-context .nv-y.nv-axis")).call(d),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),f.dispatch.on("stateChange",function(t){
for(var n in t)S[n]=t[n];A.stateChange(S),e.update()}),A.on("tooltipShow",function(t){_&&E(t,O.parentNode)}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&k.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,i,r,a,o=t.models.line(),s=t.models.line(),c=t.models.axis(),l=t.models.axis(),u=t.models.axis(),d=t.models.axis(),f=t.models.legend(),h=d3.svg.brush(),g={top:30,right:30,bottom:30,left:60},p={top:0,right:30,bottom:20,left:60},m=t.utils.defaultColor(),v=null,b=null,y=100,x=!0,w=null,_=!0,k=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},T="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),C=250,S=t.utils.state(),M=null;o.clipEdge(!0),s.interactive(!1),c.orient("bottom").tickPadding(5),l.orient("left"),u.orient("bottom").tickPadding(5),d.orient("left");var E=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),a=n.pos[1]+(i.offsetTop||0),s=c.tickFormat()(o.x()(n.point,n.pointIndex)),u=l.tickFormat()(o.y()(n.point,n.pointIndex)),d=k(n.series.key,s,u,n,e);t.tooltip.show([r,a],d,null,null,i)},D=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},L=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+g.left,t.pos[1]+g.top],A.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=A,e.legend=f,e.lines=o,e.lines2=s,e.xAxis=c,e.yAxis=l,e.x2Axis=u,e.y2Axis=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return x},set:function(t){x=t}},brushExtent:{get:function(){return w},set:function(t){w=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),f.color(m)}},interpolate:{get:function(){return o.interpolate()},set:function(t){o.interpolate(t),s.interpolate(t)}},xTickFormat:{get:function(){return c.xTickFormat()},set:function(t){c.xTickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return l.yTickFormat()},set:function(t){l.yTickFormat(t),d.yTickFormat(t)}},duration:{get:function(){return C},set:function(t){C=t,l.duration(C),c.duration(C)}},x:{get:function(){return o.x()},set:function(t){o.x(t),s.x(t)}},y:{get:function(){return o.y()},set:function(t){o.y(t),s.y(t)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(E){return S.reset(),E.each(function(e){var E=u-l.left-l.right,D=d-l.top-l.bottom,L=d3.select(this);t.utils.initSVG(L);_&&e.length&&(_=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),y&&(e=d3.layout.stack().offset(x).values(function(t){return t.values}).y(m)(!e.length&&_?_:e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),y&&e[0].values.map(function(t,n){var i=0,r=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r,r-=e.size):(e.y1=e.size+i,i+=e.size)})});var F=i&&r?[]:e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(i||d3.merge(F).map(function(t){return t.x})).rangeBands(a||[0,E],A),h.domain(r||d3.extent(d3.merge(F).map(function(t){return y?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(o||[D,0]),f.domain()[0]===f.domain()[1]&&f.domain(f.domain()[0]?[f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]:[-1,1]),h.domain()[0]===h.domain()[1]&&h.domain(h.domain()[0]?[h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]:[-1,1]),s=s||f,c=c||h;var P=L.selectAll("g.nv-wrap.nv-multibar").data([e]),I=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),N=I.append("defs"),O=I.append("g"),R=P.select("g");O.append("g").attr("class","nv-groups"),P.attr("transform","translate("+l.left+","+l.top+")"),N.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect"),P.select("#nv-edge-clip-"+g+" rect").attr("width",E).attr("height",D),R.attr("clip-path",b?"url(#nv-edge-clip-"+g+")":"");var z=P.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});z.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var j=S.transition(z.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,T)).attr("y",function(t){return c(y?t.y0:0)||0}).attr("height",0).remove();j.delay&&j.delay(function(t,e){var n=e*(T/(M+1))-e;return n}),z.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return w(t,e)}).style("stroke",function(t,e){return w(t,e)}),z.style("stroke-opacity",1).style("fill-opacity",.75);var q=z.selectAll("rect.nv-bar").data(function(t){return _&&!e.length?_.values:t.values});q.exit().remove();q.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,i){return y?0:i*f.rangeBand()/e.length}).attr("y",function(t){return c(y?t.y0:0)||0}).attr("height",0).attr("width",f.rangeBand()/(y?1:e.length)).attr("transform",function(t,e){return"translate("+f(p(t,e))+",0)"});q.style("fill",function(t,e,n){return w(t,n,e)}).style("stroke",function(t,e,n){return w(t,n,e)}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),C.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),C.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){C.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){C.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),q.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+f(p(t,e))+",0)"}),k&&(n||(n=e.map(function(){return!0})),q.style("fill",function(t,e,i){return d3.rgb(k(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(k(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}));var H=q.watchTransition(S,"multibar",Math.min(250,T)).delay(function(t,n){return n*T/e[0].values.length});y?H.attr("y",function(t,e){return h(y?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(h(t.y+(y?t.y0:0))-h(y?t.y0:0)),1)}).attr("x",function(t,n){return y?0:t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/(y?1:e.length)):H.attr("x",function(t,n){return t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/e.length).attr("y",function(t,e){return m(t,e)<0?h(0):h(0)-h(m(t,e))<1?h(0)-1:h(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(h(m(t,e))-h(0)),1)||0}),s=f.copy(),c=h.copy(),e[0]&&e[0].values&&(M=e[0].values.length)}),S.renderEnd("multibar immediate"),e}var n,i,r,a,o,s,c,l={top:0,right:0,bottom:0,left:0},u=960,d=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(1e4*Math.random()),p=function(t){return t.x},m=function(t){return t.y},v=[0],b=!0,y=!1,x="zero",w=t.utils.defaultColor(),_=!1,k=null,T=500,A=.1,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),S=t.utils.renderWatch(C,T),M=0;return e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return v},set:function(t){v=t}},stacked:{get:function(){return y},set:function(t){y=t}},stackOffset:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return b},set:function(t){b=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return g},set:function(t){g=t}},hideable:{get:function(){return _},set:function(t){_=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return T},set:function(t){T=t,S.reset(T)}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}},barColor:{get:function(){return k},set:function(e){k=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(k){return D.reset(),D.models(r),m&&D.models(a),v&&D.models(o),k.each(function(k){var D=d3.select(this),N=this;t.utils.initSVG(D);var O=(u||parseInt(D.style("width"))||960)-l.left-l.right,R=(d||parseInt(D.style("height"))||400)-l.top-l.bottom;if(e.update=function(){0===E?D.call(e):D.transition().duration(E).call(e)},e.container=this,T.setter(I(k),e.update).getter(P(k)).update(),T.disabled=k.map(function(t){return!!t.disabled}),!A){var z;A={};for(z in T)A[z]=T[z]instanceof Array?T[z].slice(0):T[z]}if(!(k&&k.length&&k.filter(function(t){return t.values.length}).length)){var j=D.selectAll(".nv-noData").data([C]);return j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),j.attr("x",l.left+O/2).attr("y",l.top+R/2).text(function(t){return t}),e}D.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var q=D.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([k]),H=q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),B=q.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),p&&(s.width(O-M()),r.barColor()&&k.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),B.select(".nv-legendWrap").datum(k).call(s),l.top!=s.height()&&(l.top=s.height(),R=(d||parseInt(D.style("height"))||400)-l.top-l.bottom),B.select(".nv-legendWrap").attr("transform","translate("+M()+","+-l.top+")")),h){var X=[{key:g.grouped||"Grouped",disabled:r.stacked()},{key:g.stacked||"Stacked",disabled:!r.stacked()}];c.width(M()).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-l.top+")").call(c)}q.attr("transform","translate("+l.left+","+l.top+")"),b&&B.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)"),r.disabled(k.map(function(t){return t.disabled})).width(O).height(R).color(k.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!k[e].disabled}));var W=B.select(".nv-barsWrap").datum(k.filter(function(t){return!t.disabled}));if(W.call(r),m){a.scale(n).ticks(t.utils.calcTicksX(O/100,k)).tickSize(-R,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),B.select(".nv-x.nv-axis").call(a);var Y=B.select(".nv-x.nv-axis > g").selectAll("g");if(Y.selectAll("line, text").style("opacity",1),x){var V=function(t,e){return"translate("+t+","+e+")"},U=5,G=17;Y.selectAll("text").attr("transform",function(t,e,n){return V(0,n%2==0?U:G)});var $=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;B.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return V(0,0===e||$%2!==0?G:U)})}y&&Y.filter(function(t,e){return e%Math.ceil(k[0].values.length/(O/100))!==0}).selectAll("text, line").style("opacity",0),w&&Y.selectAll(".tick text").attr("transform","rotate("+w+" 0,0)").style("text-anchor",w>0?"start":"end"),B.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(o.scale(i).ticks(t.utils.calcTicksY(R/36,k)).tickSize(-O,0),B.select(".nv-y.nv-axis").call(o)),s.dispatch.on("stateChange",function(t){for(var n in t)T[n]=t[n];S.stateChange(T),e.update()}),c.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(X=X.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}T.stacked=r.stacked(),S.stateChange(T),e.update()}}),S.on("tooltipShow",function(t){_&&F(t,N.parentNode)}),S.on("changeState",function(t){"undefined"!=typeof t.disabled&&(k.forEach(function(e,n){e.disabled=t.disabled[n]}),T.disabled=t.disabled),"undefined"!=typeof t.stacked&&(r.stacked(t.stacked),T.stacked=t.stacked,L=t.stacked),e.update()})}),D.renderEnd("multibarchart immediate"),e}var n,i,r=t.models.multiBar(),a=t.models.axis(),o=t.models.axis(),s=t.models.legend(),c=t.models.legend(),l={top:30,right:20,bottom:50,left:60},u=null,d=null,f=t.utils.defaultColor(),h=!0,g={},p=!0,m=!0,v=!0,b=!1,y=!0,x=!1,w=0,_=!0,k=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},T=t.utils.state(),A=null,C="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=function(){return h?180:0},E=250;T.stacked=!1,r.stacked(!1),a.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(b?"right":"left").tickFormat(d3.format(",.1f")),c.updateState(!1);var D=t.utils.renderWatch(S),L=!1,F=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=a.tickFormat()(r.x()(n.point,n.pointIndex)),u=o.tickFormat()(r.y()(n.point,n.pointIndex)),d=k(n.series.key,l,u,n,e);t.tooltip.show([s,c],d,n.value<0?"n":"s",null,i)},P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:L}}},I=function(t){return function(e){void 0!==e.stacked&&(L=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],S.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=S,e.multibar=r,e.legend=s,e.xAxis=a,e.yAxis=o,e.state=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return C},set:function(t){C=t}},reduceXTicks:{get:function(){return y},set:function(t){y=t}},rotateLabels:{get:function(){return w},set:function(t){w=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return E},set:function(t){E=t,r.duration(E),a.duration(E),o.duration(E),D.reset(E)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,o.orient(b?"right":"left")}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return M.reset(),f.each(function(e){var f=u-l.left-l.right,C=d-l.top-l.bottom,E=d3.select(this);t.utils.initSVG(E),w&&(e=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),w&&e[0].values.map(function(t,n){var i=0,r=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var D=i&&r?[]:e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});h.domain(i||d3.merge(D).map(function(t){return t.x})).rangeBands(a||[0,C],.1),g.domain(r||d3.extent(d3.merge(D).map(function(t){return w?t.y>0?t.y1+t.y:t.y1:t.y}).concat(b))),g.range(_&&!w?o||[g.domain()[0]<0?T:0,f-(g.domain()[1]>0?T:0)]:o||[0,f]),s=s||h,c=c||d3.scale.linear().domain(g.domain()).range([g(0),g(0)]);{var L=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),F=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),P=(F.append("defs"),F.append("g"));L.select("g")}P.append("g").attr("class","nv-groups"),L.attr("transform","translate("+l.left+","+l.top+")");var I=L.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),I.exit().watchTransition(M,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),I.watchTransition(M,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var N=I.selectAll("g.nv-bar").data(function(t){return t.values});N.exit().remove();var O=N.enter().append("g").attr("transform",function(t,n,i){return"translate("+c(w?t.y0:0)+","+(w?0:i*h.rangeBand()/e.length+h(p(t,n)))+")"});O.append("rect").attr("width",0).attr("height",h.rangeBand()/(w?1:e.length)),N.on("mouseover",function(t,n){d3.select(this).classed("hover",!0),S.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[g(m(t,n)+(w?t.y0:0)),h(p(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),S.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){S.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[h(p(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length,g(m(t,n)+(w?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){S.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[h(p(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length,g(m(t,n)+(w?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),v(e[0],0)&&(O.append("polyline"),N.select("polyline").attr("fill","none").attr("points",function(t,n){var i=v(t,n),r=.8*h.rangeBand()/(2*(w?1:e.length));i=i.length?i:[-Math.abs(i),Math.abs(i)],i=i.map(function(t){return g(t)-g(0)});var a=[[i[0],-r],[i[0],r],[i[0],0],[i[1],0],[i[1],-r],[i[1],r]];return a.map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var i=h.rangeBand()/(2*(w?1:e.length));return"translate("+(m(t,n)<0?0:g(m(t,n))-g(0))+", "+i+")"})),O.append("text"),_&&!w?(N.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",h.rangeBand()/(2*e.length)).attr("dy",".32em").html(function(t,e){var n=A(m(t,e)),i=v(t,e);return void 0===i?n:i.length?n+"+"+A(Math.abs(i[1]))+"-"+A(Math.abs(i[0])):n+"&plusmn;"+A(Math.abs(i))}),N.watchTransition(M,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:g(m(t,e))-g(0)+4})):N.selectAll("text").text(""),k&&!w?(O.append("text").classed("nv-bar-label",!0),N.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",h.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return p(t,e)}),N.watchTransition(M,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?g(0)-g(m(t,e))+4:-4})):N.selectAll("text.nv-bar-label").text(""),N.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),x&&(n||(n=e.map(function(){return!0})),N.style("fill",function(t,e,i){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),w?N.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(t.y1)+","+h(p(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(g(m(t,e)+t.y0)-g(t.y0))}).attr("height",h.rangeBand()):N.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+g(m(t,n)<0?m(t,n):0)+","+(t.series*h.rangeBand()/e.length+h(p(t,n)))+")"}).select("rect").attr("height",h.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(g(m(t,e))-g(0)),1)}),s=h.copy(),c=g.copy()}),M.renderEnd("multibarHorizontal immediate"),e}var n,i,r,a,o,s,c,l={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),g=d3.scale.linear(),p=function(t){return t.x},m=function(t){return t.y},v=function(t){return t.yErr},b=[0],y=t.utils.defaultColor(),x=null,w=!1,_=!1,k=!1,T=60,A=d3.format(",.2f"),C=250,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),M=t.utils.renderWatch(S,C);return e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return b},set:function(t){b=t}},stacked:{get:function(){return w},set:function(t){w=t}},showValues:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return A},set:function(t){A=t}},valuePadding:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return C},set:function(t){C=t,M.reset(C)}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}},barColor:{get:function(){return y},set:function(e){x=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(x){return D.reset(),D.models(r),m&&D.models(a),v&&D.models(o),x.each(function(x){var D=d3.select(this),L=this;t.utils.initSVG(D);var F=(u||parseInt(D.style("width"))||960)-l.left-l.right,P=(d||parseInt(D.style("height"))||400)-l.top-l.bottom;if(e.update=function(){D.transition().duration(C).call(e)},e.container=this,b=r.stacked(),w.setter(E(x),e.update).getter(M(x)).update(),w.disabled=x.map(function(t){return!!t.disabled}),!_){var I;_={};for(I in w)_[I]=w[I]instanceof Array?w[I].slice(0):w[I]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var N=D.selectAll(".nv-noData").data([k]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",l.left+F/2).attr("y",l.top+P/2).text(function(t){return t}),e}D.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var O=D.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([x]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),z=O.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),p&&(s.width(F-A()),r.barColor()&&x.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),z.select(".nv-legendWrap").datum(x).call(s),l.top!=s.height()&&(l.top=s.height(),P=(d||parseInt(D.style("height"))||400)-l.top-l.bottom),z.select(".nv-legendWrap").attr("transform","translate("+A()+","+-l.top+")")),h){var j=[{key:g.grouped||"Grouped",disabled:r.stacked()},{key:g.stacked||"Stacked",disabled:!r.stacked()}];c.width(A()).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum(j).attr("transform","translate(0,"+-l.top+")").call(c)}O.attr("transform","translate("+l.left+","+l.top+")"),r.disabled(x.map(function(t){return t.disabled})).width(F).height(P).color(x.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!x[e].disabled}));var q=z.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled}));if(q.transition().call(r),m){a.scale(n).ticks(t.utils.calcTicksY(P/24,x)).tickSize(-F,0),z.select(".nv-x.nv-axis").call(a);var H=z.select(".nv-x.nv-axis").selectAll("g");H.selectAll("line, text")}v&&(o.scale(i).ticks(t.utils.calcTicksX(F/100,x)).tickSize(-P,0),z.select(".nv-y.nv-axis").attr("transform","translate(0,"+P+")"),z.select(".nv-y.nv-axis").call(o)),z.select(".nv-zeroLine line").attr("x1",i(0)).attr("x2",i(0)).attr("y1",0).attr("y2",-P),s.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];T.stateChange(w),e.update()}),c.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(j=j.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}w.stacked=r.stacked(),T.stateChange(w),b=r.stacked(),e.update()}}),T.on("tooltipShow",function(t){y&&S(t,L.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.stacked&&(r.stacked(t.stacked),w.stacked=t.stacked,b=t.stacked),e.update()})}),D.renderEnd("multibar horizontal chart immediate"),e}var n,i,r=t.models.multiBarHorizontal(),a=t.models.axis(),o=t.models.axis(),s=t.models.legend().height(30),c=t.models.legend().height(30),l={top:30,right:20,bottom:50,left:60},u=null,d=null,f=t.utils.defaultColor(),h=!0,g={},p=!0,m=!0,v=!0,b=!1,y=!0,x=function(t,e,n,i,r){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},w=t.utils.state(),_=null,k="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=function(){return h?180:0},C=250;w.stacked=!1,r.stacked(b),a.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),c.updateState(!1);var S=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=a.tickFormat()(r.x()(n.point,n.pointIndex)),u=o.tickFormat()(r.y()(n.point,n.pointIndex)),d=x(n.series.key,l,u,n,e);t.tooltip.show([s,c],d,n.value<0?"e":"w",null,i)},M=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:b}}},E=function(t){return function(e){void 0!==e.stacked&&(b=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},D=t.utils.renderWatch(T,C);return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],T.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){y&&t.tooltip.cleanup()}),e.dispatch=T,e.multibar=r,e.legend=s,e.xAxis=a,e.yAxis=o,e.state=w,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return C},set:function(t){C=t,D.reset(C),r.duration(C),a.duration(C),o.duration(C)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(d){return d.each(function(d){var h=d3.select(this),g=this;t.utils.initSVG(h),e.update=function(){h.transition().call(e)},e.container=this;var D=(s||parseInt(h.style("width"))||960)-a.left-a.right,L=(c||parseInt(h.style("height"))||400)-a.top-a.bottom,F=d.filter(function(t){return"line"==t.type&&1==t.yAxis}),P=d.filter(function(t){return"line"==t.type&&2==t.yAxis}),I=d.filter(function(t){return"bar"==t.type&&1==t.yAxis}),N=d.filter(function(t){return"bar"==t.type&&2==t.yAxis}),O=d.filter(function(t){return"area"==t.type&&1==t.yAxis}),R=d.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length)){var z=h.selectAll(".nv-noData").data([f]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",a.left+D/2).attr("y",a.top+L/2).text(function(t){return t}),e}h.selectAll(".nv-noData").remove();var j=d.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),q=d.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});n.domain(d3.extent(d3.merge(j.concat(q)),function(t){return t.x})).range([0,D]);var H=h.selectAll("g.wrap.multiChart").data([d]),B=H.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");B.append("g").attr("class","x axis"),B.append("g").attr("class","y1 axis"),B.append("g").attr("class","y2 axis"),B.append("g").attr("class","lines1Wrap"),B.append("g").attr("class","lines2Wrap"),B.append("g").attr("class","bars1Wrap"),B.append("g").attr("class","bars2Wrap"),B.append("g").attr("class","stack1Wrap"),
B.append("g").attr("class","stack2Wrap"),B.append("g").attr("class","legendWrap");var X=H.select("g"),W=d.map(function(t,e){return d[e].color||o(t,e)});l&&(S.color(W),S.width(D/2),X.select(".legendWrap").datum(d.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(S),a.top!=S.height()&&(a.top=S.height(),L=(c||parseInt(h.style("height"))||400)-a.top-a.bottom),X.select(".legendWrap").attr("transform","translate("+D/2+","+-a.top+")")),b.width(D).height(L).interpolate(p).color(W.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"line"==d[e].type})),y.width(D).height(L).interpolate(p).color(W.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"line"==d[e].type})),x.width(D).height(L).color(W.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"bar"==d[e].type})),w.width(D).height(L).color(W.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"bar"==d[e].type})),_.width(D).height(L).color(W.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"area"==d[e].type})),k.width(D).height(L).color(W.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"area"==d[e].type})),X.attr("transform","translate("+a.left+","+a.top+")");var Y=X.select(".lines1Wrap").datum(F.filter(function(t){return!t.disabled})),V=X.select(".bars1Wrap").datum(I.filter(function(t){return!t.disabled})),U=X.select(".stack1Wrap").datum(O.filter(function(t){return!t.disabled})),G=X.select(".lines2Wrap").datum(P.filter(function(t){return!t.disabled})),$=X.select(".bars2Wrap").datum(N.filter(function(t){return!t.disabled})),Z=X.select(".stack2Wrap").datum(R.filter(function(t){return!t.disabled})),Q=O.length?O.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],K=R.length?R.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];m.domain(i||d3.extent(d3.merge(j).concat(Q),function(t){return t.y})).range([0,L]),v.domain(r||d3.extent(d3.merge(q).concat(K),function(t){return t.y})).range([0,L]),b.yDomain(m.domain()),x.yDomain(m.domain()),_.yDomain(m.domain()),y.yDomain(v.domain()),w.yDomain(v.domain()),k.yDomain(v.domain()),O.length&&d3.transition(U).call(_),R.length&&d3.transition(Z).call(k),I.length&&d3.transition(V).call(x),N.length&&d3.transition($).call(w),F.length&&d3.transition(Y).call(b),P.length&&d3.transition(G).call(y),T.ticks(t.utils.calcTicksX(D/100,d)).tickSize(-L,0),X.select(".x.axis").attr("transform","translate(0,"+L+")"),d3.transition(X.select(".x.axis")).call(T),A.ticks(t.utils.calcTicksY(L/36,d)).tickSize(-D,0),d3.transition(X.select(".y1.axis")).call(A),C.ticks(t.utils.calcTicksY(L/36,d)).tickSize(-D,0),d3.transition(X.select(".y2.axis")).call(C),X.select(".y1.axis").classed("nv-disabled",j.length?!1:!0).attr("transform","translate("+n.range()[0]+",0)"),X.select(".y2.axis").classed("nv-disabled",q.length?!1:!0).attr("transform","translate("+n.range()[1]+",0)"),S.dispatch.on("stateChange",function(t){e.update()}),M.on("tooltipShow",function(t){u&&E(t,g.parentNode)})}),e}var n,i,r,a={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),s=null,c=null,l=!0,u=!0,d=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},f="No Data Available.",h=function(t){return t.x},g=function(t){return t.y},p="monotone",n=d3.scale.linear(),m=d3.scale.linear(),v=d3.scale.linear(),b=t.models.line().yScale(m),y=t.models.line().yScale(v),x=t.models.multiBar().stacked(!1).yScale(m),w=t.models.multiBar().stacked(!1).yScale(v),_=t.models.stackedArea().yScale(m),k=t.models.stackedArea().yScale(v),T=t.models.axis().scale(n).orient("bottom").tickPadding(5),A=t.models.axis().scale(m).orient("left"),C=t.models.axis().scale(v).orient("right"),S=t.models.legend().height(30),M=d3.dispatch("tooltipShow","tooltipHide"),E=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),a=n.pos[1]+(i.offsetTop||0),o=T.tickFormat()(b.x()(n.point,n.pointIndex)),s=(2==n.series.yAxis?C:A).tickFormat()(b.y()(n.point,n.pointIndex)),c=d(n.series.key,o,s,n,e);t.tooltip.show([r,a],c,void 0,void 0,i.offsetParent)};return b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),w.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),w.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),_.dispatch.on("tooltipShow",function(t){return Math.round(100*_.y()(t.point))?(t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],void M.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),_.dispatch.on("tooltipHide",function(t){M.tooltipHide(t)}),k.dispatch.on("tooltipShow",function(t){return Math.round(100*k.y()(t.point))?(t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],void M.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),k.dispatch.on("tooltipHide",function(t){M.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],M.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){u&&t.tooltip.cleanup()}),e.dispatch=M,e.lines1=b,e.lines2=y,e.bars1=x,e.bars2=w,e.stack1=_,e.stack2=k,e.xAxis=T,e.yAxis1=A,e.yAxis2=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return c},set:function(t){c=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return i},set:function(t){i=t}},yDomain2:{get:function(){return r},set:function(t){r=t}},tooltips:{get:function(){return u},set:function(t){u=t}},tooltipContent:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return h},set:function(t){h=t,b.x(t),x.x(t)}},y:{get:function(){return g},set:function(t){g=t,b.y(t),x.y(t)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(k){return k.each(function(e){var k=d3.select(this),A=(s||parseInt(k.style("width"))||960)-o.left-o.right,C=(c||parseInt(k.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(k),u.domain(n||d3.extent(e[0].values.map(f).concat(b))),u.range(x?r||[.5*A/e[0].values.length,A*(e[0].values.length-.5)/e[0].values.length]:r||[0,A]),d.domain(i||[d3.min(e[0].values.map(v).concat(y)),d3.max(e[0].values.map(m).concat(y))]).range(a||[C,0]),u.domain()[0]===u.domain()[1]&&u.domain(u.domain()[0]?[u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]:[-1,1]),d.domain()[0]===d.domain()[1]&&d.domain(d.domain()[0]?[d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]:[-1,1]);var S=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),M=S.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=M.append("defs"),D=M.append("g"),L=S.select("g");D.append("g").attr("class","nv-ticks"),S.attr("transform","translate("+o.left+","+o.top+")"),k.on("click",function(t,e){T.chartClick({data:t,index:e,pos:d3.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),S.select("#nv-chart-clip-path-"+l+" rect").attr("width",A).attr("height",C),L.attr("clip-path",w?"url(#nv-chart-clip-path-"+l+")":"");var F=S.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});F.exit().remove();F.enter().append("path").attr("class",function(t,e,n){return(g(t,e)>p(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,n){var i=A/e[0].values.length*.9;return"m0,0l0,"+(d(g(t,n))-d(m(t,n)))+"l"+-i/2+",0l"+i/2+",0l0,"+(d(v(t,n))-d(g(t,n)))+"l0,"+(d(p(t,n))-d(v(t,n)))+"l"+i/2+",0l"+-i/2+",0z"}).attr("transform",function(t,e){return"translate("+u(f(t,e))+","+d(m(t,e))+")"}).attr("fill",function(t,e){return _[0]}).attr("stroke",function(t,e){return _[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,h(t,e)))}).attr("height",function(t,e){return Math.abs(d(h(t,e))-d(0))});F.attr("class",function(t,e,n){return(g(t,e)>p(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(F).attr("transform",function(t,e){return"translate("+u(f(t,e))+","+d(m(t,e))+")"}).attr("d",function(t,n){var i=A/e[0].values.length*.9;return"m0,0l0,"+(d(g(t,n))-d(m(t,n)))+"l"+-i/2+",0l"+i/2+",0l0,"+(d(v(t,n))-d(g(t,n)))+"l0,"+(d(p(t,n))-d(v(t,n)))+"l"+i/2+",0l"+-i/2+",0z"})}),e}var n,i,r,a,o={top:0,right:0,bottom:0,left:0},s=null,c=null,l=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},g=function(t){return t.open},p=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},b=[],y=[],x=!1,w=!0,_=t.utils.defaultColor(),k=!1,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.highlightPoint=function(t,n){e.clearHighlights(),d3.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return y},set:function(t){y=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return w},set:function(t){w=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return k},set:function(t){k=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return p()},set:function(t){p=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(f){return f.each(function(f){function h(t){return T(s.map(function(e){return[a(e),o[e](t[e])]}))}function g(){var t=s.filter(function(t){return!o[t].brush.empty()}),e=t.map(function(t){return o[t].brush.extent()});l=[],t.forEach(function(t,n){l[n]={dimension:t,extent:e[n]}}),u=[],k.style("display",function(n){var i=t.every(function(t,i){return e[i][0]<=n[t]&&n[t]<=e[i][1]});return i&&u.push(n),i?null:"none"}),d.brush({filters:l,active:u})}var p=d3.select(this),m=(i||parseInt(p.style("width"))||960)-n.left-n.right,v=(r||parseInt(p.style("height"))||400)-n.top-n.bottom;t.utils.initSVG(p),u=f,e.update=function(){},a.rangePoints([0,m],1).domain(s),s.forEach(function(t){return o[t]=d3.scale.linear().domain(d3.extent(f,function(e){return+e[t]})).range([v,0]),o[t].brush=d3.svg.brush().y(o[t]).on("brush",g),"name"!=t});var b=p.selectAll("g.nv-wrap.nv-parallelCoordinates").data([f]),y=b.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),x=y.append("g"),w=b.select("g");x.append("g").attr("class","nv-parallelCoordinatesWrap"),b.attr("transform","translate("+n.left+","+n.top+")");var _,k,T=d3.svg.line(),A=d3.svg.axis().orient("left");_=x.append("g").attr("class","background").selectAll("path").data(f).enter().append("path").attr("d",h),k=x.append("g").attr("class","foreground").selectAll("path").data(f).enter().append("path").attr("d",h).attr("stroke",c);var C=w.selectAll(".dimension").data(s).enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+a(t)+",0)"});C.append("g").attr("class","axis").each(function(t){d3.select(this).call(A.scale(o[t]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String),C.append("g").attr("class","brush").each(function(t){d3.select(this).call(o[t].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:10,bottom:10,left:10},i=null,r=null,a=d3.scale.ordinal(),o={},s=[],c=t.utils.defaultColor(),l=[],u=[],d=d3.dispatch("brush");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},dimensions:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(l){return M.reset(),l.each(function(e){function l(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return j(e(t))}}var E=i-n.left-n.right,D=r-n.top-n.bottom,L=Math.min(E,D)/2,F=L-L/5,P=d3.select(this);t.utils.initSVG(P);var I=P.selectAll(".nv-wrap.nv-pie").data(e),N=I.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),O=N.append("g"),R=I.select("g"),z=O.append("g").attr("class","nv-pie");O.append("g").attr("class","nv-pieLabels"),I.attr("transform","translate("+n.left+","+n.top+")"),R.select(".nv-pie").attr("transform","translate("+E/2+","+D/2+")"),R.select(".nv-pieLabels").attr("transform","translate("+E/2+","+D/2+")"),P.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:s})});var j=d3.svg.arc().outerRadius(F),q=d3.svg.arc().outerRadius(F+5);_&&(j.startAngle(_),q.startAngle(_)),T&&(j.endAngle(T),q.endAngle(T)),v&&(j.innerRadius(L*C),q.innerRadius(L*C));var H=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});if(H.padAngle&&k&&H.padAngle(k),j.cornerRadius&&A&&(j.cornerRadius(A),q.cornerRadius(A)),v&&b){var B=z.append("g").attr("class","nv-pie");B.append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(t){return b}).attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+x+")"})}var X=I.select(".nv-pie").selectAll(".nv-slice").data(H),W=I.select(".nv-pieLabels").selectAll(".nv-label").data(H);X.exit().remove(),W.exit().remove();var Y=X.enter().append("g");Y.attr("class","nv-slice"),Y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),y&&d3.select(this).select("path").transition().duration(70).attr("d",q),S.elementMouseover({label:a(t.data),value:o(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:s,color:d3.select(this).style("fill")})}),Y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),y&&d3.select(this).select("path").transition().duration(50).attr("d",j),S.elementMouseout({label:a(t.data),value:o(t.data),point:t.data,index:e,id:s})}),X.attr("fill",function(t,e){return c(t,e)}),X.attr("stroke",function(t,e){return c(t,e)});var V=Y.append("path").each(function(t){this._current=t});if(V.on("click",function(t,e){S.elementClick({label:a(t.data),value:o(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),V.on("dblclick",function(t,e){S.elementDblClick({label:a(t.data),value:o(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),X.select("path").transition().attr("d",j).attrTween("d",l),f){var U=d3.svg.arc().innerRadius(0);if(h)var U=j;g&&(U=d3.svg.arc().outerRadius(j.outerRadius())),W.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(w){t.outerRadius=F+10,t.innerRadius=F+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+U.centroid(t)+") rotate("+e+")"}return t.outerRadius=L+10,t.innerRadius=L+15,"translate("+U.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",w?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var G={},$=14,Z=140,Q=function(t){return Math.floor(t[0]/Z)*Z+","+Math.floor(t[1]/$)*$};W.watchTransition(M,"pie labels").attr("transform",function(t){if(w){t.outerRadius=F+10,t.innerRadius=F+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+U.centroid(t)+") rotate("+e+")"}t.outerRadius=L+10,t.innerRadius=L+15;var n=U.centroid(t);if(t.value){var i=Q(n);G[i]&&(n[1]-=$),G[Q(n)]=!0}return"translate("+n+")"}),W.select(".nv-label text").style("text-anchor",w?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),i={key:a(t.data),value:o(t.data),percent:u(n)};return t.value&&n>m?i[p]:""})}}),M.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},i=500,r=500,a=function(t){return t.x},o=function(t){return t.y},s=Math.floor(1e4*Math.random()),c=t.utils.defaultColor(),l=d3.format(",.2f"),u=d3.format("%"),f=!0,h=!0,g=!1,p="key",m=.02,v=!1,b=!1,y=!0,x=0,w=!1,_=!1,k=!1,T=!1,A=0,C=.5,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),M=t.utils.renderWatch(S);return e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},showLabels:{get:function(){return f},set:function(t){f=t}},title:{get:function(){return b},set:function(t){b=t}},titleOffset:{get:function(){return x},set:function(t){x=t}},labelThreshold:{get:function(){return m},set:function(t){m=t}},labelFormat:{get:function(){return u},set:function(t){u=t}},valueFormat:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return T},set:function(t){T=t}},startAngle:{get:function(){return _},set:function(t){_=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return A},set:function(t){A=t}},donutRatio:{get:function(){return C},set:function(t){C=t}},pieLabelsOutside:{get:function(){return h},set:function(t){h=t}},donutLabelsOutside:{get:function(){return g},set:function(t){g=t}},labelSunbeamLayout:{get:function(){return w},set:function(t){w=t}},donut:{get:function(){return v},set:function(t){v=t}},growOnHover:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},labelType:{get:function(){return p},set:function(t){p=t||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(c){return v.reset(),v.models(n),c.each(function(c){var l=d3.select(this);t.utils.initSVG(l);var u=(a||parseInt(l.style("width"),10)||960)-r.left-r.right,g=(o||parseInt(l.style("height"),10)||400)-r.top-r.bottom;if(e.update=function(){l.transition().call(e)},e.container=this,d.setter(y(c),e.update).getter(b(c)).update(),d.disabled=c.map(function(t){return!!t.disabled}),!f){var m;f={};for(m in d)f[m]=d[m]instanceof Array?d[m].slice(0):d[m]}if(!c||!c.length){var v=l.selectAll(".nv-noData").data([h]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",r.left+u/2).attr("y",r.top+g/2).text(function(t){return t}),e}l.selectAll(".nv-noData").remove();var x=l.selectAll("g.nv-wrap.nv-pieChart").data([c]),w=x.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=x.select("g");w.append("g").attr("class","nv-pieWrap"),w.append("g").attr("class","nv-legendWrap"),s&&(i.width(u).key(n.x()),x.select(".nv-legendWrap").datum(c).call(i),r.top!=i.height()&&(r.top=i.height(),g=(o||parseInt(l.style("height"))||400)-r.top-r.bottom),x.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")),x.attr("transform","translate("+r.left+","+r.top+")"),n.width(u).height(g);var k=_.select(".nv-pieWrap").datum([c]);d3.transition(k).call(n),i.dispatch.on("stateChange",function(t){for(var n in t)d[n]=t[n];p.stateChange(d),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){p.tooltipHide(t)}),p.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),i=t.models.legend(),r={top:30,right:20,bottom:20,left:20},a=null,o=null,s=!0,c=t.utils.defaultColor(),l=!0,u=function(t,e,n,i){return'<h3 style="background-color: '+n.color+'">'+t+"</h3><p>"+e+"</p>"},d=t.utils.state(),f=null,h="No Data Available.",g=250,p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),m=function(i,r){var a=n.x()(i.point),o=i.pos[0]+(r&&r.offsetLeft||0),s=i.pos[1]+(r&&r.offsetTop||0),c=n.valueFormat()(n.y()(i.point)),l=u(a,c,i,e);t.tooltip.show([o,s],l,i.value<0?"n":"s",null,r)},v=t.utils.renderWatch(p),b=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},y=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],p.tooltipShow(t)}),p.on("tooltipShow",function(t){l&&m(t)}),p.on("tooltipHide",function(){l&&t.tooltip.cleanup()}),e.legend=i,e.dispatch=p,e.pie=n,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return u},set:function(t){u=t}},tooltips:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return c},set:function(t){c=t,i.color(c),n.color(c)}},duration:{get:function(){return g},set:function(t){g=t,v.reset(g)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(R){return j.reset(),R.each(function(e){function R(){if(!w)return!1;var t=d3.merge(e.map(function(t,e){return t.values.map(function(t,n){var i=g(t,n),r=p(t,n);return[d(i)+1e-7*Math.random(),f(r)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(O===!0){t.length<3&&(t.push([d.range()[0]-20,f.range()[0]-20,null,null]),t.push([d.range()[1]+20,f.range()[1]+20,null,null]),t.push([d.range()[0]-20,f.range()[0]+20,null,null]),t.push([d.range()[1]+20,f.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,c+10],[s+10,c+10],[s+10,-10]]),i=d3.geom.voronoi(t).map(function(e,i){return{data:n.clip(e),series:t[i][2],point:t[i][3]}});W.select(".nv-point-paths").selectAll("path").remove();var r=W.select(".nv-point-paths").selectAll("path").data(i);if(r.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+e+")"}),C){var a=W.append("svg:g").attr("id","nv-point-clips");a.selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",S)}var l=function(t,n){if(z)return 0;var i=e[t.series];if("undefined"!=typeof i){var r=i.values[t.point];n({point:r,series:i,pos:[d(g(r,t.point))+o.left,f(p(r,t.point))+o.top],seriesIndex:t.series,pointIndex:t.point})}};r.on("click",function(t){l(t,N.elementClick)}).on("dblclick",function(t){l(t,N.elementDblClick)}).on("mouseover",function(t){l(t,N.elementMouseover)}).on("mouseout",function(t,e){l(t,N.elementMouseout)})}else W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(z||!e[t.series])return 0;var i=e[t.series],r=i.values[n];N.elementClick({point:r,series:i,pos:[d(g(r,n))+o.left,f(p(r,n))+o.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(z||!e[t.series])return 0;var i=e[t.series],r=i.values[n];N.elementMouseover({point:r,series:i,pos:[d(g(r,n))+o.left,f(p(r,n))+o.top],seriesIndex:t.series,pointIndex:n})}).on("mouseout",function(t,n){if(z||!e[t.series])return 0;var i=e[t.series],r=i.values[n];N.elementMouseout({point:r,series:i,seriesIndex:t.series,pointIndex:n})});z=!1}var q=d3.select(this),H=(s||parseInt(q.style("width"))||960)-o.left-o.right,B=(c||parseInt(q.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(q),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var X=M&&E&&F?[]:d3.merge(e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:p(t,e),size:m(t,e)}})}));d.domain(M||d3.extent(X.map(function(t){return t.x}).concat(b))),d.range(k&&e[0]?D||[(H*T+H)/(2*e[0].values.length),H-H*(1+T)/(2*e[0].values.length)]:D||[0,H]),f.domain(E||d3.extent(X.map(function(t){return t.y}).concat(y))).range(L||[B,0]),h.domain(F||d3.extent(X.map(function(t){return t.size}).concat(x))).range(P||[16,256]),(d.domain()[0]===d.domain()[1]||f.domain()[0]===f.domain()[1])&&(I=!0),d.domain()[0]===d.domain()[1]&&d.domain(d.domain()[0]?[d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]:[-1,1]),f.domain()[0]===f.domain()[1]&&f.domain(f.domain()[0]?[f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]:[-1,1]),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(f.domain()[0])&&f.domain([-1,1]),n=n||d,i=i||f,r=r||h;var W=q.selectAll("g.nv-wrap.nv-scatter").data([e]),Y=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u+(I?" nv-single-point":"")),V=Y.append("defs"),U=Y.append("g"),G=W.select("g");U.append("g").attr("class","nv-groups"),U.append("g").attr("class","nv-point-paths"),W.attr("transform","translate("+o.left+","+o.top+")"),V.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),W.select("#nv-edge-clip-"+u+" rect").attr("width",H).attr("height",B>0?B:0),G.attr("clip-path",A?"url(#nv-edge-clip-"+u+")":""),z=!0;var $=W.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),$.watchTransition(j,"scatter: groups").style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var Z=$.selectAll("path.nv-point").data(function(t){return t.values});Z.enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,e){return"translate("+n(g(t,e))+","+i(p(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return h(m(t,e))})),Z.exit().remove(),$.exit().selectAll("path.nv-point").watchTransition(j,"scatter exit").attr("transform",function(t,e){return"translate("+d(g(t,e))+","+f(p(t,e))+")"}).remove(),Z.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Z.watchTransition(j,"scatter points").attr("transform",function(t,e){return"translate("+d(g(t,e))+","+f(p(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return h(m(t,e))})),clearTimeout(a),a=setTimeout(R,300),n=d.copy(),i=f.copy(),r=h.copy()}),j.renderEnd("scatter immediate"),e}var n,i,r,a,o={top:0,right:0,bottom:0,left:0},s=null,c=null,l=t.utils.defaultColor(),u=Math.floor(1e5*Math.random()),d=d3.scale.linear(),f=d3.scale.linear(),h=d3.scale.linear(),g=function(t){return t.x},p=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},b=[],y=[],x=[],w=!0,_=function(t){return!t.notActive},k=!1,T=.1,A=!1,C=!0,S=function(){return 25},M=null,E=null,D=null,L=null,F=null,P=null,I=!1,N=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),O=!0,R=250,z=!1,j=t.utils.renderWatch(N,R);return e.dispatch=N,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return d3.selectAll(".nv-chart-"+u+" .nv-point.hover").classed("hover",!1),null},this.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+u+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)}},N.on("elementMouseover.point",function(t){w&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),N.on("elementMouseout.point",function(t){w&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},pointScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return M},set:function(t){M=t}},yDomain:{get:function(){return E},set:function(t){E=t}},pointDomain:{get:function(){return F},set:function(t){F=t}},xRange:{get:function(){return D},set:function(t){D=t}},yRange:{get:function(){return L},set:function(t){L=t}},pointRange:{get:function(){return P},set:function(t){P=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return y},set:function(t){y=t}},forcePoint:{get:function(){return x},set:function(t){x=t}},interactive:{get:function(){return w},set:function(t){w=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return k},set:function(t){k=t}},clipEdge:{get:function(){return A},set:function(t){A=t}},clipVoronoi:{get:function(){return C},set:function(t){C=t}},clipRadius:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return g},set:function(t){g=d3.functor(t)}},y:{get:function(){return p},set:function(t){p=d3.functor(t)}},pointSize:{get:function(){return m},set:function(t){m=d3.functor(t)}},pointShape:{get:function(){return v},set:function(t){
v=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return R},set:function(t){R=t,j.reset(R)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},useVoronoi:{get:function(){return O},set:function(t){O=t,O===!1&&(C=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(w){return L.reset(),L.models(n),v&&L.models(i),b&&L.models(r),g&&L.models(o),p&&L.models(s),w.each(function(w){var _=d3.select(this),k=this;t.utils.initSVG(_);var N=(l||parseInt(_.style("width"))||960)-c.left-c.right,O=(u||parseInt(_.style("height"))||400)-c.top-c.bottom;if(e.update=function(){0===M?_.call(e):_.transition().duration(M).call(e)},e.container=this,T.setter(I(w),e.update).getter(P(w)).update(),T.disabled=w.map(function(t){return!!t.disabled}),!A){var R;A={};for(R in T)A[R]=T[R]instanceof Array?T[R].slice(0):T[R]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var z=_.selectAll(".nv-noData").data([S]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",c.left+N/2).attr("y",c.top+O/2).text(function(t){return t}),L.renderEnd("scatter immediate"),e}_.selectAll(".nv-noData").remove(),f=n.xScale(),h=n.yScale();var j=_.selectAll("g.nv-wrap.nv-scatterChart").data([w]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()),H=q.append("g"),B=j.select("g");H.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-scatterWrap"),H.append("g").attr("class","nv-regressionLinesWrap"),H.append("g").attr("class","nv-distWrap"),H.append("g").attr("class","nv-legendWrap"),j.attr("transform","translate("+c.left+","+c.top+")"),y&&B.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),m&&(a.width(N/2),j.select(".nv-legendWrap").datum(w).call(a),c.top!=a.height()&&(c.top=a.height(),O=(u||parseInt(_.style("height"))||400)-c.top-c.bottom),j.select(".nv-legendWrap").attr("transform","translate("+N/2+","+-c.top+")")),n.width(N).height(O).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),j.select(".nv-scatterWrap").datum(w.filter(function(t){return!t.disabled})).call(n),j.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var X=j.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});X.enter().append("g").attr("class","nv-regLines");var W=X.selectAll(".nv-regLine").data(function(t){return[t]});W.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),W.filter(function(t){return t.intercept&&t.slope}).watchTransition(L,"scatterPlusLineChart: regline").attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t,e){return h(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return h(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return d(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),v&&(i.scale(f).ticks(i.ticks()?i.ticks():t.utils.calcTicksX(N/100,w)).tickSize(-O,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(i)),b&&(r.scale(h).ticks(r.ticks()?r.ticks():t.utils.calcTicksY(O/36,w)).tickSize(-N,0),B.select(".nv-y.nv-axis").call(r)),g&&(o.getData(n.x()).scale(f).width(N).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),H.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),B.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(w.filter(function(t){return!t.disabled})).call(o)),p&&(s.getData(n.y()).scale(h).width(O).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),H.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),B.select(".nv-distributionY").attr("transform","translate("+(y?N:-s.size())+",0)").datum(w.filter(function(t){return!t.disabled})).call(s)),a.dispatch.on("stateChange",function(t){for(var n in t)T[n]=t[n];C.stateChange(T),e.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-O),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+o.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],C.tooltipShow(t)}),C.on("tooltipShow",function(t){x&&F(t,k.parentNode)}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),T.disabled=t.disabled),e.update()}),E=f.copy(),D=h.copy()}),L.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),i=t.models.axis(),r=t.models.axis(),a=t.models.legend(),o=t.models.distribution(),s=t.models.distribution(),c={top:30,right:20,bottom:50,left:75},l=null,u=null,d=t.utils.defaultColor(),f=n.xScale(),h=n.yScale(),g=!1,p=!1,m=!0,v=!0,b=!0,y=!1,x=!0,w=function(t,e,n){return"<strong>"+e+"</strong>"},_=function(t,e,n){return"<strong>"+n+"</strong>"},k=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+i+"</p>"},T=t.utils.state(),A=null,C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S="No Data Available.",M=250;n.xScale(f).yScale(h),i.orient("bottom").tickPadding(10),r.orient(y?"right":"left").tickPadding(10),o.axis("x"),s.axis("y");var E,D,L=t.utils.renderWatch(C,M),F=function(a,o){var s=a.pos[0]+(o.offsetLeft||0),l=a.pos[1]+(o.offsetTop||0),u=a.pos[0]+(o.offsetLeft||0),d=h.range()[0]+c.top+(o.offsetTop||0),g=f.range()[0]+c.left+(o.offsetLeft||0),p=a.pos[1]+(o.offsetTop||0),m=i.tickFormat()(n.x()(a.point,a.pointIndex)),v=r.tickFormat()(n.y()(a.point,a.pointIndex));null!=w&&t.tooltip.show([u,d],w(a.series.key,m,v,a,e),"n",1,o,"x-nvtooltip"),null!=_&&t.tooltip.show([g,p],_(a.series.key,m,v,a,e),"e",1,o,"y-nvtooltip"),null!=k&&t.tooltip.show([s,l],k(a.series.key,m,v,a.point.tooltip,a,e),a.value<0?"n":"s",null,o)},P=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},I=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),C.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=C,e.scatter=n,e.legend=a,e.xAxis=i,e.yAxis=r,e.distX=o,e.distY=s,e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},showDistX:{get:function(){return g},set:function(t){g=t}},showDistY:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return k},set:function(t){k=t}},tooltipXContent:{get:function(){return w},set:function(t){w=t}},tooltipYContent:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return S},set:function(t){S=t}},duration:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,r.orient(t?"right":"left")}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),a.color(d),o.color(d),s.color(d)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(l){return l.each(function(e){var l=s-o.left-o.right,p=c-o.top-o.bottom,m=d3.select(this);t.utils.initSVG(m),u.domain(n||d3.extent(e,f)).range(r||[0,l]),d.domain(i||d3.extent(e,h)).range(a||[p,0]);{var v=m.selectAll("g.nv-wrap.nv-sparkline").data([e]),b=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");b.append("g"),v.select("g")}v.attr("transform","translate("+o.left+","+o.top+")");var y=v.selectAll("path").data(function(t){return[t]});y.enter().append("path"),y.exit().remove(),y.style("stroke",function(t,e){return t.color||g(t,e)}).attr("d",d3.svg.line().x(function(t,e){return u(f(t,e))}).y(function(t,e){return d(h(t,e))}));var x=v.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return h(t,e)}),i=e(n.lastIndexOf(d.domain()[1])),r=e(n.indexOf(d.domain()[0])),a=e(n.length-1);return[r,i,a].filter(function(t){return null!=t})});x.enter().append("circle"),x.exit().remove(),x.attr("cx",function(t,e){return u(f(t,t.pointIndex))}).attr("cy",function(t,e){return d(h(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,i,r,a,o={top:2,right:0,bottom:2,left:0},s=400,c=32,l=!0,u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},g=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return c},set:function(t){c=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return h},set:function(t){h=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(f){return f.each(function(m){function v(){if(!l){var t=S.selectAll(".nv-hoverValue").data(c),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(r.x()(m[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),c.length&&(e.append("line").attr("x1",0).attr("y1",-a.top).attr("x2",0).attr("y2",w),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-a.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(u(r.x()(m[c[0]],c[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-a.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(d(r.y()(m[c[0]],c[0]))))}}function b(){function t(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,a=0;a<t.length;a++)Math.abs(r.x()(t[a],a)-e)<n&&(n=Math.abs(r.x()(t[a],a)-e),i=a);return i}if(!l){var e=d3.mouse(this)[0]-a.left;c=[t(m,Math.round(n.invert(e)))],v()}}var y=d3.select(this);t.utils.initSVG(y);var x=(o||parseInt(y.style("width"))||960)-a.left-a.right,w=(s||parseInt(y.style("height"))||400)-a.top-a.bottom;if(e.update=function(){e(f)},e.container=this,!m||!m.length){var _=y.selectAll(".nv-noData").data([p]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",a.left+x/2).attr("y",a.top+w/2).text(function(t){return t}),e}y.selectAll(".nv-noData").remove();var k=r.y()(m[m.length-1],m.length-1);n=r.xScale(),i=r.yScale();var T=y.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),A=T.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),C=A.append("g"),S=T.select("g");C.append("g").attr("class","nv-sparklineWrap"),C.append("g").attr("class","nv-valueWrap"),C.append("g").attr("class","nv-hoverArea"),T.attr("transform","translate("+a.left+","+a.top+")");var M=S.select(".nv-sparklineWrap");r.width(x).height(w),M.call(r);var E=S.select(".nv-valueWrap"),D=E.selectAll(".nv-currentValue").data([k]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",g?-8:8).attr("dy",".9em").style("text-anchor",g?"end":"start"),D.attr("x",x+(g?a.right:0)).attr("y",h?function(t){return i(t)}:0).style("fill",r.color()(m[m.length-1],m.length-1)).text(d(k)),C.select(".nv-hoverArea").append("rect").on("mousemove",b).on("click",function(){l=!l}).on("mouseout",function(){c=[],v()}),S.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-a.left+","+-a.top+")"}).attr("width",x+a.left+a.right).attr("height",w+a.top)}),e}var n,i,r=t.models.sparkline(),a={top:15,right:100,bottom:10,left:50},o=null,s=null,c=[],l=!1,u=d3.format(",r"),d=d3.format(",.2f"),f=!0,h=!0,g=!1,p="No Data Available.";return e.sparkline=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return h},set:function(t){h=t}},rightAlignValue:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(d){return y.reset(),y.models(m),d.each(function(d){var v=a-r.left-r.right,x=o-r.top-r.bottom,w=d3.select(this);t.utils.initSVG(w),n=m.xScale(),i=m.yScale();var _=d;d.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var k=d.filter(function(t){return!t.disabled});d=d3.layout.stack().order(h).offset(f).values(function(t){return t.values}).x(l).y(u).out(function(t,e,n){var i=0===u(t)?0:n;t.display={y:i,y0:e}})(k);var T=w.selectAll("g.nv-wrap.nv-stackedarea").data([d]),A=T.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=A.append("defs"),S=A.append("g"),M=T.select("g");S.append("g").attr("class","nv-areaWrap"),S.append("g").attr("class","nv-scatterWrap"),T.attr("transform","translate("+r.left+","+r.top+")"),m.width(v).height(x).x(l).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(d.map(function(t,e){return t.color||s(t,t.seriesIndex)}));var E=M.select(".nv-scatterWrap").datum(d);E.call(m),C.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),T.select("#nv-edge-clip-"+c+" rect").attr("width",v).attr("height",x),M.attr("clip-path",p?"url(#nv-edge-clip-"+c+")":"");var D=d3.svg.area().x(function(t,e){return n(l(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y+t.display.y0)}).interpolate(g),L=d3.svg.area().x(function(t,e){return n(l(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y0)}),F=M.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});F.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return L(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),b.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),F.exit().remove(),F.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),F.watchTransition(y,"stackedArea path").attr("d",function(t,e){return D(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){M.select(".nv-chart-"+c+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){M.select(".nv-chart-"+c+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;e<_.length;e++)i+=u(_[e].values[n]);if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s}}),y.renderEnd("stackedArea immediate"),e}var n,i,r={top:0,right:0,bottom:0,left:0},a=960,o=500,s=t.utils.defaultColor(),c=Math.floor(1e5*Math.random()),l=function(t){return t.x},u=function(t){return t.y},d="stack",f="zero",h="default",g="linear",p=!1,m=t.models.scatter(),v=250,b=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd");m.interactive(!1),m.pointSize(2.2).pointDomain([2.2,2.2]);var y=t.utils.renderWatch(b,v);return m.dispatch.on("elementClick.area",function(t){b.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],b.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),e.dispatch=b,e.scatter=m,e.interpolate=function(t){return arguments.length?(g=t,e):g},e.duration=function(t){return arguments.length?(v=t,y.reset(v),m.duration(v),e):v},e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return p},set:function(t){p=t}},offset:{get:function(){return f},set:function(t){f=t}},order:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return l},set:function(t){l=d3.functor(t)}},y:{get:function(){return u},set:function(t){u=d3.functor(t)}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return d},set:function(t){switch(d=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v),m.duration(v)}}}),t.utils.inheritOptions(e,m),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(w){return L.reset(),L.models(r),m&&L.models(a),v&&L.models(o),w.each(function(w){var L=d3.select(this),O=this;t.utils.initSVG(L);var R=(d||parseInt(L.style("width"))||960)-u.left-u.right,z=(f||parseInt(L.style("height"))||400)-u.top-u.bottom;if(e.update=function(){L.transition().duration(D).call(e)},e.container=this,k.setter(N(w),e.update).getter(I(w)).update(),k.disabled=w.map(function(t){return!!t.disabled}),!T){var j;T={};for(j in k)T[j]=k[j]instanceof Array?k[j].slice(0):k[j]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var q=L.selectAll(".nv-noData").data([A]);return q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),q.attr("x",u.left+R/2).attr("y",u.top+z/2).text(function(t){return t}),e}L.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var H=L.selectAll("g.nv-wrap.nv-stackedAreaChart").data([w]),B=H.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=H.select("g");if(B.append("rect").style("opacity",0),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-stackedWrap"),B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap"),B.append("g").attr("class","nv-interactive"),X.select("rect").attr("width",R).attr("height",z),p){var W=g?R-S:R;s.width(W),X.select(".nv-legendWrap").datum(w).call(s),u.top!=s.height()&&(u.top=s.height(),z=(f||parseInt(L.style("height"))||400)-u.top-u.bottom),X.select(".nv-legendWrap").attr("transform","translate("+(R-W)+","+-u.top+")")}if(g){var Y=[{key:E.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:E.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:E.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:E.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];S=M.length/3*260,Y=Y.filter(function(t){return-1!==M.indexOf(t.metaKey)}),c.width(S).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(Y).call(c),u.top!=Math.max(c.height(),s.height())&&(u.top=Math.max(c.height(),s.height()),z=(f||parseInt(L.style("height"))||400)-u.top-u.bottom),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}H.attr("transform","translate("+u.left+","+u.top+")"),b&&X.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),y&&(l.width(R).height(z).margin({left:u.left,top:u.top}).svgContainer(L).xScale(n),H.select(".nv-interactive").call(l)),r.width(R).height(z);var V=X.select(".nv-stackedWrap").datum(w);V.transition().call(r),m&&(a.scale(n).ticks(t.utils.calcTicksX(R/100,w)).tickSize(-z,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+z+")"),X.select(".nv-x.nv-axis").transition().duration(0).call(a)),v&&(o.scale(i).ticks("wiggle"==r.offset()?0:t.utils.calcTicksY(z/36,w)).tickSize(-R,0).setTickFormat("expand"==r.style()||"stack_percent"==r.style()?d3.format("%"):_),X.select(".nv-y.nv-axis").transition().duration(0).call(o)),r.dispatch.on("areaClick.toggle",function(t){w.forEach(1===w.filter(function(t){return!t.disabled}).length?function(t){t.disabled=!1}:function(e,n){e.disabled=n!=t.seriesIndex}),k.disabled=w.map(function(t){return!!t.disabled}),C.stateChange(k),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];C.stateChange(k),e.update()}),c.dispatch.on("legendClick",function(t,n){t.disabled&&(Y=Y.map(function(t){return t.disabled=!0,t}),t.disabled=!1,r.style(t.style),k.style=r.style(),C.stateChange(k),e.update())}),l.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,s,c,d=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,o){s=t.interactiveBisect(a.values,n.pointXValue,e.x()),r.highlightPoint(o,s,!0);var l=a.values[s];if("undefined"!=typeof l){"undefined"==typeof i&&(i=l),"undefined"==typeof c&&(c=e.xScale()(e.x()(l,s)));var u="expand"==r.style()?l.display.y:e.y()(l,s);d.push({key:a.key,value:u,color:h(a,a.seriesIndex),stackedValue:l.display})}}),d.reverse(),d.length>2){var f=e.yScale().invert(n.mouseY),g=null;d.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.stackedValue.y0),i=Math.abs(t.stackedValue.y);return f>=n&&i+n>=f?void(g=e):void 0}),null!=g&&(d[g].highlight=!0)}var p=a.tickFormat()(e.x()(i,s)),m="expand"==r.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return o.tickFormat()(t)};l.tooltip.position({left:c+u.left,top:n.mouseY+u.top}).chartContainer(O.parentNode).enabled(x).valueFormatter(m).data({value:p,series:d})(),l.renderGuideLine(c)}),l.dispatch.on("elementMouseout",function(t){C.tooltipHide(),r.clearHighlights()}),C.on("tooltipShow",function(t){x&&P(t,O.parentNode)}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&w.length===t.disabled.length&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),"undefined"!=typeof t.style&&(r.style(t.style),F=t.style),e.update()})}),L.renderEnd("stacked Area chart immediate"),e}var n,i,r=t.models.stackedArea(),a=t.models.axis(),o=t.models.axis(),s=t.models.legend(),c=t.models.legend(),l=t.interactiveGuideline(),u={top:30,right:25,bottom:50,left:60},d=null,f=null,h=t.utils.defaultColor(),g=!0,p=!0,m=!0,v=!0,b=!1,y=!1,x=!0,w=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),k=t.utils.state(),T=null,A="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=250,M=["Stacked","Stream","Expanded"],E={},D=250;k.style=r.style(),a.orient("bottom").tickPadding(7),o.orient(b?"right":"left"),c.updateState(!1);var L=t.utils.renderWatch(C),F=r.style(),P=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),c=n.pos[1]+(i.offsetTop||0),l=a.tickFormat()(r.x()(n.point,n.pointIndex)),u=o.tickFormat()(r.y()(n.point,n.pointIndex)),d=w(n.series.key,l,u,n,e);t.tooltip.show([s,c],d,n.value<0?"n":"s",null,i)},I=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:r.style()}}},N=function(t){return function(e){void 0!==e.style&&(F=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],C.tooltipShow(t)}),r.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=C,e.stacked=r,e.legend=s,e.controls=c,e.xAxis=a,e.yAxis=o,e.interactiveLayer=l,o.setTickFormat=o.tickFormat,e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return A},set:function(t){A=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return E},set:function(t){E=t}},yAxisTickFormat:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return D},set:function(t){D=t,L.reset(D),r.duration(D),a.duration(D),o.duration(D)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),s.color(h),r.color(h)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,o.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=!!t,t&&(e.interactive(!1),e.useVoronoi(!1))}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.version="1.7.1"}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=J.type(t);return"function"===n||J.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(J.isFunction(e))return J.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return J.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return J.filter(e,t,n);e=J.filter(e,t)}return J.grep(t,function(t){return V.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e=gt[t]={};return J.each(t.match(ht)||[],function(t,n){e[n]=!0}),e}function o(){Q.removeEventListener("DOMContentLoaded",o,!1),t.removeEventListener("load",o,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function c(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(xt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:yt.test(n)?J.parseJSON(n):n}catch(r){}bt.set(t,e,n)}else n=void 0;return n}function l(){return!0}function u(){return!1}function d(){try{return Q.activeElement}catch(t){}}function f(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function h(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function g(t){var e=Ot.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function p(t,e){for(var n=0,i=t.length;i>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function m(t,e){var n,i,r,a,o,s,c,l;if(1===e.nodeType){if(vt.hasData(t)&&(a=vt.access(t),o=vt.set(e,a),l=a.events)){delete o.handle,o.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)J.event.add(e,r,l[r][n])}bt.hasData(t)&&(s=bt.access(t),c=J.extend({},s),bt.set(e,c))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(e,n){var i,r=J(n.createElement(e)).appendTo(n.body),a=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:J.css(r[0],"display");return r.detach(),a}function x(t){var e=Q,n=qt[t];return n||(n=y(t,e),"none"!==n&&n||(jt=(jt||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=jt[0].contentDocument,e.write(),e.close(),n=y(t,e),jt.detach()),qt[t]=n),n}function w(t,e,n){var i,r,a,o,s=t.style;return n=n||Xt(t),n&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||J.contains(t.ownerDocument,t)||(o=J.style(t,e)),Bt.test(o)&&Ht.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=$t.length;r--;)if(e=$t[r]+n,e in t)return e;return i}function T(t,e,n){var i=Yt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function A(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=J.css(t,n+_t[a],!0,r)),i?("content"===n&&(o-=J.css(t,"padding"+_t[a],!0,r)),"margin"!==n&&(o-=J.css(t,"border"+_t[a]+"Width",!0,r))):(o+=J.css(t,"padding"+_t[a],!0,r),"padding"!==n&&(o+=J.css(t,"border"+_t[a]+"Width",!0,r)));return o}function C(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Xt(t),o="border-box"===J.css(t,"boxSizing",!1,a);if(0>=r||null==r){if(r=w(t,e,a),(0>r||null==r)&&(r=t.style[e]),Bt.test(r))return r;i=o&&(Z.boxSizingReliable()||r===t.style[e]),
r=parseFloat(r)||0}return r+A(t,e,n||(o?"border":"content"),i,a)+"px"}function S(t,e){for(var n,i,r,a=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(a[o]=vt.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(a[o]=vt.access(i,"olddisplay",x(i.nodeName)))):(r=kt(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:J.css(i,"display"))));for(o=0;s>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function M(t,e,n,i,r){return new M.prototype.init(t,e,n,i,r)}function E(){return setTimeout(function(){Zt=void 0}),Zt=J.now()}function D(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=_t[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function L(t,e,n){for(var i,r=(ne[e]||[]).concat(ne["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,e,t))return i}function F(t,e,n){var i,r,a,o,s,c,l,u,d=this,f={},h=t.style,g=t.nodeType&&kt(t),p=vt.get(t,"fxshow");n.queue||(s=J._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=J.css(t,"display"),u="none"===l?vt.get(t,"olddisplay")||x(t.nodeName):l,"inline"===u&&"none"===J.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Kt.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;g=!0}f[i]=p&&p[i]||J.style(t,i)}else l=void 0;if(J.isEmptyObject(f))"inline"===("none"===l?x(t.nodeName):l)&&(h.display=l);else{p?"hidden"in p&&(g=p.hidden):p=vt.access(t,"fxshow",{}),a&&(p.hidden=!g),g?J(t).show():d.done(function(){J(t).hide()}),d.done(function(){var e;vt.remove(t,"fxshow");for(e in f)J.style(t,e,f[e])});for(i in f)o=L(g?p[i]:0,i,d),i in p||(p[i]=o.start,g&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function P(t,e){var n,i,r,a,o;for(n in t)if(i=J.camelCase(n),r=e[i],a=t[n],J.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),o=J.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=r)}else e[i]=r}function I(t,e,n){var i,r,a=0,o=ee.length,s=J.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Zt||E(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,a=1-i,o=0,c=l.tweens.length;c>o;o++)l.tweens[o].run(a);return s.notifyWith(t,[l,a,n]),1>a&&c?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zt||E(),duration:n.duration,tweens:[],createTween:function(e,n){var i=J.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),u=l.props;for(P(u,l.opts.specialEasing);o>a;a++)if(i=ee[a].call(l,t,u,l.opts))return i;return J.map(u,L,l),J.isFunction(l.opts.start)&&l.opts.start.call(t,l),J.fx.timer(J.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(ht)||[];if(J.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function O(t,e,n,i){function r(s){var c;return a[s]=!0,J.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||a[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var a={},o=t===ye;return r(e.dataTypes[0])||!a["*"]&&r("*")}function R(t,e){var n,i,r=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&J.extend(!0,t,i),t}function z(t,e,n){for(var i,r,a,o,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)a=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function j(t,e,n,i){var r,a,o,s,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(o=l[c+" "+a]||l["* "+a],!o)for(r in l)if(s=r.split(" "),s[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){o===!0?o=l[r]:l[r]!==!0&&(a=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+c+" to "+a}}}return{state:"success",data:e}}function q(t,e,n,i){var r;if(J.isArray(e))J.each(e,function(e,r){n||Te.test(t)?i(t,r):q(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==J.type(e))i(t,e);else for(r in e)q(t+"["+r+"]",e[r],n,i)}function H(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B=[],X=B.slice,W=B.concat,Y=B.push,V=B.indexOf,U={},G=U.toString,$=U.hasOwnProperty,Z={},Q=t.document,K="2.1.4",J=function(t,e){return new J.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:K,constructor:J,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:B.sort,splice:B.splice},J.extend=J.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||J.isFunction(o)||(o={}),s===c&&(o=this,s--);c>s;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],i=t[e],o!==i&&(l&&i&&(J.isPlainObject(i)||(r=J.isArray(i)))?(r?(r=!1,a=n&&J.isArray(n)?n:[]):a=n&&J.isPlainObject(n)?n:{},o[e]=J.extend(l,a,i)):void 0!==i&&(o[e]=i));return o},J.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==J.type(t)||t.nodeType||J.isWindow(t)?!1:t.constructor&&!$.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?U[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=J.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,a=0,o=t.length,s=n(t);if(i){if(s)for(;o>a&&(r=e.apply(t[a],i),r!==!1);a++);else for(a in t)if(r=e.apply(t[a],i),r===!1)break}else if(s)for(;o>a&&(r=e.call(t[a],a,t[a]),r!==!1);a++);else for(a in t)if(r=e.call(t[a],a,t[a]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?J.merge(i,"string"==typeof t?[t]:t):Y.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:V.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],a=0,o=t.length,s=!n;o>a;a++)i=!e(t[a],a),i!==s&&r.push(t[a]);return r},map:function(t,e,i){var r,a=0,o=t.length,s=n(t),c=[];if(s)for(;o>a;a++)r=e(t[a],a,i),null!=r&&c.push(r);else for(a in t)r=e(t[a],a,i),null!=r&&c.push(r);return W.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(i=X.call(arguments,2),r=function(){return t.apply(e||this,i.concat(X.call(arguments)))},r.guid=t.guid=t.guid||J.guid++,r):void 0},now:Date.now,support:Z}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,n,i){var r,a,o,s,c,l,d,h,g,p;if((e?e.ownerDocument||e:q)!==F&&L(e),e=e||F,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&I){if(11!==s&&(r=bt.exec(t)))if(o=r[1]){if(9===s){if(a=e.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&z(e,a)&&a.id===o)return n.push(a),n}else{if(r[2])return K.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&w.getElementsByClassName)return K.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&(!N||!N.test(t))){if(h=d=j,g=e,p=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=A(t),(d=e.getAttribute("id"))?h=d.replace(xt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",c=l.length;c--;)l[c]=h+f(l[c]);g=yt.test(t)&&u(e.parentNode)||e,p=l.join(",")}if(p)try{return K.apply(n,g.querySelectorAll(p)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return S(t.replace(ct,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function r(t){var e=F.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=B++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,c,l=[H,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[j]||(e[j]={}),(s=c[i])&&s[0]===H&&s[1]===a)return l[2]=s[2];if(c[i]=l,l[2]=t(e,n,o))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var r=0,a=n.length;a>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var a,o=[],s=0,c=t.length,l=null!=e;c>s;s++)(a=t[s])&&(!n||n(a,i,r))&&(o.push(a),l&&e.push(s));return o}function v(t,e,n,r,a,o){return r&&!r[j]&&(r=v(r)),a&&!a[j]&&(a=v(a,o)),i(function(i,o,s,c){var l,u,d,f=[],h=[],g=o.length,v=i||p(e||"*",s.nodeType?[s]:s,[]),b=!t||!i&&e?v:m(v,f,t,s,c),y=n?a||(i?t:g||r)?[]:o:b;if(n&&n(b,y,s,c),r)for(l=m(y,h),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(y[h[u]]=!(b[h[u]]=d));if(i){if(a||t){if(a){for(l=[],u=y.length;u--;)(d=y[u])&&l.push(b[u]=d);a(null,y=[],l,c)}for(u=y.length;u--;)(d=y[u])&&(l=a?tt(i,d):f[u])>-1&&(i[l]=!(o[l]=d))}}else y=m(y===o?y.splice(g,y.length):y),a?a(null,o,y,c):K.apply(o,y)})}function b(t){for(var e,n,i,r=t.length,a=_.relative[t[0].type],o=a||_.relative[" "],s=a?1:0,c=h(function(t){return t===e},o,!0),l=h(function(t){return tt(e,t)>-1},o,!0),u=[function(t,n,i){var r=!a&&(i||n!==M)||((e=n).nodeType?c(t,n,i):l(t,n,i));return e=null,r}];r>s;s++)if(n=_.relative[t[s].type])u=[h(g(u),n)];else{if(n=_.filter[t[s].type].apply(null,t[s].matches),n[j]){for(i=++s;r>i&&!_.relative[t[i].type];i++);return v(s>1&&g(u),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ct,"$1"),n,i>s&&b(t.slice(s,i)),r>i&&b(t=t.slice(i)),r>i&&f(t))}u.push(n)}return g(u)}function y(t,n){var r=n.length>0,a=t.length>0,o=function(i,o,s,c,l){var u,d,f,h=0,g="0",p=i&&[],v=[],b=M,y=i||a&&_.find.TAG("*",l),x=H+=null==b?1:Math.random()||.1,w=y.length;for(l&&(M=o!==F&&o);g!==w&&null!=(u=y[g]);g++){if(a&&u){for(d=0;f=t[d++];)if(f(u,o,s)){c.push(u);break}l&&(H=x)}r&&((u=!f&&u)&&h--,i&&p.push(u))}if(h+=g,r&&g!==h){for(d=0;f=n[d++];)f(p,v,o,s);if(i){if(h>0)for(;g--;)p[g]||v[g]||(v[g]=Z.call(c));v=m(v)}K.apply(c,v),l&&!i&&v.length>0&&h+n.length>1&&e.uniqueSort(c)}return l&&(H=x,M=b),p};return r?i(o):o}var x,w,_,k,T,A,C,S,M,E,D,L,F,P,I,N,O,R,z,j="sizzle"+1*new Date,q=t.document,H=0,B=0,X=n(),W=n(),Y=n(),V=function(t,e){return t===e&&(D=!0),0},U=1<<31,G={}.hasOwnProperty,$=[],Z=$.pop,Q=$.push,K=$.push,J=$.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),at="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ct=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),ht=new RegExp("^"+rt+"$"),gt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){L()};try{K.apply($=J.call(q.childNodes),q.childNodes),$[q.childNodes.length].nodeType}catch(Tt){K={apply:$.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},L=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==F&&9===i.nodeType&&i.documentElement?(F=i,P=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),I=!T(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(i.getElementsByClassName),w.getById=r(function(t){return P.appendChild(t).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},_.find.CLASS=w.getElementsByClassName&&function(t,e){return I?e.getElementsByClassName(t):void 0},O=[],N=[],(w.qsa=vt.test(i.querySelectorAll))&&(r(function(t){P.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=vt.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),O.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),O=O.length&&new RegExp(O.join("|")),e=vt.test(P.compareDocumentPosition),z=e||vt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===q&&z(q,t)?-1:e===i||e.ownerDocument===q&&z(q,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,r=0,a=t.parentNode,s=e.parentNode,c=[t],l=[e];if(!a||!s)return t===i?-1:e===i?1:a?-1:s?1:E?tt(E,t)-tt(E,e):0;if(a===s)return o(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;c[r]===l[r];)r++;return r?o(c[r],l[r]):c[r]===q?-1:l[r]===q?1:0},i):F},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==F&&L(t),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!I||O&&O.test(n)||N&&N.test(n)))try{var i=R.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&L(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&L(t);var n=_.attrHandle[e.toLowerCase()],i=n&&G.call(_.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:w.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return gt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=X[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&X(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var a=e.attr(r,t);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(st," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,d,f,h,g,p=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!c&&!s;if(m){if(a){for(;p;){for(d=e;d=d[p];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;g=p="only"===t&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&b){for(u=m[j]||(m[j]={}),l=u[t]||[],h=l[0]===H&&l[1],f=l[0]===H&&l[2],d=h&&m.childNodes[h];d=++h&&d&&d[p]||(f=h=0)||g.pop();)if(1===d.nodeType&&++f&&d===e){u[t]=[H,h,f];break}}else if(b&&(l=(e[j]||(e[j]={}))[t])&&l[0]===H)f=l[1];else for(;(d=++h&&d&&d[p]||(f=h=0)||g.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[j]||(d[j]={}))[t]=[H,f]),d!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,a=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[j]?a(n):a.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=a(t,n),o=r.length;o--;)i=tt(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return a(t,0,r)}):a}},pseudos:{not:i(function(t){var e=[],n=[],r=C(t.replace(ct,"$1"));return r[j]?i(function(t,e,n,i){for(var a,o=r(t,null,i,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,i,a){return e[0]=t,r(e,null,a,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=c(x);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,A=e.tokenize=function(t,n){var i,r,a,o,s,c,l,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,c=[],l=_.preFilter;s;){(!i||(r=lt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),c.push(a=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(ct," ")}),s=s.slice(i.length));for(o in _.filter)!(r=gt[o].exec(s))||l[o]&&!(r=l[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,c).slice(0)},C=e.compile=function(t,e){var n,i=[],r=[],a=Y[t+" "];if(!a){for(e||(e=A(t)),n=e.length;n--;)a=b(e[n]),a[j]?i.push(a):r.push(a);a=Y(t,y(r,i)),a.selector=t}return a},S=e.select=function(t,e,n,i){var r,a,o,s,c,l="function"==typeof t&&t,d=!i&&A(t=l.selector||t);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===e.nodeType&&I&&_.relative[a[1].type]){if(e=(_.find.ID(o.matches[0].replace(wt,_t),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=gt.needsContext.test(t)?0:a.length;r--&&(o=a[r],!_.relative[s=o.type]);)if((c=_.find[s])&&(i=c(o.matches[0].replace(wt,_t),yt.test(a[0].type)&&u(e.parentNode)||e))){if(a.splice(r,1),t=i.length&&f(a),!t)return K.apply(n,i),n;break}}return(l||C(t,d))(i,e,!I,n,yt.test(t)&&u(e.parentNode)||e),n},w.sortStable=j.split("").sort(V).join("")===j,w.detectDuplicates=!!D,L(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);J.find=rt,J.expr=rt.selectors,J.expr[":"]=J.expr.pseudos,J.unique=rt.uniqueSort,J.text=rt.getText,J.isXMLDoc=rt.isXML,J.contains=rt.contains;var at=J.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?J.find.matchesSelector(i,t)?[i]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;n>e;e++)if(J.contains(r[e],this))return!0}));for(e=0;n>e;e++)J.find(t,r[e],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&at.test(t)?J(t):t||[],!1).length}});var ct,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=J.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ct).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ot.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof ct.ready?ct.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))};ut.prototype=J.fn,ct=J(Q);var dt=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&J(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=at.test(t)||"string"!=typeof t?J(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?J.unique(a):a)},index:function(t){return t?"string"==typeof t?V.call(J(t),this[0]):V.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(n,i){var r=J.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=J.filter(i,r)),this.length>1&&(ft[t]||J.unique(r),dt.test(t)&&r.reverse()),this.pushStack(r)}});var ht=/\S+/g,gt={};J.Callbacks=function(t){t="string"==typeof t?gt[t]||a(t):J.extend({},t);var e,n,i,r,o,s,c=[],l=!t.once&&[],u=function(a){for(e=t.memory&&a,n=!0,s=r||0,r=0,o=c.length,i=!0;c&&o>s;s++)if(c[s].apply(a[0],a[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,c&&(l?l.length&&u(l.shift()):e?c=[]:d.disable())},d={add:function(){if(c){var n=c.length;!function a(e){J.each(e,function(e,n){var i=J.type(n);"function"===i?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),i?o=c.length:e&&(r=n,u(e))}return this},remove:function(){return c&&J.each(arguments,function(t,e){for(var n;(n=J.inArray(e,c,n))>-1;)c.splice(n,1),i&&(o>=n&&o--,s>=n&&s--)}),this},has:function(t){return t?J.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=l=e=void 0,this},disabled:function(){
return!c},lock:function(){return l=void 0,e||d.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(n){J.each(e,function(e,a){var o=J.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,i):i}},r={};return i.pipe=i.then,J.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=X.call(arguments),o=a.length,s=1!==o||t&&J.isFunction(t.promise)?o:0,c=1===s?t:J.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&J.isFunction(a[r].promise)?a[r].promise().done(l(r,i,a)).fail(c.reject).progress(l(r,n,e)):--s;return s||c.resolveWith(i,a),c.promise()}});var pt;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(t===!0?--J.readyWait:J.isReady)||(J.isReady=!0,t!==!0&&--J.readyWait>0||(pt.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(e){return pt||(pt=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1))),pt.promise(e)},J.ready.promise();var mt=J.access=function(t,e,n,i,r,a,o){var s=0,c=t.length,l=null==n;if("object"===J.type(n)){r=!0;for(s in n)J.access(t,e,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,J.isFunction(i)||(o=!0),l&&(o?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(J(t),n)})),e))for(;c>s;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):a};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),a=this.cache[r];if("string"==typeof e)a[e]=n;else if(J.isEmptyObject(a))J.extend(this.cache[r],e);else for(i in e)a[i]=e[i];return a},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,J.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=this.key(t),o=this.cache[a];if(void 0===e)this.cache[a]={};else{J.isArray(e)?i=e.concat(e.map(J.camelCase)):(r=J.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(ht)||[])),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,bt=new s,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;J.extend({hasData:function(t){return bt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return bt.access(t,e,n)},removeData:function(t,e){bt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),J.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=bt.get(a),1===a.nodeType&&!vt.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),c(a,i,r[i])));vt.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){bt.set(this,t)}):mt(this,function(e){var n,i=J.camelCase(t);if(a&&void 0===e){if(n=bt.get(a,t),void 0!==n)return n;if(n=bt.get(a,i),void 0!==n)return n;if(n=c(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=bt.get(this,i);bt.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){bt.remove(this,t)})}}),J.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=vt.get(t,e),n&&(!i||J.isArray(n)?i=vt.access(t,e,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),i=n.length,r=n.shift(),a=J._queueHooks(t,e),o=function(){J.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:J.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):void 0===e?this:this.each(function(){var n=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=J.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=vt.get(a[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var At="undefined";Z.focusinBubbles="onfocusin"in t;var Ct=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,i,r){var a,o,s,c,l,u,d,f,h,g,p,m=vt.get(t);if(m)for(n.handler&&(a=n,n=a.handler,r=a.selector),n.guid||(n.guid=J.guid++),(c=m.events)||(c=m.events={}),(o=m.handle)||(o=m.handle=function(e){return typeof J!==At&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(ht)||[""],l=e.length;l--;)s=Et.exec(e[l])||[],h=p=s[1],g=(s[2]||"").split(".").sort(),h&&(d=J.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=J.event.special[h]||{},u=J.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&J.expr.match.needsContext.test(r),namespace:g.join(".")},a),(f=c[h])||(f=c[h]=[],f.delegateCount=0,d.setup&&d.setup.call(t,i,g,o)!==!1||t.addEventListener&&t.addEventListener(h,o,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),J.event.global[h]=!0)},remove:function(t,e,n,i,r){var a,o,s,c,l,u,d,f,h,g,p,m=vt.hasData(t)&&vt.get(t);if(m&&(c=m.events)){for(e=(e||"").match(ht)||[""],l=e.length;l--;)if(s=Et.exec(e[l])||[],h=p=s[1],g=(s[2]||"").split(".").sort(),h){for(d=J.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!r&&p!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(t,u));o&&!f.length&&(d.teardown&&d.teardown.call(t,g,m.handle)!==!1||J.removeEvent(t,h,m.handle),delete c[h])}else for(h in c)J.event.remove(t,h+e[l],n,i,!0);J.isEmptyObject(c)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,n,i,r){var a,o,s,c,l,u,d,f=[i||Q],h=$.call(e,"type")?e.type:e,g=$.call(e,"namespace")?e.namespace.split("."):[];if(o=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Mt.test(h+J.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,e=e[J.expando]?e:new J.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:J.makeArray(n,[e]),d=J.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!J.isWindow(i)){for(c=d.delegateType||h,Mt.test(c+h)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(i.ownerDocument||Q)&&f.push(s.defaultView||s.parentWindow||t)}for(a=0;(o=f[a++])&&!e.isPropagationStopped();)e.type=a>1?c:d.bindType||h,u=(vt.get(o,"events")||{})[e.type]&&vt.get(o,"handle"),u&&u.apply(o,n),u=l&&o[l],u&&u.apply&&J.acceptData(o)&&(e.result=u.apply(o,n),e.result===!1&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!J.acceptData(i)||l&&J.isFunction(i[h])&&!J.isWindow(i)&&(s=i[l],s&&(i[l]=null),J.event.triggered=h,i[h](),J.event.triggered=void 0,s&&(i[l]=s)),e.result}},dispatch:function(t){t=J.event.fix(t);var e,n,i,r,a,o=[],s=X.call(arguments),c=(vt.get(this,"events")||{})[t.type]||[],l=J.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(o=J.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(a.namespace))&&(t.handleObj=a,t.data=a.data,i=((J.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)a=e[n],r=a.selector+" ",void 0===i[r]&&(i[r]=a.needsContext?J(r,this).index(c)>=0:J.find(r,this,null,[c]).length),i[r]&&i.push(a);i.length&&o.push({elem:c,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,i,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=St.test(r)?this.mouseHooks:Ct.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new J.Event(a),e=i.length;e--;)n=i[e],t[n]=a[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,e):J.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:u):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==i&&!J.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,e);r||i.addEventListener(t,n,!0),vt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,e)-1;r?vt.access(i,e,r):(i.removeEventListener(t,n,!0),vt.remove(i,e))}}}),J.fn.extend({on:function(t,e,n,i,r){var a,o;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(a=i,i=function(t){return J().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=J.guid++)),this.each(function(){J.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,J(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=u),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Ft=/<|&#?\w+;/,Pt=/<(?:script|style|link)/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,J.extend({clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),c=J.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(o=v(s),a=v(t),i=0,r=a.length;r>i;i++)b(a[i],o[i]);if(e)if(n)for(a=a||v(t),o=o||v(s),i=0,r=a.length;r>i;i++)m(a[i],o[i]);else m(t,s);return o=v(s,"script"),o.length>0&&p(o,!c&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,a,o,s,c,l,u=e.createDocumentFragment(),d=[],f=0,h=t.length;h>f;f++)if(r=t[f],r||0===r)if("object"===J.type(r))J.merge(d,r.nodeType?[r]:r);else if(Ft.test(r)){for(a=a||u.appendChild(e.createElement("div")),o=(Lt.exec(r)||["",""])[1].toLowerCase(),s=zt[o]||zt._default,a.innerHTML=s[1]+r.replace(Dt,"<$1></$2>")+s[2],l=s[0];l--;)a=a.lastChild;J.merge(d,a.childNodes),a=u.firstChild,a.textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",f=0;r=d[f++];)if((!i||-1===J.inArray(r,i))&&(c=J.contains(r.ownerDocument,r),a=v(u.appendChild(r),"script"),c&&p(a),n))for(l=0;r=a[l++];)Nt.test(r.type||"")&&n.push(r);return u},cleanData:function(t){for(var e,n,i,r,a=J.event.special,o=0;void 0!==(n=t[o]);o++){if(J.acceptData(n)&&(r=n[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(i in e.events)a[i]?J.event.remove(n,i):J.removeEvent(n,i,e.handle);vt.cache[r]&&delete vt.cache[r]}delete bt.cache[n[bt.expando]]}}}),J.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?J.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&p(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!zt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(J.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,i,r,a,o,s,c=0,l=this.length,u=this,d=l-1,f=t[0],p=J.isFunction(f);if(p||l>1&&"string"==typeof f&&!Z.checkClone&&It.test(f))return this.each(function(n){var i=u.eq(n);p&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=J.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=J.map(v(n,"script"),h),a=r.length;l>c;c++)o=n,c!==d&&(o=J.clone(o,!0,!0),a&&J.merge(r,v(o,"script"))),e.call(this[c],o,c);if(a)for(s=r[r.length-1].ownerDocument,J.map(r,g),c=0;a>c;c++)o=r[c],Nt.test(o.type||"")&&!vt.access(o,"globalEval")&&J.contains(s,o)&&(o.src?J._evalUrl&&J._evalUrl(o.src):J.globalEval(o.textContent.replace(Rt,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var n,i=[],r=J(t),a=r.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),J(r[o])[e](n),Y.apply(i,n.get());return this.pushStack(i)}});var jt,qt={},Ht=/^margin/,Bt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Xt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(a);var e=t.getComputedStyle(o,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(a)}var n,i,r=Q.documentElement,a=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(o),t.getComputedStyle&&J.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=o.appendChild(Q.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(a),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(a),o.removeChild(n),e}}))}(),J.swap=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];r=n.apply(t,i||[]);for(a in e)t.style[a]=o[a];return r};var Wt=/^(none|table(?!-c[ea]).+)/,Yt=new RegExp("^("+wt+")(.*)$","i"),Vt=new RegExp("^([+-])=("+wt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},$t=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=J.camelCase(e),c=t.style;return e=J.cssProps[s]||(J.cssProps[s]=k(c,s)),o=J.cssHooks[e]||J.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:c[e]:(a=typeof n,"string"===a&&(r=Vt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(J.css(t,e)),a="number"),null!=n&&n===n&&("number"!==a||J.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(c[e]=n)),void 0)}},css:function(t,e,n,i){var r,a,o,s=J.camelCase(e);return e=J.cssProps[s]||(J.cssProps[s]=k(t.style,s)),o=J.cssHooks[e]||J.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=w(t,e,i)),"normal"===r&&e in Gt&&(r=Gt[e]),""===n||n?(a=parseFloat(r),n===!0||J.isNumeric(a)?a||0:r):r}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,n,i){return n?Wt.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Ut,function(){return C(t,e,i)}):C(t,e,i):void 0},set:function(t,n,i){var r=i&&Xt(t);return T(t,n,i?A(t,e,i,"border-box"===J.css(t,"boxSizing",!1,r),r):0)}}}),J.cssHooks.marginRight=_(Z.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+_t[i]+e]=a[i]||a[i-2]||a[0];return r}},Ht.test(t)||(J.cssHooks[t+e].set=T)}),J.fn.extend({css:function(t,e){return mt(this,function(t,e,n){var i,r,a={},o=0;if(J.isArray(e)){for(i=Xt(t),r=e.length;r>o;o++)a[e[o]]=J.css(t,e[o],!1,i);return a}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?J(this).show():J(this).hide()})}}),J.Tween=M,M.prototype={constructor:M,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(J.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.pos=e=this.options.duration?J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=M.prototype.init,J.fx.step={};var Zt,Qt,Kt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[F],ne={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Jt.exec(e),a=r&&r[3]||(J.cssNumber[t]?"":"px"),o=(J.cssNumber[t]||"px"!==a&&+i)&&Jt.exec(J.css(n.elem,t)),s=1,c=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+i||1;do s=s||".5",o/=s,J.style(n.elem,t,o+a);while(s!==(s=n.cur()/i)&&1!==s&&--c)}return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};J.Animation=J.extend(I,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),J.speed=function(t,e,n){var i=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=J.isEmptyObject(t),a=J.speed(e,n,i),o=function(){var e=I(this,J.extend({},t),a);(r||vt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=J.timers,o=vt.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&te.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));(e||!n)&&J.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=J.timers,o=i?i.length:0;for(n.finish=!0,J.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(t,e){var n=J.fn[e];J.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(D(e,!0),t,i,r)}}),J.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Zt=J.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Zt=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Qt||(Qt=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Qt),Qt=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var ie,re,ae=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return mt(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===At?J.prop(t,e,n):(1===a&&J.isXMLDoc(t)||(e=e.toLowerCase(),i=J.attrHooks[e]||(J.expr.match.bool.test(e)?re:ie)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=J.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(ht);if(a&&1===t.nodeType)for(;n=a[r++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),re={set:function(t,e,n){return e===!1?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ae[e]||J.find.attr;ae[e]=function(t,e,i){var r,a;return i||(a=ae[e],ae[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ae[e]=a),r}});var oe=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return mt(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return a=1!==o||!J.isXMLDoc(t),a&&(e=J.propFix[e]||e,r=J.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||oe.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,i,r,a,o,s="string"==typeof t&&t,c=0,l=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=J.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(t){var e,n,i,r,a,o,s=0===arguments.length||"string"==typeof t&&t,c=0,l=this.length;if(J.isFunction(t))return this.each(function(e){
J(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=t?J.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(J.isFunction(t)?function(n){J(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=J(this),a=t.match(ht)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===At||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var ce=/\r/g;J.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=J.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,J(this).val()):t,null==r?r="":"number"==typeof r?r+="":J.isArray(r)&&(r=J.map(r,function(t){return null==t?"":t+""})),e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=J.valHooks[r.type]||J.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ce,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||0>r,o=a?null:[],s=a?r+1:i.length,c=0>r?s:a?r:0;s>c;c++)if(n=i[c],!(!n.selected&&c!==r||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=J.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=J.inArray(i.value,a)>=0)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}},Z.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var le=J.now(),ue=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var de=/#.*$/,fe=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/gm,ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pe=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,be={},ye={},xe="*/".concat("*"),we=t.location.href,_e=ve.exec(we.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:ge.test(_e[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,J.ajaxSettings),e):R(J.ajaxSettings,t)},ajaxPrefilter:N(be),ajaxTransport:N(ye),ajax:function(t,e){function n(t,e,n,o){var c,u,v,b,x,_=e;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,a=o||"",w.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(b=z(d,w,n)),b=j(d,b,w,c),c?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(J.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(J.etag[r]=x)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=b.state,u=b.data,v=b.error,c=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",c?g.resolveWith(f,[u,_,w]):g.rejectWith(f,[w,_,v]),w.statusCode(m),m=void 0,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[w,d,c?u:v]),p.fireWith(f,[w,_]),l&&(h.trigger("ajaxComplete",[w,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,o,s,c,l,u,d=J.ajaxSetup({},e),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?J(f):J.event,g=J.Deferred(),p=J.Callbacks("once memory"),m=d.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!o)for(o={};e=he.exec(a);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),n(0,e),this}};if(g.promise(w).complete=p.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||we)+"").replace(de,"").replace(me,_e[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(ht)||[""],null==d.crossDomain&&(c=ve.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===_e[1]&&c[2]===_e[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(_e[3]||("http:"===_e[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),O(be,d,e,w),2===y)return w;l=J.event&&d.global,l&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pe.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ue.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=fe.test(r)?r.replace(fe,"$1_="+le++):r+(ue.test(r)?"&":"?")+"_="+le++)),d.ifModified&&(J.lastModified[r]&&w.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&w.setRequestHeader("If-None-Match",J.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xe+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===y))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](d[u]);if(i=O(ye,d,e,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,i.send(v,n)}catch(_){if(!(2>y))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,n,i,r){return J.isFunction(n)&&(r=r||i,i=n,n=void 0),J.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))}:function(){var e=J(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(n){J(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var ke=/%20/g,Te=/\[\]$/,Ae=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,i=[],r=function(t,e){e=J.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){r(this.name,this.value)});else for(n in t)q(n,t[n],e,r);return i.join("&").replace(ke,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&Se.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Me=0,Ee={},De={0:200,1223:204},Le=J.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ee)Ee[t]()}),Z.cors=!!Le&&"withCredentials"in Le,Z.ajax=Le=!!Le,J.ajaxTransport(function(t){var e;return Z.cors||Le&&!t.crossDomain?{send:function(n,i){var r,a=t.xhr(),o=++Me;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Ee[o],e=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status,a.statusText):i(De[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=e(),a.onerror=e("error"),e=Ee[o]=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Fe=[],Pe=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fe.pop()||J.expando+"_"+le++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,n,i){var r,a,o,s=e.jsonp!==!1&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pe,"$1"+r):e.jsonp!==!1&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||J.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=t[r],t[r]=function(){o=arguments},i.always(function(){t[r]=a,e[r]&&(e.jsonpCallback=n.jsonpCallback,Fe.push(r)),o&&J.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=ot.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=J.buildFragment([t],e,r),r&&r.length&&J(r).remove(),J.merge([],i.childNodes))};var Ie=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>=0&&(i=J.trim(t.slice(s)),t=t.slice(0,s)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&J.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?J("<div>").append(J.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,a||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Ne=t.document.documentElement;J.offset={setOffset:function(t,e,n){var i,r,a,o,s,c,l,u=J.css(t,"position"),d=J(t),f={};"static"===u&&(t.style.position="relative"),s=d.offset(),a=J.css(t,"top"),c=J.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(a+c).indexOf("auto")>-1,l?(i=d.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(c)||0),J.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+o),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):d.css(f)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;if(a)return e=a.documentElement,J.contains(e,i)?(typeof i.getBoundingClientRect!==At&&(r=i.getBoundingClientRect()),n=H(a),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(i=t.offset()),i.top+=J.css(t[0],"borderTopWidth",!0),i.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-J.css(n,"marginTop",!0),left:e.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ne;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||Ne})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;J.fn[e]=function(r){return mt(this,function(e,r,a){var o=H(e);return void 0===a?o?o[n]:e[r]:void(o?o.scrollTo(i?t.pageXOffset:a,i?a:t.pageYOffset):e[r]=a)},e,r,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=_(Z.pixelPosition,function(t,n){return n?(n=w(t,e),Bt.test(n)?J(t).position()[e]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){J.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return mt(this,function(e,n,i){var r;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?J.css(e,n,o):J.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Oe=t.jQuery,Re=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=Re),e&&t.jQuery===J&&(t.jQuery=Oe),J},typeof e===At&&(t.jQuery=t.$=J),J}),function(t){t.fn.fitText=function(e,n){var i=e||1,r=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var e=t(this),n=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*i),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize)))};n(),t(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),function(t){var e={},n={};e.render=function(t,e){var n,i={};if("object"==typeof t)return"rgb"===e&&(n=["R","G","B","RGB"]),"hsv"===e&&(n=["H","S","V","HSV"]),"hsl"===e&&(n=["H","S","L","HSL"]),i[n[0]]=t[0],i[n[1]]=t[1],i[n[2]]=t[2],i[n[3]]=t[0]+" "+t[1]+" "+t[2],i.a=t,i},e.paddedHex=function(t){var e=(10>t?"0":"")+t.toString(16);return 1===e.length?"0"+e:e},Number.prototype.round=function(t){return t=t||10,parseFloat(this.toFixed(t))},n.rgb2hex=function(t,n,i){return t=e.paddedHex(t),n=void 0!==n?e.paddedHex(n):t,i=void 0!==i?e.paddedHex(i):t,"#"+t+n+i},n.hex2rgb=function(t){return t=t.replace("#",""),6===t.length?e.render([parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)],"rgb"):parseInt(t,16)},n.hex2hsv=function(t){t="#"==t.charAt(0)?t.substring(1,7):t;var n,i,r,a=parseInt(t.substring(0,2),16)/255,o=parseInt(t.substring(2,4),16)/255,s=parseInt(t.substring(4,6),16)/255,c={h:0,s:0,v:0},l=Math.min(a,o,s),u=Math.max(a,o,s),d=u-l;return c.v=u,0===d?(c.h=0,c.s=0):(c.s=d/u,n=((u-a)/6+d/2)/d,i=((u-o)/6+d/2)/d,r=((u-s)/6+d/2)/d,a==u?c.h=r-i:o==u?c.h=1/3+n-r:s==u&&(c.h=2/3+i-n),c.h<0&&(c.h+=1),c.h>1&&(c.h-=1)),e.render([Math.round(360*c.h),Math.round(100*c.s),Math.round(100*c.v)],"hsv")},n.hsv2rgb=function(t,n,i){var r,a,o,s,c,l,u,d,f=[];switch("object"==typeof t?(r=t[0],a=t[1],o=t[2]):(r=t,a=n,o=i),a/=100,o/=100,s=Math.floor(r/60%6),c=r/60-s,l=o*(1-a),u=o*(1-c*a),d=o*(1-(1-c)*a),s){case 0:f=[o,d,l];break;case 1:f=[u,o,l];break;case 2:f=[l,o,d];break;case 3:f=[l,u,o];break;case 4:f=[d,l,o];break;case 5:f=[o,l,u]}return e.render([Math.min(255,Math.floor(256*f[0])),Math.min(255,Math.floor(256*f[1])),Math.min(255,Math.floor(256*f[2]))],"rgb")},n.rgb2hsl=function(t,n,i){var r,a,o,s,c,l,u,d,f;if("object"==typeof t?(r=t[0],a=t[1],o=t[2]):(r=t,a=n,o=i),r/=255,a/=255,o/=255,c=Math.max(r,a,o),s=Math.min(r,a,o),d=(c+s)/2,c==s)l=u=0;else{switch(f=c-s,u=d>.5?f/(2-c-s):f/(c+s),c){case r:l=(a-o)/f+(o>a?6:0);break;case a:l=(o-r)/f+2;break;case o:l=(r-a)/f+4}l/=6}return e.render([Math.floor(360*l),(100*u).round(1),(100*d).round(1)],"hsl")},n.hsv2hsl=function(t,n,i){var r,a,o,s,c,l,u,d,f,h,g,p;return"object"==typeof t?(r=t[0],a=t[1],o=t[2]):(r=t,a=n,o=i),u=this.hsv2rgb(r,a,o),d=u.R/255,f=u.G/255,h=u.B/255,g=Math.max(d,f,h),p=Math.min(d,f,h),l=(g+p)/2,c=0,s=0,g!=p&&(n=.5>l?(g-p)/(g+p):(g-p)/(2-g-p),t=d==g?(f-h)/(g-p):f==g?2+(h-d)/(g-p):4+(d-f)/(g-p)),l=100*l,c=100*c,s=60*s,0>s&&(s+=360),e.render([Math.floor(t),Math.floor(n),Math.floor(i)],"hsl")},n.name2hex=function(t){t=t.toLowerCase();var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n=e[t];return void 0===n?"Invalid Color Name":n},n.name2rgb=function(t){var n=this.name2hex(t),i=/^[a-fA-F0-9#]{7}$/,r="Invalid Color Name";return i.test(n)?this.hex2rgb(n):e.render([r,r,r],"rgb")},n.name2hsv=function(t){var n=this.name2hex(t),i=/^[a-fA-F0-9#]{7}$/,r="Invalid Color Name";return i.test(n)?this.hex2hsv(n):e.render([r,r,r],"hsv")},n.complement=function(t,n,i){var r,a;return"string"==typeof t&&/(#([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?)/.test(t)?(t=t.replace("#",""),a="#",6===t.length&&(a+=e.paddedHex(255-this.hex2rgb(t.substr(0,2))),a+=e.paddedHex(255-this.hex2rgb(t.substr(2,2))),a+=e.paddedHex(255-this.hex2rgb(t.substr(4,2)))),3===t.length&&(a+=e.paddedHex(255-this.hex2rgb(t.substr(0,1)+t.substr(0,1))),a+=e.paddedHex(255-this.hex2rgb(t.substr(1,1)+t.substr(1,1))),a+=e.paddedHex(255-this.hex2rgb(t.substr(2,1)+t.substr(2,1)))),a):(void 0!==t&&void 0!==n&&void 0!==i&&(r=[255-t,255-n,255-i]),"object"==typeof t&&(r=[255-t[0],255-t[1],255-t[2]]),e.render(r,"rgb"))},n.rand=function(t){var n,i,r;if("hex"===t||void 0===t){var a,o,s="0123456789abcdef",c=6,l="";for(o=0;c>o;o++)a=Math.floor(Math.random()*s.length),l+=s.substring(a,a+1);return"#"+l}return"rgb"==t?(n=Math.floor(-254*Math.random()+255),i=Math.floor(-254*Math.random()+255),r=Math.floor(-254*Math.random()+255),e.render([n,i,r],"rgb")):void 0},t.Colors=t.$c=n}(window),function(t,e,n,i){t.site=t.fn.site=function(r){var a,o,s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=t.isPlainObject(r)?t.extend(!0,{},t.site.settings,r):t.extend({},t.site.settings),h=f.namespace,g=f.error,p="module-"+h,m=t(n),v=m,b=this,y=v.data(p);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),y=a,v.data(p,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),(console===i||console.log===i)&&(a.verbose("Console not available, normalizing events"),a.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(a.verbose("Console group not available, normalizing events"),e.console.group=function(){},e.console.groupEnd=function(){},e.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),e.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),e.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),e.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normailizing event"),e.requestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)})}},moduleExists:function(e){return t.fn[e]!==i&&t.fn[e].settings!==i},enabled:{modules:function(e){var n=[];return e=e||f.modules,t.each(e,function(t,e){a.moduleExists(e)&&n.push(e)}),n}},disabled:{modules:function(e){var n=[];return e=e||f.modules,t.each(e,function(t,e){a.moduleExists(e)||n.push(e)}),n}},change:{setting:function(e,n,r,o){r="string"==typeof r?"all"===r?f.modules:[r]:r||f.modules,o=o!==i?o:!0,t.each(r,function(i,r){var s,c=a.moduleExists(r)?t.fn[r].settings.namespace||!1:!0;a.moduleExists(r)&&(a.verbose("Changing default setting",e,n,r),t.fn[r].settings[e]=n,o&&c&&(s=t(":data(module-"+c+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[r]("setting",e,n))))})},settings:function(e,n,r){n="string"==typeof n?[n]:n||f.modules,r=r!==i?r:!0,t.each(n,function(n,i){var o;a.moduleExists(i)&&(a.verbose("Changing default setting",e,i),t.extend(!0,t.fn[i].settings,e),r&&h&&(o=t(":data(module-"+h+")"),o.length>0&&(a.verbose("Modifying existing settings",o),o[i]("setting",e))))})}},enable:{console:function(){a.console(!0)},debug:function(t,e){t=t||f.modules,a.debug("Enabling debug for modules",t),a.change.setting("debug",!0,t,e)},verbose:function(t,e){t=t||f.modules,a.debug("Enabling verbose debug for modules",t),a.change.setting("verbose",!0,t,e)}},disable:{console:function(){a.console(!1)},debug:function(t,e){t=t||f.modules,a.debug("Disabling debug for modules",t),a.change.setting("debug",!1,t,e)},verbose:function(t,e){t=t||f.modules,a.debug("Disabling verbose debug for modules",t),a.change.setting("verbose",!1,t,e)}},console:function(t){if(t){if(y.cache.console===i)return void a.error(g.console);a.debug("Restoring console function"),e.console=y.cache.console}else a.debug("Disabling console function"),y.cache.console=e.console,e.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",v),v.removeData(p)},cache:{},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,a,e);else{if(n===i)return a[e];a[e]=n}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;f.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Element:b,Name:t[0],Arguments:[].slice.call(t,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var e=f.name+":",n=0;s=!1,clearTimeout(a.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,r){var s,c,l,u=y;return n=n||d,r=b||r,"string"==typeof e&&u!==i&&(e=e.split(/[\. ]/),s=e.length-1,t.each(e,function(n,r){var o=n!=s?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(u[o])&&n!=s)u=u[o];else{if(u[o]!==i)return c=u[o],!1;if(!t.isPlainObject(u[r])||n==s)return u[r]!==i?(c=u[r],!1):(a.error(g.method,e),!1);u=u[r]}})),t.isFunction(c)?l=c.apply(r,n):c!==i&&(l=c),t.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(y===i&&a.initialize(),a.invoke(l)):(y!==i&&a.destroy(),a.initialize()),o!==i?o:this},t.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.form=function(e,r){var a,o=t(this),s=t.extend(!0,{},t.fn.form.settings,r),c=t.extend({},t.fn.form.settings.defaults,e),l=s.namespace,u=s.metadata,d=s.selector,f=s.className,h=(s.error,"."+l),g="module-"+l,p=o.selector||"",m=(new Date).getTime(),v=[],b=arguments[0],y="string"==typeof b,x=[].slice.call(arguments,1);return o.each(function(){var e,r=t(this),l=t(this).find(d.field),w=t(this).find(d.group),_=t(this).find(d.message),k=(t(this).find(d.prompt),t(this).find(d.submit)),T=t(this).find(d.clear),A=t(this).find(d.reset),C=[],S=!1,M=this,E=r.data(g);e={initialize:function(){e.verbose("Initializing form validation",r,c,s),e.bindEvents(),e.set.defaults(),e.instantiate()},instantiate:function(){e.verbose("Storing instance of module",e),E=e,r.data(g,e)},destroy:function(){e.verbose("Destroying previous module",E),e.removeEvents(),r.removeData(g)},refresh:function(){e.verbose("Refreshing selector cache"),l=r.find(d.field)},submit:function(){e.verbose("Submitting form",r),r.submit()},attachEvents:function(n,i){i=i||"submit",t(n).on("click",function(t){e[i](),t.preventDefault()})},bindEvents:function(){s.keyboardShortcuts&&l.on("keydown"+h,e.event.field.keydown),r.on("submit"+h,e.validate.form),l.on("blur"+h,e.event.field.blur),e.attachEvents(k,"submit"),e.attachEvents(A,"reset"),e.attachEvents(T,"clear"),l.each(function(){var n=t(this).prop("type"),i=e.get.changeEvent(n);t(this).on(i+h,e.event.field.change)})},clear:function(){l.each(function(){var n=t(this),i=n.parent(),r=n.closest(w),a=r.find(d.prompt),o=n.data(u.defaultValue)||"",s=i.is(d.uiCheckbox),c=i.is(d.uiDropdown),l=r.hasClass(f.error);l&&(e.verbose("Resetting error on field",r),r.removeClass(f.error),a.remove()),c?(e.verbose("Resetting dropdown value",i,o),i.dropdown("clear")):s?i.checkbox("uncheck"):(e.verbose("Resetting field value",n,o),n.val(""))})},reset:function(){l.each(function(){var n=t(this),i=n.parent(),r=n.closest(w),a=r.find(d.prompt),o=n.data(u.defaultValue)||"",s=i.is(d.uiCheckbox),c=i.is(d.uiDropdown),l=r.hasClass(f.error);l&&(e.verbose("Resetting error on field",r),r.removeClass(f.error),a.remove()),c?(e.verbose("Resetting dropdown value",i,o),i.dropdown("restore defaults")):s?(e.verbose("Resetting checkbox value",i,o),i.checkbox(o===!0?"check":"uncheck")):(e.verbose("Resetting field value",n,o),n.val(o))})},removeEvents:function(){r.off(h),l.off(h),k.off(h),l.off(h)},event:{field:{keydown:function(n){var i=t(this),r=n.which,a={enter:13,escape:27};r==a.escape&&(e.verbose("Escape key pressed blurring field"),i.blur()),!n.ctrlKey&&r==a.enter&&i.is(d.input)&&i.not(d.checkbox).length>0&&(k.addClass(f.pressed),
S||(i.one("keyup"+h,e.event.field.keyup),e.submit(),e.debug("Enter pressed on input submitting form")),S=!0)},keyup:function(){S=!1,k.removeClass(f.pressed)},blur:function(){var n=t(this),i=n.closest(w);i.hasClass(f.error)?(e.debug("Revalidating field",n,e.get.validation(n)),e.validate.field(e.get.validation(n))):("blur"==s.on||"change"==s.on)&&e.validate.field(e.get.validation(n))},change:function(){var n=t(this),i=n.closest(w);("change"==s.on||i.hasClass(f.error)&&s.revalidate)&&(clearTimeout(e.timer),e.timer=setTimeout(function(){e.debug("Revalidating field",n,e.get.validation(n)),e.validate.field(e.get.validation(n))},s.delay))}}},get:{changeEvent:function(t){return"checkbox"==t||"radio"==t||"hidden"==t?"change":e.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(n){return e.verbose("Finding field with identifier",n),l.filter("#"+n).length>0?l.filter("#"+n):l.filter('[name="'+n+'"]').length>0?l.filter('[name="'+n+'"]'):l.filter('[name="'+n+'[]"]').length>0?l.filter('[name="'+n+'[]"]'):l.filter("[data-"+u.validate+'="'+n+'"]').length>0?l.filter("[data-"+u.validate+'="'+n+'"]'):t("<input/>")},fields:function(n){var i=t();return t.each(n,function(t,n){i=i.add(e.get.field(n))}),i},validation:function(n){var i;return t.each(c,function(t,r){e.get.field(r.identifier).get(0)==n.get(0)&&(i=r)}),i||!1},value:function(t){var n,i=[];return i.push(t),n=e.get.values.call(M,i),n[t]},values:function(n){var i=t.isArray(n)?e.get.fields(n):l,r={};return i.each(function(n,i){var a=t(i),o=(a.prop("type"),a.prop("name")),s=a.val(),c=a.is(d.checkbox),l=a.is(d.radio),u=-1!==o.indexOf("[]"),f=c?a.is(":checked"):!1;if(o)if(u)if(o=o.replace("[]",""),r[o]||(r[o]=[]),c){if(!f)return e.debug("Omitted unchecked checkbox",a),!0;r[o].push(s)}else r[o].push(s);else if(l)f&&(r[o]=s);else if(c){if(!f)return e.debug("Omitted unchecked checkbox",a),!0;r[o]=!0}else r[o]=s}),r}},has:{field:function(t){return e.verbose("Checking for existence of a field with identifier",t),l.filter("#"+t).length>0?!0:l.filter('[name="'+t+'"]').length>0?!0:l.filter("[data-"+u.validate+'="'+t+'"]').length>0?!0:!1}},add:{prompt:function(n,a){var o=e.get.field(n),c=o.closest(w),l=c.children(d.prompt),u=0!==l.length;a="string"==typeof a?[a]:a,e.verbose("Adding field error state",n),c.addClass(f.error),s.inline&&(u||(l=s.templates.prompt(a),l.appendTo(c)),l.html(a[0]),u?e.verbose("Inline errors are disabled, no inline error added",n):s.transition&&t.fn.transition!==i&&r.transition("is supported")?(e.verbose("Displaying error with css transition",s.transition),l.transition(s.transition+" in",s.duration)):(e.verbose("Displaying error with fallback javascript animation"),l.fadeIn(s.duration)))},errors:function(t){e.debug("Adding form error messages",t),_.html(s.templates.error(t))}},remove:{prompt:function(n){var a=e.get.field(n.identifier),o=a.closest(w),c=o.children(d.prompt);o.removeClass(f.error),s.inline&&c.is(":visible")&&(e.verbose("Removing prompt for field",n),s.transition&&t.fn.transition!==i&&r.transition("is supported")?c.transition(s.transition+" out",s.duration,function(){c.remove()}):c.fadeOut(s.duration,function(){c.remove()}))}},set:{success:function(){r.removeClass(f.error).addClass(f.success)},defaults:function(){l.each(function(){var e=t(this),n=e.filter(d.checkbox).length>0,i=n?e.is(":checked"):e.val();e.data(u.defaultValue,i)})},error:function(){r.removeClass(f.success).addClass(f.error)},value:function(t,n){var i={};return i[t]=n,e.set.values.call(M,i)},values:function(n){t.isEmptyObject(n)||(t.each(n,function(n,i){var r,a=e.get.field(n),o=a.parent(),s=t.isArray(i),c=o.is(d.uiCheckbox),l=o.is(d.uiDropdown),u=a.is(d.radio)&&c,f=a.length>0;f&&(s&&c?(e.verbose("Selecting multiple",i,a),o.checkbox("uncheck"),t.each(i,function(t,e){r=a.filter('[value="'+e+'"]'),o=r.parent(),r.length>0&&o.checkbox("check")})):u?(e.verbose("Selecting radio value",i,a),a.filter('[value="'+i+'"]').parent(d.uiCheckbox).checkbox("check")):c?(e.verbose("Setting checkbox value",i,o),o.checkbox(i===!0?"check":"uncheck")):l?(e.verbose("Setting dropdown value",i,o),o.dropdown("set selected",i)):(e.verbose("Setting field value",i,a),a.val(i)))}),e.validate.form())}},validate:{form:function(n){var a=!0;return S?!1:(C=[],t.each(c,function(t,n){e.validate.field(n)||(a=!1)}),a?(e.debug("Form has no validation errors, submitting"),e.set.success(),s.onSuccess.call(M,n)):(e.debug("Form has errors"),e.set.error(),s.inline||e.add.errors(C),r.data("moduleApi")!==i&&n.stopImmediatePropagation(),s.onFailure.call(M,C)))},field:function(n){var r=e.get.field(n.identifier),a=!0,o=[];return r.prop("disabled")?(e.debug("Field is disabled. Skipping",n.identifier),a=!0):n.optional&&""===t.trim(r.val())?(e.debug("Field is optional and empty. Skipping",n.identifier),a=!0):n.rules!==i&&t.each(n.rules,function(t,i){e.has.field(n.identifier)&&!e.validate.rule(n,i)&&(e.debug("Field is invalid",n.identifier,i.type),o.push(i.prompt),a=!1)}),a?(e.remove.prompt(n,o),s.onValid.call(r),!0):(C=C.concat(o),e.add.prompt(n.identifier,o),s.onInvalid.call(r,o),!1)},rule:function(n,r){var a,o,c=e.get.field(n.identifier),l=r.type,u=t.trim(c.val()+""),d=/\[(.*)\]/i,f=d.exec(l),h=!0;return f!==i&&null!==f?(a=""+f[1],o=l.replace(f[0],""),h=s.rules[o].call(M,u,a)):h=s.rules[l].call(c,u),h}},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,s,e);else{if(n===i)return s[e];s[e]=n}},internal:function(n,r){if(t.isPlainObject(n))t.extend(!0,e,n);else{if(r===i)return e[n];e[n]=r}},debug:function(){s.debug&&(s.performance?e.performance.log(arguments):(e.debug=Function.prototype.bind.call(console.info,console,s.name+":"),e.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?e.performance.log(arguments):(e.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),e.verbose.apply(console,arguments)))},error:function(){e.error=Function.prototype.bind.call(console.error,console,s.name+":"),e.error.apply(console,arguments)},performance:{log:function(t){var n,i,r;s.performance&&(n=(new Date).getTime(),r=m||n,i=n-r,m=n,v.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:M,"Execution Time":i})),clearTimeout(e.performance.timer),e.performance.timer=setTimeout(e.performance.display,100)},display:function(){var n=s.name+":",r=0;m=!1,clearTimeout(e.performance.timer),t.each(v,function(t,e){r+=e["Execution Time"]}),n+=" "+r+"ms",p&&(n+=" '"+p+"'"),o.length>1&&(n+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&v.length>0&&(console.groupCollapsed(n),console.table?console.table(v):t.each(v,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(e,n,r){var o,s,c,l=E;return n=n||x,r=M||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},y?(E===i&&e.initialize(),e.invoke(b)):(E!==i&&E.invoke("destroy"),e.initialize())}),a!==i?a:this},t.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:".reset",submit:".submit",uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{method:"The method you called is not defined."},templates:{error:function(e){var n='<ul class="list">';return t.each(e,function(t,e){n+="<li>"+e+"</li>"}),n+="</ul>",t(n)},prompt:function(e){return t("<div/>").addClass("ui red pointing prompt label").html(e[0])}},rules:{checked:function(){return t(this).filter(":checked").length>0},contains:function(t,e){return e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==t.search(new RegExp(e,"i"))},containsExactly:function(t,e){return e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==t.search(new RegExp(e))},email:function(t){var e=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return e.test(t)},empty:function(t){return!(t===i||""===t)},integer:function(t,e){var n,r,a,o=/^\-?\d+$/;return e===i||""===e||".."===e||(-1==e.indexOf("..")?o.test(e)&&(n=r=e-0):(a=e.split("..",2),o.test(a[0])&&(n=a[0]-0),o.test(a[1])&&(r=a[1]-0))),o.test(t)&&(n===i||t>=n)&&(r===i||r>=t)},is:function(t,e){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,t==e},isExactly:function(t,e){return t==e},length:function(t,e){return t!==i?t.length>=e:!1},match:function(e,n){var r,a=t(this);return a.find("#"+n).length>0?r=a.find("#"+n).val():a.find('[name="'+n+'"]').length>0?r=a.find('[name="'+n+'"]').val():a.find('[data-validate="'+n+'"]').length>0&&(r=a.find('[data-validate="'+n+'"]').val()),r!==i?e.toString()==r.toString():!1},maxLength:function(t,e){return t!==i?t.length<=e:!1},not:function(t,e){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,t!=e},notExactly:function(t,e){return t!=e},url:function(t){var e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(t)}}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.accordion=function(n){{var r,a=t(this),o=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)}}return a.each(function(){var d,f,h=t.isPlainObject(n)?t.extend(!0,{},t.fn.accordion.settings,n):t.extend({},t.fn.accordion.settings),g=h.className,p=h.namespace,m=h.selector,v=h.error,b="."+p,y="module-"+p,x=a.selector||"",w=t(this),_=w.find(m.title),k=w.find(m.content),T=this,A=w.data(y);f={initialize:function(){f.debug("Initializing",w),f.bind.events(),f.observeChanges(),f.instantiate()},instantiate:function(){A=f,w.data(y,f)},destroy:function(){f.debug("Destroying previous instance",w),w.off(b).removeData(y)},refresh:function(){_=w.find(m.title),k=w.find(m.content)},observeChanges:function(){"MutationObserver"in e&&(d=new MutationObserver(function(t){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),d.observe(T,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",d))},bind:{events:function(){f.debug("Binding delegated events"),w.on("click"+b,m.trigger,f.event.click)}},event:{click:function(){f.toggle.call(this)}},toggle:function(e){var n=e!==i?"number"==typeof e?_.eq(e):t(e).closest(m.title):t(this).closest(m.title),r=n.next(k),a=r.hasClass(g.animating),o=r.hasClass(g.active),s=o&&!a,c=!o&&a;f.debug("Toggling visibility of content",n),s||c?h.collapsible?f.close.call(n):f.debug("Cannot close accordion content collapsing is disabled"):f.open.call(n)},open:function(e){var n=e!==i?"number"==typeof e?_.eq(e):t(e).closest(m.title):t(this).closest(m.title),r=n.next(k),a=r.hasClass(g.animating),o=r.hasClass(g.active),s=!o&&!a;s&&(f.debug("Opening accordion content",n),h.exclusive&&f.closeOthers.call(n),n.addClass(g.active),r.addClass(g.animating),h.animateChildren&&(t.fn.transition!==i&&w.transition("is supported")?r.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):r.children().stop(!0).animate({opacity:1},h.duration,f.resetOpacity)),r.stop(!0).slideDown(h.duration,h.easing,function(){r.removeClass(g.animating).addClass(g.active),f.reset.display.call(this),h.onOpen.call(this),h.onChange.call(this)}))},close:function(e){var n=e!==i?"number"==typeof e?_.eq(e):t(e).closest(m.title):t(this).closest(m.title),r=n.next(k),a=r.hasClass(g.animating),o=r.hasClass(g.active),s=!o&&a,c=o&&a;!o&&!s||c||(f.debug("Closing accordion content",r),n.removeClass(g.active),r.addClass(g.animating),h.animateChildren&&(t.fn.transition!==i&&w.transition("is supported")?r.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):r.children().stop(!0).animate({opacity:0},h.duration,f.resetOpacity)),r.stop(!0).slideUp(h.duration,h.easing,function(){r.removeClass(g.animating).removeClass(g.active),f.reset.display.call(this),h.onClose.call(this),h.onChange.call(this)}))},closeOthers:function(e){var n,r,a,o=e!==i?_.eq(e):t(this).closest(m.title),s=o.parents(m.content).prev(m.title),c=o.closest(m.accordion),l=m.title+"."+g.active+":visible",u=m.content+"."+g.active+":visible";h.closeNested?(n=c.find(l).not(s),a=n.next(k)):(n=c.find(l).not(s),r=c.find(u).find(l).not(s),n=n.not(r),a=n.next(k)),n.length>0&&(f.debug("Exclusive enabled, closing other content",n),n.removeClass(g.active),h.animateChildren&&(t.fn.transition!==i&&w.transition("is supported")?a.children().transition({animation:"fade out",useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):a.children().stop().animate({opacity:0},h.duration,f.resetOpacity)),a.stop().slideUp(h.duration,h.easing,function(){t(this).removeClass(g.active),f.reset.display.call(this)}))},reset:{display:function(){f.verbose("Removing inline display from element",this),t(this).css("display",""),""===t(this).attr("style")&&t(this).attr("style","").removeAttr("style")},opacity:function(){f.verbose("Removing inline opacity from element",this),t(this).css("opacity",""),""===t(this).attr("style")&&t(this).attr("style","").removeAttr("style")}},setting:function(e,n){if(f.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},internal:function(e,n){return f.debug("Changing internal",e,n),n===i?f[e]:void(t.isPlainObject(e)?t.extend(!0,f,e):f[e]=n)},debug:function(){h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;h.performance&&(e=(new Date).getTime(),i=o||e,n=e-i,o=e,s.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var e=h.name+":",n=0;o=!1,clearTimeout(f.performance.timer),t.each(s,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",x&&(e+=" '"+x+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(e),console.table?console.table(s):t.each(s,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(e,n,a){var o,s,c,l=A;return n=n||u,a=T||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(f.error(v.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},l?(A===i&&f.initialize(),f.invoke(c)):(A!==i&&A.invoke("destroy"),f.initialize())}),r!==i?r:this},t.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}})}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.checkbox=function(n){var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,h=t.extend(!0,{},t.fn.checkbox.settings,n),g=h.className,p=h.namespace,m=h.selector,v=h.error,b="."+p,y="module-"+p,x=t(this),w=t(this).find(m.label).first(),_=t(this).find(m.input),k=x.data(y),T=this;f={initialize:function(){f.verbose("Initializing checkbox",h),f.create.label(),f.add.events(),f.is.checked()?(f.set.checked(),h.fireOnInit&&h.onChecked.call(_.get())):(f.remove.checked(),h.fireOnInit&&h.onUnchecked.call(_.get())),f.observeChanges(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),k=f,x.data(y,f)},destroy:function(){f.verbose("Destroying module"),f.remove.events(),x.removeData(y)},refresh:function(){x=t(this),w=t(this).find(m.label).first(),_=t(this).find(m.input)},observeChanges:function(){"MutationObserver"in e&&(a=new MutationObserver(function(t){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),a.observe(T,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",a))},attachEvents:function(e,n){var i=t(e);n=t.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",e,n),i.on("click"+b,n)):f.error(v.notFound)},event:{keydown:function(t){var e=t.which,n={enter:13,space:32,escape:27};e==n.escape&&(f.verbose("Escape key pressed blurring field"),x.blur()),t.ctrlKey||e!=n.enter&&e!=n.space||(f.verbose("Enter key pressed, toggling checkbox"),f.toggle.call(this),t.preventDefault())}},is:{radio:function(){return x.hasClass(g.radio)},checked:function(){return _.prop("checked")!==i&&_.prop("checked")},unchecked:function(){return!f.is.checked()}},can:{change:function(){return!(x.hasClass(g.disabled)||x.hasClass(g.readOnly)||_.prop("disabled"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!f.is.radio()}},set:{checked:function(){x.addClass(g.checked)},tab:function(){_.attr("tabindex")===i&&_.attr("tabindex",0)}},create:{label:function(){_.prevAll(m.label).length>0?(_.prev(m.label).detach().insertAfter(_),f.debug("Moving existing label",w)):f.has.label()||(w=t("<label>").insertAfter(_),f.debug("Creating label",w))}},has:{label:function(){return w.length>0}},add:{events:function(){f.verbose("Attaching checkbox events"),x.on("click"+b,f.toggle).on("keydown"+b,m.input,f.event.keydown)}},remove:{checked:function(){x.removeClass(g.checked)},events:function(){f.debug("Removing events"),x.off(b).removeData(y),_.off(b,f.event.keydown),w.off(b)}},enable:function(){f.debug("Enabling checkbox functionality"),x.removeClass(g.disabled),_.prop("disabled",!1),h.onEnabled.call(_.get())},disable:function(){f.debug("Disabling checkbox functionality"),x.addClass(g.disabled),_.prop("disabled","disabled"),h.onDisabled.call(_.get())},check:function(){f.debug("Enabling checkbox",_),_.prop("checked",!0).trigger("change"),f.set.checked(),_.trigger("blur"),h.onChange.call(_.get()),h.onChecked.call(_.get())},uncheck:function(){f.debug("Disabling checkbox"),_.prop("checked",!1).trigger("change"),f.remove.checked(),_.trigger("blur"),h.onChange.call(_.get()),h.onUnchecked.call(_.get())},toggle:function(t){return f.can.change()?(f.verbose("Determining new checkbox state"),void(f.is.unchecked()?f.check():f.is.checked()&&f.can.uncheck()&&f.uncheck())):(console.log(f.can.change()),void f.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(e,n){if(f.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},debug:function(){h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;h.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var e=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=k;return n=n||d,a=T||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(f.error(v.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},u?(k===i&&f.initialize(),f.invoke(l)):(k!==i&&k.invoke("destroy"),f.initialize())}),r!==i?r:this},t.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.dimmer=function(e){var r,a=t(this),o=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return a.each(function(){var d,f,h,g=t.isPlainObject(e)?t.extend(!0,{},t.fn.dimmer.settings,e):t.extend({},t.fn.dimmer.settings),p=g.selector,m=g.namespace,v=g.className,b=g.error,y="."+m,x="module-"+m,w=a.selector||"",_="ontouchstart"in n.documentElement?"touchstart":"click",k=t(this),T=this,A=k.data(x);h={preinitialize:function(){h.is.dimmer()?(f=k.parent(),d=k):(f=k,d=h.has.dimmer()?g.dimmerName?f.children(p.dimmer).filter("."+g.dimmerName):f.children(p.dimmer):h.create())},initialize:function(){h.debug("Initializing dimmer",g),"hover"==g.on?f.on("mouseenter"+y,h.show).on("mouseleave"+y,h.hide):"click"==g.on&&f.on(_+y,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",f),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",d),d.on(_+y,h.event.click)),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),A=h,k.data(x,A)},destroy:function(){h.verbose("Destroying previous module",d),k.removeData(x),f.off(y),d.off(y)},event:{click:function(e){h.verbose("Determining if event occured on dimmer",e),(0===d.find(e.target).length||t(e.target).is(p.content))&&(h.hide(),e.stopImmediatePropagation())}},addContent:function(e){var n=t(e);h.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var e=t(g.template.dimmer());return g.variation&&(h.debug("Creating dimmer with variation",g.variation),e.addClass(g.variation)),g.dimmerName&&(h.debug("Creating named dimmer",g.dimmerName),e.addClass(g.dimmerName)),e.appendTo(f),e},show:function(e){e=t.isFunction(e)?e:function(){},h.debug("Showing dimmer",d,g),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(e),g.onShow.call(T),g.onChange.call(T))},hide:function(e){e=t.isFunction(e)?e:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",d),h.animate.hide(e),g.onHide.call(T),g.onChange.call(T)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",d),h.is.dimmed()?h.hide():h.show()},animate:{show:function(e){e=t.isFunction(e)?e:function(){},g.useCSS&&t.fn.transition!==i&&d.transition("is supported")?("auto"!==g.opacity&&h.set.opacity(),d.transition({animation:g.transition+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),e()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),g.opacity,function(){d.removeAttr("style"),h.set.active(),e()}))},hide:function(e){e=t.isFunction(e)?e:function(){},g.useCSS&&t.fn.transition!==i&&d.transition("is supported")?(h.verbose("Hiding dimmer with css"),d.transition({animation:g.transition+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.remove.dimmed()},onComplete:function(){h.remove.active(),e()}})):(h.verbose("Hiding dimmer with javascript"),h.remove.dimmed(),d.stop().fadeOut(h.get.duration(),function(){h.remove.active(),d.removeAttr("style"),e()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof g.duration?h.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?k.children(p.dimmer).filter("."+g.dimmerName).length>0:k.children(p.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==g.closable?"hover"==g.on?!1:!0:g.closable},dimmer:function(){return k.is(p.dimmer)},dimmable:function(){return k.is(p.dimmable)},dimmed:function(){return f.hasClass(v.dimmed)},disabled:function(){return f.hasClass(v.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return f.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(t){var t=g.opacity||t,e=d.css("background-color"),n=e.split(","),i=n&&4==n.length;i?(n[3]=t+")",e=n.join(",")):e="rgba(0, 0, 0, "+t+")",h.debug("Setting opacity to",t),d.css("background-color",e)},active:function(){d.addClass(v.active)},dimmable:function(){f.addClass(v.dimmable)},dimmed:function(){f.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){f.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)}},setting:function(e,n){if(h.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},debug:function(){g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;g.performance&&(e=(new Date).getTime(),i=o||e,n=e-i,o=e,s.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:T,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var e=g.name+":",n=0;o=!1,clearTimeout(h.performance.timer),t.each(s,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",w&&(e+=" '"+w+"'"),a.length>1&&(e+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(e),console.table?console.table(s):t.each(s,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(e,n,a){var o,s,c,l=A;return n=n||u,a=T||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(h.error(b.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},h.preinitialize(),l?(A===i&&h.initialize(),h.invoke(c)):(A!==i&&A.invoke("destroy"),h.initialize())}),r!==i?r:this},t.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return t("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.dropdown=function(r){var a,o=t(this),s=t(n),c=o.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,g=[].slice.call(arguments,1);return o.each(function(){var p,m,v,b,y=t.isPlainObject(r)?t.extend(!0,{},t.fn.dropdown.settings,r):t.extend({},t.fn.dropdown.settings),x=y.className,w=y.metadata,_=y.namespace,k=y.selector,T=y.error,A="."+_,C="module-"+_,S=t(this),M=S.find(k.text),E=S.find(k.search),D=S.find(k.input),L=S.prev().find(k.text).length>0?S.prev().find(k.text):S.prev(),F=S.children(k.menu),P=F.find(k.item),I=!1,N=!1,O=this,R=S.data(C);b={initialize:function(){b.debug("Initializing dropdown",y),b.is.alreadySetup()?b.setup.reference():(b.setup.layout(),b.save.defaults(),b.set.selected(),b.create.id(),l&&b.bind.touchEvents(),b.bind.mouseEvents(),b.bind.keyboardEvents(),b.observeChanges(),b.instantiate())},instantiate:function(){b.verbose("Storing instance of dropdown",b),R=b,S.data(C,b)},destroy:function(){b.verbose("Destroying previous dropdown for",S),b.remove.tabbable(),S.off(A).removeData(C),F.off(A),s.off(p)},observeChanges:function(){"MutationObserver"in e&&(v=new MutationObserver(function(t){b.is.selectMutation(t)?(b.debug("<select> modified, recreating menu"),b.setup.select()):(b.debug("DOM tree modified, updating selector cache"),b.refresh())}),v.observe(O,{childList:!0,subtree:!0}),b.debug("Setting up mutation observer",v))},create:{id:function(){m=(Math.random().toString(16)+"000000000").substr(2,8),p="."+m,b.verbose("Creating unique id for element",m)}},search:function(){var t;t=E.val(),b.verbose("Searching for query",t),b.filter(t),b.is.searchSelection()&&b.can.show()&&b.show()},setup:{layout:function(){S.is("select")&&b.setup.select(),b.is.search()&&!b.is.searchable()&&(E=t("<input />").addClass(x.search).insertBefore(M)),y.allowTab&&b.set.tabbable()},select:function(){var e=b.get.selectValues();b.debug("Dropdown initialized on a select",e),S.is("select")&&(D=S),D.parent(k.dropdown).length>0?(b.debug("UI dropdown already exists. Creating dropdown menu only"),
S=D.closest(k.dropdown),F=S.children(k.menu),0===F.length&&(F=t("<div />").addClass(x.menu).appendTo(S)),F.html(y.templates.menu(e))):(b.debug("Creating entire dropdown from select"),S=t("<div />").attr("class",D.attr("class")).addClass(x.selection).addClass(x.dropdown).html(y.templates.dropdown(e)).insertBefore(D),D.removeAttr("class").prependTo(S)),b.refresh()},reference:function(){var t,e,n=o.index(S);b.debug("Dropdown behavior was called on select, replacing with closest dropdown"),S=S.parent(k.dropdown),b.refresh(),t=o.slice(0,n),e=o.slice(n+1),o=t.add(S).add(e)}},refresh:function(){b.verbose("Refreshing selector cache"),M=S.find(k.text),E=S.find(k.search),D=S.find(k.input),L=S.prev().find(k.text).length>0?S.prev().find(k.text):S.prev(),F=S.children(k.menu),P=F.find(k.item)},toggle:function(){b.verbose("Toggling menu visibility"),b.is.active()?b.hide():b.show()},show:function(e){e=t.isFunction(e)?e:function(){},b.is.searchSelection()&&b.is.allFiltered()||b.can.show()&&!b.is.active()&&(b.debug("Showing dropdown"),b.animate.show(function(){b.can.click()&&b.bind.intent(),b.set.visible(),e.call(O)}),y.onShow.call(O))},hide:function(e){e=t.isFunction(e)?e:function(){},b.is.active()&&(b.debug("Hiding dropdown"),b.animate.hide(function(){b.remove.visible(),e.call(O)}),y.onHide.call(O))},hideOthers:function(){b.verbose("Finding other dropdowns to hide"),o.not(S).has(k.menu+":visible:not(."+x.animating+")").dropdown("hide")},hideSubMenus:function(){var t=F.find(k.menu);t.transition("hide")},bind:{keyboardEvents:function(){b.debug("Binding keyboard events"),S.on("keydown"+A,b.event.keydown),b.is.searchable()&&S.on(b.get.inputEvent(),k.search,b.event.input)},touchEvents:function(){b.debug("Touch device detected binding additional touch events"),b.is.searchSelection()||S.on("touchstart"+A,b.event.test.toggle),F.on("touchstart"+A,k.item,b.event.item.mouseenter)},mouseEvents:function(){b.verbose("Mouse detected binding mouse events"),b.is.searchSelection()?S.on("mousedown"+A,k.menu,b.event.menu.activate).on("mouseup"+A,k.menu,b.event.menu.deactivate).on("click"+A,k.search,b.show).on("focus"+A,k.search,b.event.searchFocus).on("blur"+A,k.search,b.event.searchBlur).on("click"+A,k.text,b.event.searchTextFocus):("click"==y.on?S.on("click"+A,b.event.test.toggle):"hover"==y.on?S.on("mouseenter"+A,b.delay.show).on("mouseleave"+A,b.delay.hide):S.on(y.on+A,b.toggle),S.on("mousedown"+A,b.event.mousedown).on("mouseup"+A,b.event.mouseup).on("focus"+A,b.event.focus).on("blur"+A,b.event.blur)),F.on("mouseenter"+A,k.item,b.event.item.mouseenter).on("mouseleave"+A,k.item,b.event.item.mouseleave).on("click"+A,k.item,b.event.item.click)},intent:function(){b.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+p,b.event.test.touch).on("touchmove"+p,b.event.test.touch),s.on("click"+p,b.event.test.hide)}},unbind:{intent:function(){b.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+p).off("touchmove"+p),s.off("click"+p)}},filter:function(e){var n=t(),i=b.escape.regExp(e),r=new RegExp("^"+i,"igm"),a=new RegExp(i,"ig");b.verbose("Searching for matching values"),P.each(function(){var e=t(this),i=String(b.get.choiceText(e,!1)),o=String(b.get.choiceValue(e,i));i.match(r)||o.match(r)?n=n.add(e):y.fullTextSearch&&(i.match(a)||o.match(a))&&(n=n.add(e))}),b.debug("Setting filter",e),b.remove.filteredItem(),P.not(n).addClass(x.filtered),b.verbose("Selecting first non-filtered element"),b.remove.selectedItem(),P.not("."+x.filtered).eq(0).addClass(x.selected),b.is.allFiltered()&&(b.debug("All items filtered, hiding dropdown",e),b.is.searchSelection()&&b.hide(),y.onNoResults.call(O,e))},focusSearch:function(){b.is.search()&&E.focus()},forceSelection:function(){var t=P.not(x.filtered).filter("."+x.selected).eq(0),e=P.filter("."+x.active).eq(0),n=t.length>0?t:e,i=n.size()>0;i?(b.event.item.click.call(n),b.remove.filteredItem()):b.hide()},event:{mousedown:function(){I=!0},mouseup:function(){I=!1},focus:function(){!I&&b.is.hidden()&&b.show()},blur:function(t){var e=n.activeElement===this;I||e||b.hide()},searchFocus:function(){I=!0,b.show()},searchBlur:function(t){var e=n.activeElement===this;N||e||(y.forceSelection?b.forceSelection():b.hide())},searchTextFocus:function(t){I=!0,E.focus()},input:function(t){b.is.searchSelection()&&b.set.filtered(),clearTimeout(b.timer),b.timer=setTimeout(b.search,y.delay.search)},keydown:function(t){{var e,n=P.not(x.filtered).filter("."+x.selected).eq(0),i=F.children("."+x.active).eq(0),r=n.length>0?n:i,a=r.length>0?r.siblings(":not(."+x.filtered+")").andSelf():F.children(":not(."+x.filtered+")"),o=r.children(k.menu),s=r.closest(k.menu),c=s[0]!==F[0],l=s.is(":visible"),u=t.which,d={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},f=o.length>0,h=r.length>0;a.size()-1}if(b.is.visible()){if(u==d.enter&&h&&(f&&!y.allowCategorySelection?(b.verbose("Pressed enter on unselectable category, opening sub menu"),u=d.rightArrow):(b.verbose("Enter key pressed, choosing selected item"),b.event.item.click.call(r,t))),u==d.leftArrow&&(c&&(b.verbose("Left key pressed, closing sub-menu"),b.animate.hide(!1,s),r.removeClass(x.selected),s.closest(k.item).addClass(x.selected)),t.preventDefault()),u==d.rightArrow&&(f&&(b.verbose("Right key pressed, opening sub-menu"),b.animate.show(!1,o),r.removeClass(x.selected),o.find(k.item).eq(0).addClass(x.selected)),t.preventDefault()),u==d.upArrow){if(e=h&&l?r.prevAll(k.item+":not(."+x.filtered+")").eq(0):P.eq(0),a.index(e)<0)return void b.verbose("Up key pressed but reached top of current menu");b.verbose("Up key pressed, changing active item"),r.removeClass(x.selected),e.addClass(x.selected),b.set.scrollPosition(e),t.preventDefault()}if(u==d.downArrow){if(e=h&&l?e=r.nextAll(k.item+":not(."+x.filtered+")").eq(0):P.eq(0),0===e.length)return void b.verbose("Down key pressed but reached bottom of current menu");b.verbose("Down key pressed, changing active item"),P.removeClass(x.selected),e.addClass(x.selected),b.set.scrollPosition(e),t.preventDefault()}}else u==d.enter&&(b.verbose("Enter key pressed, showing dropdown"),b.show()),u==d.escape&&(b.verbose("Escape key pressed, closing dropdown"),b.hide()),u==d.downArrow&&(b.verbose("Down key pressed, showing dropdown"),b.show())},test:{toggle:function(t){b.determine.eventInMenu(t,b.toggle)&&t.preventDefault()},touch:function(t){b.determine.eventInMenu(t,function(){"touchstart"==t.type?b.timer=setTimeout(b.hide,y.delay.touch):"touchmove"==t.type&&clearTimeout(b.timer)}),t.stopPropagation()},hide:function(t){b.determine.eventInModule(t,b.hide)}},menu:{activate:function(){N=!0},deactivate:function(){N=!1}},item:{mouseenter:function(e){var n=t(this).children(k.menu),i=t(this).siblings(k.item).children(k.menu);n.length>0&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Showing sub-menu",n),t.each(i,function(){b.animate.hide(!1,t(this))}),b.animate.show(!1,n)},y.delay.show),e.preventDefault())},mouseleave:function(e){var n=t(this).children(k.menu);n.length>0&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Hiding sub-menu",n),b.animate.hide(!1,n)},y.delay.hide))},click:function(e){var n=t(this),i=t(e?e.target:""),r=n.find(k.menu),a=b.get.choiceText(n),o=b.get.choiceValue(n,a),s=function(){b.remove.searchTerm(),b.determine.selectAction(a,o)},c=r.length>0,l=r.find(i).length>0;l||c&&!y.allowCategorySelection||s()}},resetStyle:function(){t(this).removeAttr("style")}},determine:{selectAction:function(e,n){b.verbose("Determining action",y.action),t.isFunction(b.action[y.action])?(b.verbose("Triggering preset action",y.action,e,n),b.action[y.action](e,n)):t.isFunction(y.action)?(b.verbose("Triggering user action",y.action,e,n),y.action(e,n)):b.error(T.action,y.action)},eventInModule:function(e,n){return n=t.isFunction(n)?n:function(){},0===t(e.target).closest(S).length?(b.verbose("Triggering event",n),n(),!0):(b.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(e,n){return n=t.isFunction(n)?n:function(){},0===t(e.target).closest(F).length?(b.verbose("Triggering event",n),n(),!0):(b.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,e){e=e!==i?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},select:function(t,e){e=e!==i?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},combo:function(t,e){e=e!==i?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},hide:function(){b.hide(function(){b.remove.filteredItem()})}},get:{id:function(){return m},text:function(){return M.text()},value:function(){return D.length>0?D.val():S.data(w.value)},choiceText:function(t,e){return e=e!==i?e:y.preserveHTML,t!==i?(t.find(k.menu).length>0&&(b.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(k.menu).remove(),t.find(k.menuIcon).remove()),t.data(w.text)!==i?t.data(w.text):e?t.html().trim():t.text().trim()):void 0},choiceValue:function(t,e){return e=e||b.get.choiceText(t),t.data(w.value)!==i?t.data(w.value):"string"==typeof e?e.toLowerCase().trim():e.trim()},inputEvent:function(){var t=E[0];return t?t.oninput!==i?"input":t.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var e={};return e.values=y.sortSelect?{}:[],S.find("option").each(function(){var n=t(this).html(),r=t(this).attr("value")!==i?t(this).attr("value"):n;""===r?e.placeholder=n:y.sortSelect?e.values[r]={name:n,value:r}:e.values.push({name:n,value:r})}),y.sortSelect?b.debug("Retrieved and sorted values from select",e):b.debug("Retreived values from select",e),e},activeItem:function(){return P.filter("."+x.active)},item:function(e,n){var r=!1;return e=e!==i?e:b.get.value()!==i?b.get.value():b.get.text(),n=""===e||0===e?!0:n||!1,e!==i?P.each(function(){var i=t(this),a=b.get.choiceText(i),o=b.get.choiceValue(i,a);if(n){if(b.verbose("Ambiguous dropdown value using strict type check",i,e),o===e)return r=t(this),!0;if(!r&&a===e)return r=t(this),!0}else{if(o==e)return b.verbose("Found select item by value",o,e),r=t(this),!0;if(!r&&a==e)return b.verbose("Found select item by text",a,e),r=t(this),!0}}):e=b.get.text(),r||!1}},restore:{defaults:function(){b.restore.defaultText(),b.restore.defaultValue()},defaultText:function(){var t=S.data(w.defaultText);b.debug("Restoring default text",t),b.set.text(t),M.addClass(x.placeholder)},defaultValue:function(){var t=S.data(w.defaultValue);t!==i&&(b.debug("Restoring default value",t),t.length?b.set.selected(t):(b.remove.activeItem(),b.remove.selectedItem()))}},save:{defaults:function(){b.save.defaultText(),b.save.placeholderText(),b.save.defaultValue()},defaultValue:function(){S.data(w.defaultValue,b.get.value())},defaultText:function(){S.data(w.defaultText,M.text())},placeholderText:function(){M.hasClass(x.placeholder)&&S.data(w.placeholderText,M.text())}},clear:function(){var t=S.data(w.placeholderText);b.set.text(t),b.set.value(""),b.remove.activeItem(),b.remove.selectedItem(),M.addClass(x.placeholder)},set:{filtered:function(){var t=E.val(),e="string"==typeof t&&t.length>0;e?M.addClass(x.filtered):M.removeClass(x.filtered)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),E.val("").attr("tabindex",0),F.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),S.attr("tabindex")||(S.attr("tabindex",0),F.attr("tabindex","-1")))},scrollPosition:function(t,e){var n,r,a,o,s,c,l,u,d,f=5;t=t||b.get.activeItem(),n=t&&t.length>0,e=e!==i?e:!1,t&&n&&(F.hasClass(x.visible)||F.addClass(x.loading),l=F.height(),a=t.height(),c=F.scrollTop(),s=F.offset().top,o=t.offset().top,r=c-s+o,d=r+f>c+l,u=c>r-f,b.debug("Scrolling to active item",r),(u||d||e)&&F.scrollTop(r).removeClass(x.loading))},text:function(t){"combo"==y.action?(b.debug("Changing combo button text",t,L),y.preserveHTML?L.html(t):L.text(t)):"select"!==y.action&&(b.debug("Changing text",t,M),M.removeClass(x.filtered).removeClass(x.placeholder),y.preserveHTML?M.html(t):M.text(t))},value:function(t){b.debug("Adding selected value to hidden input",t,D),D.length>0?D.val(t).trigger("change"):S.data(w.value,t)},active:function(){S.addClass(x.active)},visible:function(){S.addClass(x.visible)},selected:function(t){var e,n,i=b.get.item(t);i&&!i.hasClass(x.active)&&(b.debug("Setting selected menu item to",i),b.remove.activeItem(),b.remove.selectedItem(),i.addClass(x.active).addClass(x.selected),e=b.get.choiceText(i),n=b.get.choiceValue(i,e),b.set.text(e),b.set.value(n),y.onChange.call(O,t,e,i))}},remove:{active:function(){S.removeClass(x.active)},visible:function(){S.removeClass(x.visible)},activeItem:function(){P.removeClass(x.active)},filteredItem:function(){P.removeClass(x.filtered)},searchTerm:function(){E.val("")},selectedItem:function(){P.removeClass(x.selected)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),E.attr("tabindex","-1"),F.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),S.attr("tabindex","-1"),F.attr("tabindex","-1"))}},is:{active:function(){return S.hasClass(x.active)},alreadySetup:function(){return S.is("select")&&S.parent(k.dropdown).length>0},animating:function(t){return t?t.is(":animated")||t.transition&&t.transition("is animating"):F.is(":animated")||F.transition&&F.transition("is animating")},allFiltered:function(){return P.filter("."+x.filtered).length===P.length},hidden:function(t){return t?t.is(":hidden"):F.is(":hidden")},selectMutation:function(e){var n=!1;return t.each(e,function(e,i){return i.target&&t(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return S.hasClass(x.search)},searchable:function(){return E.length>0},searchSelection:function(){return b.is.searchable()&&E.parent().is(S)},selection:function(){return S.hasClass(x.selection)},upward:function(){return S.hasClass(x.upward)},visible:function(t){return t?t.is(":visible"):F.is(":visible")}},can:{click:function(){return l||"click"==y.on},show:function(){return!S.hasClass(x.disabled)}},animate:{show:function(e,n){var r=n||F,a=n?function(){}:function(){b.hideSubMenus(),b.hideOthers(),b.set.active()};e=t.isFunction(e)?e:function(){},b.set.scrollPosition(b.get.activeItem(),!0),b.verbose("Doing menu show animation",r),(b.is.hidden(r)||b.is.animating(r))&&("auto"==y.transition&&(y.transition=b.is.upward()?"slide up":"slide down",b.verbose("Automatically determining animation based on animation direction",y.transition)),"none"==y.transition?e.call(O):t.fn.transition!==i&&S.transition("is supported")?r.transition({animation:y.transition+" in",debug:y.debug,verbose:y.verbose,duration:y.duration,queue:!0,onStart:a,onComplete:function(){e.call(O)}}):"slide down"==y.transition?(a(),r.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},y.duration,"easeOutQuad",b.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){b.event.resetStyle.call(this),e.call(O)})):"fade"==y.transition?(a(),r.hide().clearQueue().fadeIn(y.duration,function(){b.event.resetStyle.call(this),e.call(O)})):b.error(T.transition,y.transition))},hide:function(e,n){var r=n||F,a=(n?.9*y.duration:y.duration,n?function(){}:function(){b.can.click()&&b.unbind.intent(),b.focusSearch(),b.remove.active()});e=t.isFunction(e)?e:function(){},(b.is.visible(r)||b.is.animating(r))&&(b.verbose("Doing menu hide animation",r),"auto"==y.transition&&(y.transition=b.is.upward()?"slide up":"slide down"),D.trigger("blur"),"none"==y.transition?e.call(O):t.fn.transition!==i&&S.transition("is supported")?r.transition({animation:y.transition+" out",duration:y.duration,debug:y.debug,verbose:y.verbose,queue:!0,onStart:a,onComplete:function(){e.call(O)}}):"slide down"==y.transition?(a(),r.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",b.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){b.event.resetStyle.call(this),e.call(O)})):"fade"==y.transition?(a(),r.show().clearQueue().fadeOut(150,function(){b.event.resetStyle.call(this),e.call(O)})):b.error(T.transition))}},delay:{show:function(){b.verbose("Delaying show event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.show,y.delay.show)},hide:function(){b.verbose("Delaying hide event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.hide,y.delay.hide)}},escape:{regExp:function(t){return t=String(t),t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(e,n){if(b.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,y,e);else{if(n===i)return y[e];y[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,b,e);else{if(n===i)return b[e];b[e]=n}},debug:function(){y.debug&&(y.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,y.name+":"),b.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,y.name+":"),b.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;y.performance&&(e=(new Date).getTime(),i=u||e,n=e-i,u=e,d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:O,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=y.name+":",n=0;u=!1,clearTimeout(b.performance.timer),t.each(d,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",c&&(e+=" '"+c+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(e),console.table?console.table(d):t.each(d,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(e,n,r){var o,s,c,l=R;return n=n||g,r=O||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(b.error(T.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},h?(R===i&&b.initialize(),b.invoke(f)):(R!==i&&R.invoke("destroy"),b.initialize())}),a!==i?a:o},t.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(t){},onChange:function(t,e){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},t.fn.dropdown.settings.templates={menu:function(e){var n=(e.placeholder||!1,e.values||{},"");return t.each(e.values,function(t,e){n+='<div class="item" data-value="'+e.value+'">'+e.name+"</div>"}),n},dropdown:function(e){var n=e.placeholder||!1,i=(e.values||{},"");return i+='<i class="dropdown icon"></i>',i+=e.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',t.each(e.values,function(t,e){i+='<div class="item" data-value="'+e.value+'">'+e.name+"</div>"}),i+="</div>"}},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}})}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.modal=function(r){var a,o=t(this),s=t(e),c=t(n),l=t("body"),u=o.selector||"",d=(new Date).getTime(),f=[],h=arguments[0],g="string"==typeof h,p=[].slice.call(arguments,1),m=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)};return o.each(function(){var o,v,b,y,x,w,_,k,T,A=t.isPlainObject(r)?t.extend(!0,{},t.fn.modal.settings,r):t.extend({},t.fn.modal.settings),C=A.selector,S=A.className,M=A.namespace,E=A.error,D="."+M,L="module-"+M,F=t(this),P=t(A.context),I=F.find(C.close),N=this,O=F.data(L);T={initialize:function(){T.verbose("Initializing dimmer",P),T.create.id(),T.create.dimmer(),T.refreshModals(),T.verbose("Attaching close events",I),T.bind.events(),T.observeChanges(),T.instantiate()},instantiate:function(){T.verbose("Storing instance of modal"),O=T,F.data(L,O)},create:{dimmer:function(){var e={debug:A.debug,dimmerName:"modals",duration:{show:A.duration,hide:A.duration}},n=t.extend(!0,e,A.dimmerSettings);return t.fn.dimmer===i?void T.error(E.dimmer):(T.debug("Creating dimmer with settings",n),y=P.dimmer(n),A.detachable&&(T.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",F)),void(x=y.dimmer("get dimmer")))},id:function(){_=(Math.random().toString(16)+"000000000").substr(2,8),w="."+_,T.verbose("Creating unique id for element",_)}},destroy:function(){T.verbose("Destroying previous modal"),F.removeData(L).off(D),s.off(w),I.off(D),P.dimmer("destroy")},observeChanges:function(){"MutationObserver"in e&&(k=new MutationObserver(function(t){T.debug("DOM tree modified, refreshing"),T.refresh()}),k.observe(N,{childList:!0,subtree:!0}),T.debug("Setting up mutation observer",k))},refresh:function(){T.remove.scrolling(),T.cacheSizes(),T.set.screenHeight(),T.set.type(),T.set.position()},refreshModals:function(){v=F.siblings(C.modal),o=v.add(F)},attachEvents:function(e,n){var i=t(e);n=t.isFunction(T[n])?T[n]:T.toggle,i.length>0?(T.debug("Attaching modal events to element",e,n),i.off(D).on("click"+D,n)):T.error(E.notFound,e)},bind:{events:function(){I.on("click"+D,T.event.close),s.on("resize"+w,T.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){T.verbose("Closing element pressed"),t(this).is(C.approve)?A.onApprove.call(N)!==!1?T.hide():T.verbose("Approve callback returned false cancelling hide"):t(this).is(C.deny)?A.onDeny.call(N)!==!1?T.hide():T.verbose("Deny callback returned false cancelling hide"):T.hide()},click:function(e){0===t(e.target).closest(F).length&&(T.debug("Dimmer clicked, hiding all modals"),T.is.active()&&(T.remove.clickaway(),A.allowMultiple?T.hide():T.hideAll()))},debounce:function(t,e){clearTimeout(T.timer),T.timer=setTimeout(t,e)},keyboard:function(t){var e=t.which,n=27;e==n&&(A.closable?(T.debug("Escape key pressed hiding modal"),T.hide()):T.debug("Escape key pressed, but closable is set to false"),t.preventDefault())},resize:function(){y.dimmer("is active")&&m(T.refresh)}},toggle:function(){T.is.active()||T.is.animating()?T.hide():T.show()},show:function(e){e=t.isFunction(e)?e:function(){},T.refreshModals(),T.showModal(e)},hide:function(e){e=t.isFunction(e)?e:function(){},T.refreshModals(),T.hideModal(e)},showModal:function(e){e=t.isFunction(e)?e:function(){},T.is.animating()||!T.is.active()?(T.showDimmer(),T.cacheSizes(),T.set.position(),T.set.screenHeight(),T.set.type(),T.set.clickaway(),!A.allowMultiple&&v.filter("."+S.active).length>0?(T.debug("Other modals visible, queueing show animation"),T.hideOthers(T.showModal)):(A.onShow.call(N),A.transition&&t.fn.transition!==i&&F.transition("is supported")?(T.debug("Showing modal with css animations"),F.transition({debug:A.debug,animation:A.transition+" in",queue:A.queue,duration:A.duration,useFailSafe:!0,onComplete:function(){A.onVisible.apply(N),T.add.keyboardShortcuts(),T.save.focus(),T.set.active(),T.set.autofocus(),e()}})):(T.debug("Showing modal with javascript"),F.fadeIn(A.duration,A.easing,function(){A.onVisible.apply(N),T.add.keyboardShortcuts(),T.save.focus(),T.set.active(),e()})))):T.debug("Modal is already visible")},hideModal:function(e,n){e=t.isFunction(e)?e:function(){},T.debug("Hiding modal"),A.onHide.call(N),(T.is.animating()||T.is.active())&&(A.transition&&t.fn.transition!==i&&F.transition("is supported")?(T.remove.active(),F.transition({debug:A.debug,animation:A.transition+" out",queue:A.queue,duration:A.duration,useFailSafe:!0,onStart:function(){T.othersActive()||n||T.hideDimmer(),T.remove.keyboardShortcuts()},onComplete:function(){A.onHidden.call(N),T.restore.focus(),e()}})):(T.remove.active(),T.othersActive()||T.hideDimmer(),T.remove.keyboardShortcuts(),F.fadeOut(A.duration,A.easing,function(){A.onHidden.call(N),T.restore.focus(),e()})))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(T.debug("Showing dimmer"),y.dimmer("show")):T.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?void y.dimmer("hide",function(){A.transition&&t.fn.transition!==i&&F.transition("is supported")&&(T.remove.clickaway(),T.remove.screenHeight())}):void T.debug("Dimmer is not visible cannot hide")},hideAll:function(e){var n=o.filter(":visible");e=t.isFunction(e)?e:function(){},n.length>0&&(T.debug("Hiding all visible modals"),T.hideDimmer(),n.modal("hide modal",e))},hideOthers:function(e){var n=v.filter(":visible");e=t.isFunction(e)?e:function(){},n.length>0&&(T.debug("Hiding other modals",v),n.modal("hide modal",e,!0))},othersActive:function(){return v.filter("."+S.active).length>0},add:{keyboardShortcuts:function(){T.verbose("Adding keyboard shortcuts"),c.on("keyup"+D,T.event.keyboard)}},save:{focus:function(){b=t(n.activeElement).blur()}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){F.removeClass(S.active)},clickaway:function(){A.closable&&x.off("click"+w)},screenHeight:function(){T.cache.height>T.cache.pageHeight&&(T.debug("Removing page height"),l.css("height",""))},keyboardShortcuts:function(){T.verbose("Removing keyboard shortcuts"),c.off("keyup"+D)},scrolling:function(){y.removeClass(S.scrolling),F.removeClass(S.scrolling)}},cacheSizes:function(){var r=F.outerHeight();(T.cache===i||0!==r)&&(T.cache={pageHeight:t(n).outerHeight(),height:r+A.offset,contextHeight:"body"==A.context?t(e).height():y.height()}),T.debug("Caching modal and container sizes",T.cache)},can:{fit:function(){return T.cache.height+2*A.padding<T.cache.contextHeight}},is:{active:function(){return F.hasClass(S.active)},animating:function(){return F.transition("is supported")?F.transition("is animating"):F.is(":visible")},scrolling:function(){return y.hasClass(S.scrolling)},modernBrowser:function(){return!(e.ActiveXObject||"ActiveXObject"in e)}},set:{autofocus:function(){if(A.autofocus){var t=F.find(":input:visible"),e=t.filter("[autofocus]"),n=e.length>0?e:t;n.first().focus()}},clickaway:function(){A.closable&&x.on("click"+w,T.event.click)},screenHeight:function(){T.can.fit()?l.css("height",""):(T.debug("Modal is taller than page content, resizing page height"),l.css("height",T.cache.height+A.padding/2))},active:function(){F.addClass(S.active)},scrolling:function(){y.addClass(S.scrolling),F.addClass(S.scrolling)},type:function(){T.can.fit()?(T.verbose("Modal fits on screen"),T.othersActive||T.remove.scrolling()):(T.verbose("Modal cannot fit on screen setting to scrolling"),T.set.scrolling())},position:function(){T.verbose("Centering modal on page",T.cache),F.css(T.can.fit()?{top:"",marginTop:-(T.cache.height/2)}:{marginTop:"",top:c.scrollTop()})}},setting:function(e,n){if(T.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,A,e);else{if(n===i)return A[e];A[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,T,e);else{if(n===i)return T[e];T[e]=n}},debug:function(){A.debug&&(A.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,A.name+":"),T.debug.apply(console,arguments)))},verbose:function(){A.verbose&&A.debug&&(A.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,A.name+":"),T.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;A.performance&&(e=(new Date).getTime(),i=d||e,n=e-i,d=e,f.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:N,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var e=A.name+":",n=0;d=!1,clearTimeout(T.performance.timer),t.each(f,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",u&&(e+=" '"+u+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(e),console.table?console.table(f):t.each(f,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(e,n,r){var o,s,c,l=O;return n=n||p,r=N||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},g?(O===i&&T.initialize(),T.invoke(h)):(O!==i&&O.invoke("destroy"),T.initialize())}),a!==i?a:this},t.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:50,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.nag=function(n){var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){{var a,f=t.isPlainObject(n)?t.extend(!0,{},t.fn.nag.settings,n):t.extend({},t.fn.nag.settings),h=(f.className,f.selector),g=f.error,p=f.namespace,m="."+p,v=p+"-module",b=t(this),y=b.find(h.close),x=t(f.context?f.context:"body"),w=this,_=b.data(v);e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)}}a={initialize:function(){a.verbose("Initializing element"),b.data(v,a),y.on("click"+m,a.dismiss),f.detachable&&b.parent()[0]!==x[0]&&b.detach().prependTo(x),f.displayTime>0&&setTimeout(a.hide,f.displayTime),a.show()},destroy:function(){a.verbose("Destroying instance"),b.removeData(v).off(m)},show:function(){a.should.show()&&!b.is(":visible")&&(a.debug("Showing nag",f.animation.show),"fade"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideDown(f.duration,f.easing))},hide:function(){a.debug("Showing nag",f.animation.hide),"fade"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideUp(f.duration,f.easing)},onHide:function(){a.debug("Removing nag",f.animation.hide),b.remove(),f.onHide&&f.onHide();

},dismiss:function(t){f.storageMethod&&a.storage.set(f.key,f.value),a.hide(),t.stopImmediatePropagation(),t.preventDefault()},should:{show:function(){return f.persist?(a.debug("Persistent nag is set, can show nag"),!0):a.storage.get(f.key)!=f.value.toString()?(a.debug("Stored value is not set, can show nag",a.storage.get(f.key)),!0):(a.debug("Stored value is set, cannot show nag",a.storage.get(f.key)),!1)}},get:{storageOptions:function(){var t={};return f.expires&&(t.expires=f.expires),f.domain&&(t.domain=f.domain),f.path&&(t.path=f.path),t}},clear:function(){a.storage.remove(f.key)},storage:{set:function(n,r){var o=a.get.storageOptions();if("localstorage"==f.storageMethod&&e.localStorage!==i)e.localStorage.setItem(n,r),a.debug("Value stored using local storage",n,r);else{if(t.cookie===i)return void a.error(g.noCookieStorage);t.cookie(n,r,o),a.debug("Value stored using cookie",n,r,o)}},get:function(n,r){var o;return"localstorage"==f.storageMethod&&e.localStorage!==i?o=e.localStorage.getItem(n):t.cookie!==i?o=t.cookie(n):a.error(g.noCookieStorage),("undefined"==o||"null"==o||o===i||null===o)&&(o=i),o},remove:function(n){var r=a.get.storageOptions();"local"==f.storageMethod&&e.store!==i?e.localStorage.removeItem(n):t.cookie!==i?t.removeCookie(n,r):a.error(g.noStorage)}},setting:function(e,n){if(a.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,a,e);else{if(n===i)return a[e];a[e]=n}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;f.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:w,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var e=f.name+":",n=0;s=!1,clearTimeout(a.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,o){var s,c,l,u=_;return n=n||d,o=w||o,"string"==typeof e&&u!==i&&(e=e.split(/[\. ]/),s=e.length-1,t.each(e,function(n,r){var o=n!=s?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(u[o])&&n!=s)u=u[o];else{if(u[o]!==i)return c=u[o],!1;if(!t.isPlainObject(u[r])||n==s)return u[r]!==i?(c=u[r],!1):(a.error(g.method,e),!1);u=u[r]}})),t.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),t.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),c}},u?(_===i&&a.initialize(),a.invoke(l)):(_!==i&&_.invoke("destroy"),a.initialize())}),r!==i?r:this},t.fn.nag.settings={name:"Nag",debug:!1,verbose:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.popup=function(r){var a,o=t(this),s=t(n),c=o.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,g=[].slice.call(arguments,1);return o.each(function(){var n,o,p,m,v,b=t.isPlainObject(r)?t.extend(!0,{},t.fn.popup.settings,r):t.extend({},t.fn.popup.settings),y=b.selector,x=b.className,w=b.error,_=b.metadata,k=b.namespace,T="."+b.namespace,A="module-"+k,C=t(this),S=t(b.context),M=b.target?t(b.target):C,E=t(e),D=t("body"),L=0,F=!1,P=this,I=C.data(A);v={initialize:function(){v.debug("Initializing",C),v.createID(),v.bind.events(),!v.exists()&&b.preserve&&v.create(),v.instantiate()},instantiate:function(){v.verbose("Storing instance",v),I=v,C.data(A,I)},refresh:function(){b.popup?n=t(b.popup).eq(0):b.inline&&(n=M.next(y.popup).eq(0)),b.popup?(n.addClass(x.loading),o=v.get.offsetParent(),n.removeClass(x.loading),b.movePopup&&v.has.popup()&&v.get.offsetParent(n)[0]!==o[0]&&(v.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(o))):o=b.inline?v.get.offsetParent(M):v.has.popup()?v.get.offsetParent(n):D,o.is("html")&&(v.debug("Setting page as offset parent"),o=D)},reposition:function(){v.refresh(),v.set.position()},destroy:function(){v.debug("Destroying previous module"),n&&!b.preserve&&v.removePopup(),clearTimeout(v.hideTimer),clearTimeout(v.showTimer),E.off(p),C.off(T).removeData(A)},event:{start:function(e){var n=t.isPlainObject(b.delay)?b.delay.show:b.delay;clearTimeout(v.hideTimer),v.showTimer=setTimeout(function(){!v.is.hidden()||v.is.active()&&v.is.dropdown()||v.show()},n)},end:function(){var e=t.isPlainObject(b.delay)?b.delay.hide:b.delay;clearTimeout(v.showTimer),v.hideTimer=setTimeout(function(){v.is.visible()&&v.hide()},e)},resize:function(){v.is.visible()&&v.set.position()}},create:function(){var e=C.data(_.html)||b.html,i=C.data(_.variation)||b.variation,r=C.data(_.title)||b.title,a=C.data(_.content)||C.attr("title")||b.content;e||a||r?(v.debug("Creating pop-up html"),e||(e=b.templates.popup({title:r,content:a})),n=t("<div/>").addClass(x.popup).addClass(i).data(_.activator,C).html(e),i&&n.addClass(i),b.inline?(v.verbose("Inserting popup element inline",n),n.insertAfter(C)):(v.verbose("Appending popup element to body",n),n.appendTo(S)),v.refresh(),b.hoverable&&v.bind.popup(),b.onCreate.call(n,P)):0!==M.next(y.popup).length?(v.verbose("Pre-existing popup found"),b.inline=!0,b.popup=M.next(y.popup).data(_.activator,C),v.refresh(),b.hoverable&&v.bind.popup()):b.popup?(b.popup.data(_.activator,C),v.verbose("Used popup specified in settings"),v.refresh(),b.hoverable&&v.bind.popup()):v.debug("No content specified skipping display",P)},createID:function(){m=(Math.random().toString(16)+"000000000").substr(2,8),p="."+m,v.verbose("Creating unique id for element",m)},toggle:function(){v.debug("Toggling pop-up"),v.is.hidden()?(v.debug("Popup is hidden, showing pop-up"),v.unbind.close(),v.show()):(v.debug("Popup is visible, hiding pop-up"),v.hide())},show:function(e){e=t.isFunction(e)?e:function(){},v.debug("Showing pop-up",b.transition),v.exists()?b.preserve||b.popup||v.refresh():v.create(),n&&v.set.position()&&(v.save.conditions(),b.exclusive&&v.hideAll(),v.animate.show(e))},hide:function(e){e=t.isFunction(e)?e:function(){},v.remove.visible(),v.unbind.close(),v.is.visible()&&(v.restore.conditions(),v.animate.hide(e))},hideAll:function(){t(y.popup).filter("."+x.visible).each(function(){t(this).data(_.activator).popup("hide")})},hideGracefully:function(e){e&&0===t(e.target).closest(y.popup).length?(v.debug("Click occurred outside popup hiding popup"),v.hide()):v.debug("Click was inside popup, keeping popup open")},exists:function(){return n?b.inline||b.popup?v.has.popup():n.closest(S).length>=1?!0:!1:!1},removePopup:function(){v.debug("Removing popup",n),v.has.popup()&&!b.popup&&(n.remove(),n=i),b.onRemove.call(n,P)},save:{conditions:function(){v.cache={title:C.attr("title")},v.cache.title&&C.removeAttr("title"),v.verbose("Saving original attributes",v.cache.title)}},restore:{conditions:function(){return v.cache&&v.cache.title&&(C.attr("title",v.cache.title),v.verbose("Restoring original attributes",v.cache.title)),!0}},animate:{show:function(e){e=t.isFunction(e)?e:function(){},b.transition&&t.fn.transition!==i&&C.transition("is supported")?(v.set.visible(),n.transition({animation:b.transition+" in",queue:!1,debug:b.debug,verbose:b.verbose,duration:b.duration,onComplete:function(){v.bind.close(),e.call(n,P),b.onVisible.call(n,P)}})):(v.set.visible(),n.stop().fadeIn(b.duration,b.easing,function(){v.bind.close(),e.call(n,P),b.onVisible.call(n,P)})),b.onShow.call(n,P)},hide:function(e){e=t.isFunction(e)?e:function(){},v.debug("Hiding pop-up"),b.transition&&t.fn.transition!==i&&C.transition("is supported")?n.transition({animation:b.transition+" out",queue:!1,duration:b.duration,debug:b.debug,verbose:b.verbose,onComplete:function(){v.reset(),e.call(n,P),b.onHidden.call(n,P)}}):n.stop().fadeOut(b.duration,b.easing,function(){v.reset(),e.call(n,P),b.onHidden.call(n,P)}),b.onHide.call(n,P)}},get:{id:function(){return m},startEvent:function(){return"hover"==b.on?l?"touchstart mouseenter":"mouseenter":"focus"==b.on?"focus":!1},scrollEvent:function(){return l?"touchmove scroll":"scroll"},endEvent:function(){return"hover"==b.on?"mouseleave":"focus"==b.on?"blur":!1},offsetParent:function(e){var n=e!==i?e[0]:C[0],r=n.parentNode,a=t(r);if(r)for(var o="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");r&&!c&&s&&o;)r=r.parentNode,a=t(r),o="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");return a&&a.length>0?a:t()},offstagePosition:function(i){var r={top:t(e).scrollTop(),bottom:t(e).scrollTop()+t(e).height(),left:0,right:t(e).width()},a={width:n.width(),height:n.height(),offset:n.offset()},o={},s=[];return i=i||!1,a.offset&&i&&(v.verbose("Checking if outside viewable area",a.offset),o={top:a.offset.top<r.top,bottom:a.offset.top+a.height>r.bottom,right:a.offset.left+a.width>r.right,left:a.offset.left<r.left}),t.each(o,function(t,e){e&&s.push(t)}),s.length>0?s.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(t){var e=t.split(" "),n=e[0],i=e[1],r={top:"bottom",bottom:"top",left:"right",right:"left"},a={left:"center",center:"right",right:"left"},o={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,c=!1,l=!1,u=!1;return F||(v.verbose("All available positions available"),F=v.get.positions()),v.debug("Recording last position tried",t),F[t]=!0,"opposite"===b.prefer&&(u=[r[n],i],u=u.join(" "),c=F[u]===!0,v.debug("Trying opposite strategy",u)),"adjacent"===b.prefer&&s&&(u=[n,a[i]],u=u.join(" "),l=F[u]===!0,v.debug("Trying adjacent strategy",u)),(l||c)&&(v.debug("Using backup position",u),u=o[t]),u}},set:{position:function(r,a){var s,c,l,u=(t(e).width(),t(e).height(),M.outerWidth()),d=M.outerHeight(),f=n.outerWidth(),h=n.outerHeight(),g=o.outerWidth(),p=o.outerHeight(),m=b.distanceAway,y=M[0],k=b.inline?parseInt(e.getComputedStyle(y).getPropertyValue("margin-top"),10):0,T=b.inline?parseInt(e.getComputedStyle(y).getPropertyValue(v.is.rtl()?"margin-right":"margin-left"),10):0,A=b.inline||b.popup?M.position():M.offset();switch(r=r||C.data(_.position)||b.position,a=a||C.data(_.offset)||b.offset,L==b.maxSearchDepth&&b.lastResort&&(v.debug("Using last resort position to display",b.lastResort),r=b.lastResort),b.inline&&(v.debug("Adding targets margin to calculation"),"left center"==r||"right center"==r?(a+=k,m+=-T):"top left"==r||"top center"==r||"top right"==r?(a+=T,m-=k):(a+=T,m+=k)),v.debug("Calculating popup positioning",r),s=r,v.is.rtl()&&(s=s.replace(/left|right/g,function(t){return"left"==t?"right":"left"}),v.debug("RTL: Popup positioning updated",s)),s){case"top left":c={top:"auto",bottom:p-A.top+m,left:A.left+a,right:"auto"};break;case"top center":c={bottom:p-A.top+m,left:A.left+u/2-f/2+a,top:"auto",right:"auto"};break;case"top right":c={bottom:p-A.top+m,right:g-A.left-u-a,top:"auto",left:"auto"};break;case"left center":c={top:A.top+d/2-h/2+a,right:g-A.left+m,left:"auto",bottom:"auto"};break;case"right center":c={top:A.top+d/2-h/2+a,left:A.left+u+m,bottom:"auto",right:"auto"};break;case"bottom left":c={top:A.top+d+m,left:A.left+a,bottom:"auto",right:"auto"};break;case"bottom center":c={top:A.top+d+m,left:A.left+u/2-f/2+a,bottom:"auto",right:"auto"};break;case"bottom right":c={top:A.top+d+m,right:g-A.left-u-a,left:"auto",bottom:"auto"}}if(c===i&&v.error(w.invalidPosition,r),v.debug("Calculated popup positioning values",c),n.css(c).removeClass(x.position).addClass(r).addClass(x.loading),l=v.get.offstagePosition(r)){if(v.debug("Popup cant fit into viewport",l),L<b.maxSearchDepth)return L++,r=v.get.nextPosition(r),v.debug("Trying new position",r),n?v.set.position(r):!1;if(!b.lastResort)return v.debug("Popup could not find a position in view",n),v.remove.attempts(),v.remove.loading(),v.reset(),!1}return v.debug("Position is on stage",r),v.remove.attempts(),v.set.fluidWidth(),v.remove.loading(),!0},fluidWidth:function(){b.setFluidWidth&&n.hasClass(x.fluid)&&n.css("width",o.width())},visible:function(){C.addClass(x.visible)}},remove:{loading:function(){n.removeClass(x.loading)},visible:function(){C.removeClass(x.visible)},attempts:function(){v.verbose("Resetting all searched positions"),L=0,F=!1}},bind:{events:function(){v.debug("Binding popup events to module"),"click"==b.on?C.on("click"+T,v.toggle):v.get.startEvent()&&C.on(v.get.startEvent()+T,v.event.start).on(v.get.endEvent()+T,v.event.end),b.target&&v.debug("Target set to element",M),E.on("resize"+p,v.event.resize)},popup:function(){v.verbose("Allowing hover events on popup to prevent closing"),n&&v.has.popup()&&n.on("mouseenter"+T,v.event.start).on("mouseleave"+T,v.event.end)},close:function(){(b.hideOnScroll===!0||"auto"==b.hideOnScroll&&"click"!=b.on)&&(s.one(v.get.scrollEvent()+p,v.hideGracefully),S.one(v.get.scrollEvent()+p,v.hideGracefully)),"click"==b.on&&b.closable&&(v.verbose("Binding popup close event to document"),s.on("click"+p,function(t){v.verbose("Pop-up clickaway intent detected"),v.hideGracefully.call(P,t)}))}},unbind:{close:function(){(b.hideOnScroll===!0||"auto"==b.hideOnScroll&&"click"!=b.on)&&(s.off("scroll"+p,v.hide),S.off("scroll"+p,v.hide)),"click"==b.on&&b.closable&&(v.verbose("Removing close event from document"),s.off("click"+p))}},has:{popup:function(){return n&&n.length>0}},is:{active:function(){return C.hasClass(x.active)},animating:function(){return n&&n.is(":animated")||n.hasClass(x.animating)},visible:function(){return n&&n.is(":visible")},dropdown:function(){return C.hasClass(x.dropdown)},hidden:function(){return!v.is.visible()},rtl:function(){return"rtl"==C.css("direction")}},reset:function(){v.remove.visible(),b.preserve?t.fn.transition!==i&&n.transition("remove transition"):v.removePopup()},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,b,e);else{if(n===i)return b[e];b[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,v,e);else{if(n===i)return v[e];v[e]=n}},debug:function(){b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},verbose:function(){b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;b.performance&&(e=(new Date).getTime(),i=u||e,n=e-i,u=e,d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:P,"Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,100)},display:function(){var e=b.name+":",n=0;u=!1,clearTimeout(v.performance.timer),t.each(d,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",c&&(e+=" '"+c+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(e),console.table?console.table(d):t.each(d,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(e,n,r){var o,s,c,l=I;return n=n||g,r=P||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},h?(I===i&&v.initialize(),v.invoke(f)):(I!==i&&I.invoke("destroy"),v.initialize())}),a!==i?a:this},t.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",exclusive:!0,context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(t){var e=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(t){return i[t]};return n.test(t)?t.replace(e,r):t},popup:function(e){var n="",r=t.fn.popup.settings.templates.escape;return typeof e!==i&&(typeof e.title!==i&&e.title&&(e.title=r(e.title),n+='<div class="header">'+e.title+"</div>"),typeof e.content!==i&&e.content&&(e.content=r(e.content),n+='<div class="content">'+e.content+"</div>")),n}}},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}})}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.progress=function(e){var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,h=t.isPlainObject(e)?t.extend(!0,{},t.fn.progress.settings,e):t.extend({},t.fn.progress.settings),g=h.className,p=h.metadata,m=h.namespace,v=h.selector,b=h.error,y="."+m,x="module-"+m,w=t(this),_=t(this).find(v.bar),k=t(this).find(v.progress),T=t(this).find(v.label),A=this,C=w.data(x),S=!1;f={initialize:function(){f.debug("Initializing progress bar",h),a=f.get.transitionEnd(),f.read.metadata(),f.set.duration(),f.set.initials(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of progress",f),C=f,w.data(x,f)},destroy:function(){f.verbose("Destroying previous progress for",w),clearInterval(C.interval),f.remove.state(),w.removeData(x),C=i},reset:function(){f.set.percent(0)},complete:function(){(f.percent===i||f.percent<100)&&f.set.percent(100)},read:{metadata:function(){w.data(p.percent)&&(f.verbose("Current percent value set from metadata"),f.percent=w.data(p.percent)),w.data(p.total)&&(f.verbose("Total value set from metadata"),f.total=w.data(p.total)),w.data(p.value)&&(f.verbose("Current value set from metadata"),f.value=w.data(p.value))},currentValue:function(){return f.value!==i?f.value:!1}},increment:function(t){var e,n,i,r=f.total||!1;r?(n=f.value||0,t=t||1,i=n+t,e=f.total,f.debug("Incrementing value by",t,n,e),i>e&&(f.debug("Value cannot increment above total",e),i=e),f.set.progress(i)):(n=f.percent||0,t=t||f.get.randomValue(),i=n+t,e=100,f.debug("Incrementing percentage by",t,n),i>e&&(f.debug("Value cannot increment above 100 percent"),i=e),f.set.progress(i))},decrement:function(t){var e,n,i=f.total||!1,r=0;i?(e=f.value||0,t=t||1,n=e-t,f.debug("Decrementing value by",t,e)):(e=f.percent||0,t=t||f.get.randomValue(),n=e-t,f.debug("Decrementing percentage by",t,e)),r>n&&(f.debug("Value cannot decrement below 0"),n=0),f.set.progress(n)},get:{text:function(t){var e=f.value||0,n=f.total||0,i=f.is.visible()&&S?f.get.displayPercent():f.percent||0,r=f.total>0?n-e:100-i;return t=t||"",t=t.replace("{value}",e).replace("{total}",n).replace("{left}",r).replace("{percent}",i),f.debug("Adding variables to progress bar text",t),t},randomValue:function(){return f.debug("Generating random increment percentage"),Math.floor(Math.random()*h.random.max+h.random.min)},transitionEnd:function(){var t,e=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(e.style[t]!==i)return r[t]},displayPercent:function(){var t=_.width(),e=w.width(),n=parseInt(_.css("min-width"),10),i=t>n?t/e*100:f.percent;return Math.round(0===h.precision?i:10*i*h.precision/(10*h.precision))},percent:function(){return f.percent||0},value:function(){return f.value||!1},total:function(){return f.total||!1}},is:{success:function(){return w.hasClass(g.success)},warning:function(){return w.hasClass(g.warning)},error:function(){return w.hasClass(g.error)},active:function(){return w.hasClass(g.active)},visible:function(){return w.is(":visible")}},remove:{state:function(){f.verbose("Removing stored state"),delete f.total,delete f.percent,delete f.value},active:function(){f.verbose("Removing active state"),w.removeClass(g.active)},success:function(){f.verbose("Removing success state"),w.removeClass(g.success)},warning:function(){f.verbose("Removing warning state"),w.removeClass(g.warning)},error:function(){f.verbose("Removing error state"),w.removeClass(g.error)}},set:{barWidth:function(t){t>100?f.error(b.tooHigh,t):0>t?f.error(b.tooLow,t):(_.css("width",t+"%"),w.attr("data-percent",parseInt(t,10)))},duration:function(t){t=t||h.duration,t="number"==typeof t?t+"ms":t,f.verbose("Setting progress bar transition duration",t),_.css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},initials:function(){h.total!==!1&&(f.verbose("Current total set in settings",h.total),f.total=h.total),h.value!==!1&&(f.verbose("Current value set in settings",h.value),f.value=h.value),h.percent!==!1&&(f.verbose("Current percent set in settings",h.percent),f.percent=h.percent),f.percent!==i?f.set.percent(f.percent):f.value!==i&&f.set.progress(f.value)},percent:function(t){t="string"==typeof t?+t.replace("%",""):t,t>0&&1>t&&(f.verbose("Module percentage passed as decimal, converting"),t=100*t),t=Math.round(0===h.precision?t:10*t*h.precision/(10*h.precision)),f.percent=t,f.total?f.value=Math.round(t/100*f.total):h.limitValues&&(f.value=f.value>100?100:f.value<0?0:f.value),f.set.barWidth(t),f.is.visible()&&f.set.labelInterval(),f.set.labels(),h.onChange.call(A,t,f.value,f.total)},labelInterval:function(){var t=function(){f.verbose("Bar finished animating, removing continuous label updates"),clearInterval(f.interval),S=!1,f.set.labels()};clearInterval(f.interval),_.one(a+y,t),f.timer=setTimeout(t,h.duration+100),S=!0,f.interval=setInterval(f.set.labels,h.framerate)},labels:function(){f.verbose("Setting both bar progress and outer label text"),f.set.barLabel(),f.set.state()},label:function(t){t=t||"",t&&(t=f.get.text(t),f.debug("Setting label to text",t),T.text(t))},state:function(t){t=t!==i?t:f.percent,100===t?!h.autoSuccess||f.is.warning()||f.is.error()?(f.verbose("Reached 100% removing active state"),f.remove.active()):(f.set.success(),f.debug("Automatically triggering success at 100%")):t>0?(f.verbose("Adjusting active progress bar label",t),f.set.active()):(f.remove.active(),f.set.label(h.text.active))},barLabel:function(t){t!==i?k.text(f.get.text(t)):"ratio"==h.label&&f.total?(f.debug("Adding ratio to bar label"),k.text(f.get.text(h.text.ratio))):"percent"==h.label&&(f.debug("Adding percentage to bar label"),k.text(f.get.text(h.text.percent)))},active:function(t){t=t||h.text.active,f.debug("Setting active state"),h.showActivity&&!f.is.active()&&w.addClass(g.active),f.remove.warning(),f.remove.error(),f.remove.success(),t&&f.set.label(t),h.onActive.call(A,f.value,f.total)},success:function(t){t=t||h.text.success,f.debug("Setting success state"),w.addClass(g.success),f.remove.active(),f.remove.warning(),f.remove.error(),f.complete(),t&&f.set.label(t),h.onSuccess.call(A,f.total)},warning:function(t){t=t||h.text.warning,f.debug("Setting warning state"),w.addClass(g.warning),f.remove.active(),f.remove.success(),f.remove.error(),f.complete(),t&&f.set.label(t),h.onWarning.call(A,f.value,f.total)},error:function(t){t=t||h.text.error,f.debug("Setting error state"),w.addClass(g.error),f.remove.active(),f.remove.success(),f.remove.warning(),f.complete(),t&&f.set.label(t),h.onError.call(A,f.value,f.total)},total:function(t){f.total=t},progress:function(t){var e,n="string"==typeof t?""!==t.replace(/[^\d.]/g,"")?+t.replace(/[^\d.]/g,""):!1:t;n===!1&&f.error(b.nonNumeric,t),f.total?(f.value=n,e=n/f.total*100,f.debug("Calculating percent complete from total",e),f.set.percent(e)):(e=n,f.debug("Setting value to exact percentage value",e),f.set.percent(e))}},setting:function(e,n){if(f.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},debug:function(){h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;h.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:A,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var e=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=C;return n=n||d,a=A||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(f.error(b.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},u?(C===i&&f.initialize(),f.invoke(l)):(C!==i&&C.invoke("destroy"),f.initialize())}),r!==i?r:this},t.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(t,e,n){},onSuccess:function(t){},onActive:function(t,e){},onError:function(t,e){},onWarning:function(t,e){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.rating=function(e){var n,r=t(this),a=r.selector||"",o=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return r.each(function(){var d,f=t.isPlainObject(e)?t.extend(!0,{},t.fn.rating.settings,e):t.extend({},t.fn.rating.settings),h=f.namespace,g=f.className,p=f.metadata,m=f.selector,v=(f.error,"."+h),b="module-"+h,y=this,x=t(this).data(b),w=t(this),_=w.find(m.icon);d={initialize:function(){d.verbose("Initializing rating module",f),0===_.length&&d.setup.layout(),f.interactive?d.enable():d.disable(),f.initialRating&&(d.debug("Setting initial rating"),d.setRating(f.initialRating)),w.data(p.rating)&&(d.debug("Rating found in metadata"),d.setRating(w.data(p.rating))),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),x=d,w.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",x),w.removeData(b),_.off(v)},refresh:function(){_=w.find(m.icon)},setup:{layout:function(){var e=w.data(p.maxRating)||f.maxRating;d.debug("Generating icon html dynamically"),w.html(t.fn.rating.settings.templates.icon(e)),d.refresh()}},event:{mouseenter:function(){var e=t(this);e.nextAll().removeClass(g.selected),w.addClass(g.selected),e.addClass(g.selected).prevAll().addClass(g.selected)},mouseleave:function(){w.removeClass(g.selected),_.removeClass(g.selected)},click:function(){var e=t(this),n=d.getRating(),i=_.index(e)+1,r="auto"==f.clearable?1===_.length:f.clearable;r&&n==i?d.clearRating():d.setRating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.setRating(0)},getRating:function(){var t=_.filter("."+g.active).length;return d.verbose("Current rating retrieved",t),t},enable:function(){d.debug("Setting rating to interactive mode"),_.on("mouseenter"+v,d.event.mouseenter).on("mouseleave"+v,d.event.mouseleave).on("click"+v,d.event.click),w.removeClass(g.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),_.off(v),w.addClass(g.disabled)},setRating:function(t){var e=t-1>=0?t-1:0,n=_.eq(e);w.removeClass(g.selected),_.removeClass(g.selected).removeClass(g.active),t>0&&(d.verbose("Setting current rating to",t),n.prevAll().andSelf().addClass(g.active)),f.onRate.call(y,t)},setting:function(e,n){if(d.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,d,e);else{if(n===i)return d[e];d[e]=n}},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;f.performance&&(e=(new Date).getTime(),i=o||e,n=e-i,o=e,s.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:y,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var e=f.name+":",n=0;o=!1,clearTimeout(d.performance.timer),t.each(s,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",a&&(e+=" '"+a+"'"),r.length>1&&(e+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(e),console.table?console.table(s):t.each(s,function(t,e){
console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(e,r,a){var o,s,c,l=x;return r=r||u,a=y||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(a,r):s!==i&&(c=s),t.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},l?(x===i&&d.initialize(),d.invoke(c)):(x!==i&&x.invoke("destroy"),d.initialize())}),n!==i?n:this},t.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(t){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(t){for(var e=1,n="";t>=e;)n+='<i class="icon"></i>',e++;return n}}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.search=function(r){var a,o=t(this),s=o.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return t(this).each(function(){var h,g=t.extend(!0,{},t.fn.search.settings,r),p=g.className,m=g.metadata,v=g.regExp,b=g.selector,y=g.error,x=g.namespace,w="."+x,_=x+"-module",k=t(this),T=k.find(b.prompt),A=k.find(b.searchButton),C=k.find(b.results),S=(k.find(b.result),k.find(b.category),this),M=k.data(_);h={initialize:function(){h.verbose("Initializing module");var t=T[0],e=t!==i&&t.oninput!==i?"input":t!==i&&t.onpropertychange!==i?"propertychange":"keyup";g.automatic&&T.on(e+w,h.throttle).attr("autocomplete","off"),T.on("focus"+w,h.event.focus).on("blur"+w,h.event.blur).on("keydown"+w,h.handleKeyboard),A.on("click"+w,h.query),C.on("mousedown"+w,h.event.result.mousedown).on("mouseup"+w,h.event.result.mouseup).on("click"+w,b.result,h.event.result.click),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),M=h,k.data(_,h)},destroy:function(){h.verbose("Destroying instance"),k.removeData(_),T.off(w),A.off(w),C.off(w)},event:{focus:function(){h.set.focus(),clearTimeout(h.timer),h.throttle(),h.has.minimumCharacters()&&h.showResults()},blur:function(t){var e=n.activeElement===this;e||h.resultsClicked||(h.cancel.query(),h.remove.focus(),h.timer=setTimeout(h.hideResults,g.hideDelay))},result:{mousedown:function(){h.resultsClicked=!0},mouseup:function(){h.resultsClicked=!1},click:function(n){h.debug("Search result selected");var i=t(this),r=i.find(b.title).eq(0),a=i.find("a[href]").eq(0),o=a.attr("href")||!1,s=a.attr("target")||!1,c=(r.html(),r.length>0?r.text():!1),l=h.get.results(),u=h.get.result(c,l);return t.isFunction(g.onSelect)&&g.onSelect.call(S,u,l)===!1?void h.debug("Custom onSelect callback cancelled default select action"):(h.hideResults(),c&&h.set.value(c),void(o&&(h.verbose("Opening search link found in result",a),"_blank"==s||n.ctrlKey?e.open(o):e.location.href=o)))}}},handleKeyboard:function(t){var e,n=k.find(b.result),i=k.find(b.category),r=n.index(n.filter("."+p.active)),a=n.length,o=t.which,s={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(o==s.escape&&(h.verbose("Escape key pressed, blurring search field"),T.trigger("blur")),h.is.visible())if(o==s.enter){if(h.verbose("Enter key pressed, selecting active result"),n.filter("."+p.active).length>0)return h.event.result.click.call(n.filter("."+p.active),t),t.preventDefault(),!1}else o==s.upArrow?(h.verbose("Up key pressed, changing active result"),e=0>r-1?r:r-1,i.removeClass(p.active),n.removeClass(p.active).eq(e).addClass(p.active).closest(i).addClass(p.active),t.preventDefault()):o==s.downArrow&&(h.verbose("Down key pressed, changing active result"),e=r+1>=a?r:r+1,i.removeClass(p.active),n.removeClass(p.active).eq(e).addClass(p.active).closest(i).addClass(p.active),t.preventDefault());else o==s.enter&&(h.verbose("Enter key pressed, executing query"),h.query(),h.set.buttonPressed(),T.one("keyup",h.remove.buttonFocus))},setup:{api:function(){var t={on:!1,action:"search",onFailure:h.error};h.verbose("First request, initializing API"),k.api(t)}},can:{useAPI:function(){return t.fn.api!==i},transition:function(){return g.transition&&t.fn.transition!==i&&k.transition("is supported")}},is:{empty:function(){return""===C.html()},visible:function(){return C.filter(":visible").length>0},focused:function(){return T.filter(":focus").length>0}},get:{value:function(){return T.val()},results:function(){var t=k.data(m.results);return t},result:function(e,n){var i=!1;return e=e||h.get.value(),n=n||h.get.results(),"category"===g.type?(h.debug("Finding result that matches",e),t.each(n,function(n,r){return t.isArray(r.results)&&(i=h.search.object(e,r.results)[0],i&&i.length>0)?!0:void 0})):(h.debug("Finding result in results object",e),i=h.search.object(e,n)[0]),i}},set:{focus:function(){k.addClass(p.focus)},loading:function(){k.addClass(p.loading)},value:function(t){h.verbose("Setting search input value",t),T.val(t),h.query()},buttonPressed:function(){A.addClass(p.pressed)}},remove:{loading:function(){k.removeClass(p.loading)},focus:function(){k.removeClass(p.focus)},buttonPressed:function(){A.removeClass(p.pressed)}},query:function(){var e=h.get.value(),n=h.read.cache(e);n?(h.debug("Reading result for "+e+" from cache"),h.save.results(n.results),h.addResults(n.html)):(h.debug("Querying for "+e),t.isPlainObject(g.source)||t.isArray(g.source)?h.search.local(e):h.can.useAPI()?g.apiSettings?(h.debug("Searching with specified API settings",g.apiSettings),h.search.remote(e)):t.api.settings.api.search!==i?(h.debug("Searching with default search API endpoint"),h.search.remote(e)):h.error(y.noEndpoint):h.error(y.source),g.onSearchQuery.call(S,e))},search:{local:function(t){var e,n=h.search.object(t,g.content);h.set.loading(),h.save.results(n),h.debug("Returned local search results",n),e=h.generateResults({results:n}),h.remove.loading(),h.write.cache(t,{html:e,results:n}),h.addResults(e)},remote:function(e){var n={onSuccess:function(t){h.parse.response.call(S,t,e)},urlData:{query:e}};k.api("get request")||h.setup.api(),t.extend(!0,n,g.apiSettings),h.debug("Executing search",n),h.cancel.query(),k.api("setting",n).api("query")},object:function(e,n){var r=[],a=[],o=t.isArray(g.searchFields)?g.searchFields:[g.searchFields],s=e.replace(v.escape,"\\$&"),c=new RegExp(v.exact+s,"i");return n=n||g.source,n===i?(h.error(y.source),[]):(t.each(o,function(i,o){t.each(n,function(n,i){var s="string"==typeof i[o],l=-1==t.inArray(i,r)&&-1==t.inArray(i,a);s&&l&&(i[o].match(c)?r.push(i):g.searchFullText&&h.fuzzySearch(e,i[o])&&a.push(i))})}),t.merge(r,a))}},fuzzySearch:function(t,e){var n=e.length,i=t.length;if(t=t.toLowerCase(),e=e.toLowerCase(),i>n)return!1;if(i===n)return t===e;t:for(var r=0,a=0;i>r;r++){for(var o=t.charCodeAt(r);n>a;)if(e.charCodeAt(a++)===o)continue t;return!1}return!0},parse:{response:function(t,e){var n=h.generateResults(t);h.verbose("Parsing server response",t),t!==i&&e!==i&&t.results!==i&&(h.write.cache(e,{html:n,results:t.results}),h.save.results(t.results),h.addResults(n))}},throttle:function(){clearTimeout(h.timer),h.has.minimumCharacters()?h.timer=setTimeout(h.query,g.searchDelay):h.hideResults()},cancel:{query:function(){h.can.useAPI()&&k.api("abort")}},has:{minimumCharacters:function(){var t=h.get.value(),e=t.length;return e>=g.minCharacters}},read:{cache:function(t){var e=k.data(m.cache);return g.cache?(h.verbose("Checking cache for generated html for query",t),"object"==typeof e&&e[t]!==i?e[t]:!1):!1}},save:{results:function(t){h.verbose("Saving current search results to metadata",t),k.data(m.results,t)}},write:{cache:function(t,e){var n=k.data(m.cache)!==i?k.data(m.cache):{};g.cache&&(h.verbose("Writing generated html to cache",t,e),n[t]=e,k.data(m.cache,n))}},addResults:function(e){return t.isFunction(g.onResultsAdd)&&g.onResultsAdd.call(C,e)===!1?(h.debug("onResultsAdd callback cancelled default action"),!1):(C.html(e),void h.showResults())},showResults:function(){h.is.visible()||!h.is.focused()||h.is.empty()||(h.can.transition()?(h.debug("Showing results with css animations"),C.transition({animation:g.transition+" in",duration:g.duration,queue:!0})):(h.debug("Showing results with javascript"),C.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(C))},hideResults:function(){h.is.visible()&&(h.can.transition()?(h.debug("Hiding results with css animations"),C.transition({animation:g.transition+" out",duration:g.duration,queue:!0})):(h.debug("Hiding results with javascript"),C.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(C))},generateResults:function(e){h.debug("Generating html from response",e);var n=g.templates[g.type],i=t.isPlainObject(e.results)&&!t.isEmptyObject(e.results),r=t.isArray(e.results)&&e.results.length>0,a="";return i||r?(g.maxResults>0&&(i?"standard"==g.type&&h.error(y.maxResults):e.results=e.results.slice(0,g.maxResults)),t.isFunction(n)?a=n(e):h.error(y.noTemplate,!1)):a=h.displayMessage(y.noResults,"empty"),g.onResults.call(S,e),a},displayMessage:function(t,e){return e=e||"standard",h.debug("Displaying message",t,e),h.addResults(g.templates.message(t,e)),g.templates.message(t,e)},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},debug:function(){g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;g.performance&&(e=(new Date).getTime(),i=c||e,n=e-i,c=e,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:S,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var e=g.name+":",n=0;c=!1,clearTimeout(h.performance.timer),t.each(l,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",s&&(e+=" '"+s+"'"),o.length>1&&(e+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(e),console.table?console.table(l):t.each(l,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(e,n,r){var o,s,c,l=M;return n=n||f,r=S||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(M===i&&h.initialize(),h.invoke(u)):(M!==i&&M.invoke("destroy"),h.initialize())}),a!==i?a:this},t.fn.search.settings={name:"Search Module",namespace:"search",debug:!1,verbose:!0,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:"true",hideDelay:0,searchDelay:100,maxResults:7,cache:!0,transition:"scale",duration:300,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(t){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,exact:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(t){var e=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(t){return i[t]};return n.test(t)?t.replace(e,r):t},message:function(t,e){var n="";return t!==i&&e!==i&&(n+='<div class="message '+e+'">',n+="empty"==e?'<div class="header">No Results</div class="header"><div class="description">'+t+'</div class="description">':' <div class="description">'+t+"</div>",n+="</div>"),n},category:function(e){var n="",r=t.fn.search.settings.templates.escape;return e.results!==i?(t.each(e.results,function(e,a){a.results!==i&&a.results.length>0&&(n+='<div class="category"><div class="name">'+a.name+"</div>",t.each(a.results,function(t,e){n+='<div class="result">',e.url&&(n+='<a href="'+e.url+'"></a>'),e.image!==i&&(e.image=r(e.image),n+='<div class="image"> <img src="'+e.image+'" alt=""></div>'),n+='<div class="content">',e.price!==i&&(e.price=r(e.price),n+='<div class="price">'+e.price+"</div>"),e.title!==i&&(e.title=r(e.title),n+='<div class="title">'+e.title+"</div>"),e.description!==i&&(n+='<div class="description">'+e.description+"</div>"),n+="</div></div>"}),n+="</div>")}),e.action&&(n+='<a href="'+e.action.url+'" class="action">'+e.action.text+"</a>"),n):!1},standard:function(e){var n="";return e.results!==i?(t.each(e.results,function(t,e){n+=e.url?'<a class="result" href="'+e.url+'">':'<a class="result">',e.image!==i&&(n+='<div class="image"> <img src="'+e.image+'"></div>'),n+='<div class="content">',e.price!==i&&(n+='<div class="price">'+e.price+"</div>"),e.title!==i&&(n+='<div class="title">'+e.title+"</div>"),e.description!==i&&(n+='<div class="description">'+e.description+"</div>"),n+="</div>",n+="</a>"}),e.action&&(n+='<a href="'+e.action.url+'" class="action">'+e.action.text+"</a>"),n):!1}}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.shape=function(r){var a,o=t(this),s=(t("body"),(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)};return o.each(function(){var e,h,g,p=o.selector||"",m=t.extend(!0,{},t.fn.shape.settings,r),v=m.namespace,b=m.selector,y=m.error,x=m.className,w="."+v,_="module-"+v,k=t(this),T=k.find(b.sides),A=k.find(b.side),C=!1,S=this,M=k.data(_);g={initialize:function(){g.verbose("Initializing module for",S),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),M=g,k.data(_,M)},destroy:function(){g.verbose("Destroying previous module for",S),k.removeData(_).off(w)},refresh:function(){g.verbose("Refreshing selector cache for",S),k=t(S),T=t(this).find(b.shape),A=t(this).find(b.side)},repaint:function(){g.verbose("Forcing repaint event");{var t=T.get(0)||n.createElement("div");t.offsetWidth}},animate:function(t,n){g.verbose("Animating box with properties",t),n=n||function(t){g.verbose("Executing animation callback"),t!==i&&t.stopPropagation(),g.reset(),g.set.active()},m.beforeChange.call(h.get()),g.get.transitionEvent()?(g.verbose("Starting CSS animation"),k.addClass(x.animating),T.css(t).one(g.get.transitionEvent(),n),g.set.duration(m.duration),f(function(){k.addClass(x.animating),e.addClass(x.hidden)})):n()},queue:function(t){g.debug("Queueing animation of",t),T.one(g.get.transitionEvent(),function(){g.debug("Executing queued animation"),setTimeout(function(){k.shape(t)},0)})},reset:function(){g.verbose("Animating states reset"),k.removeClass(x.animating).attr("style","").removeAttr("style"),T.attr("style","").removeAttr("style"),A.attr("style","").removeAttr("style").removeClass(x.hidden),h.removeClass(x.animating).attr("style","").removeAttr("style")},is:{complete:function(){return A.filter("."+x.active)[0]==h[0]},animating:function(){return k.hasClass(x.animating)}},set:{defaultSide:function(){e=k.find("."+m.className.active),h=e.next(b.side).length>0?e.next(b.side):k.find(b.side).first(),C=!1,g.verbose("Active side set to",e),g.verbose("Next side set to",h)},duration:function(t){t=t||m.duration,t="number"==typeof t?t+"ms":t,g.verbose("Setting animation duration",t),T.add(A).css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},stageSize:function(){var t=k.clone().addClass(x.loading),e=t.find("."+m.className.active),n=C?t.find(b.side).eq(C):e.next(b.side).length>0?e.next(b.side):t.find(b.side).first(),i={};e.removeClass(x.active),n.addClass(x.active),t.insertAfter(k),i={width:n.outerWidth(),height:n.outerHeight()},t.remove(),k.css(i),g.verbose("Resizing stage to fit new content",i)},nextSide:function(t){C=t,h=A.filter(t),C=A.index(h),0===h.length&&(g.set.defaultSide(),g.error(y.side)),g.verbose("Next side manually set to",h)},active:function(){g.verbose("Setting new side to active",h),A.removeClass(x.active),h.addClass(x.active),m.onChange.call(h.get()),g.set.defaultSide()}},flip:{up:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip up"):(g.debug("Flipping up",h),g.set.stageSize(),g.stage.above(),g.animate(g.get.transform.up()))):void g.debug("Side already visible",h)},down:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip down"):(g.debug("Flipping down",h),g.set.stageSize(),g.stage.below(),g.animate(g.get.transform.down()))):void g.debug("Side already visible",h)},left:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip left"):(g.debug("Flipping left",h),g.set.stageSize(),g.stage.left(),g.animate(g.get.transform.left()))):void g.debug("Side already visible",h)},right:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip right"):(g.debug("Flipping right",h),g.set.stageSize(),g.stage.right(),g.animate(g.get.transform.right()))):void g.debug("Side already visible",h)},over:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip over"):(g.debug("Flipping over",h),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over()))):void g.debug("Side already visible",h)},back:function(){return!g.is.complete()||g.is.animating()||m.allowRepeats?void(g.is.animating()?g.queue("flip back"):(g.debug("Flipping back",h),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back()))):void g.debug("Side already visible",h)}},get:{transform:{up:function(){var t={y:-((e.outerHeight()-h.outerHeight())/2),z:-(e.outerHeight()/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(-90deg)"}},down:function(){var t={y:-((e.outerHeight()-h.outerHeight())/2),z:-(e.outerHeight()/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(90deg)"}},left:function(){var t={x:-((e.outerWidth()-h.outerWidth())/2),z:-(e.outerWidth()/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(90deg)"}},right:function(){var t={x:-((e.outerWidth()-h.outerWidth())/2),z:-(e.outerWidth()/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(-90deg)"}},over:function(){var t={x:-((e.outerWidth()-h.outerWidth())/2)};return{transform:"translateX("+t.x+"px) rotateY(180deg)"}},back:function(){var t={x:-((e.outerWidth()-h.outerWidth())/2)};return{transform:"translateX("+t.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var t,e=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(e.style[t]!==i)return r[t]},nextSide:function(){return e.next(b.side).length>0?e.next(b.side):k.find(b.side).first()}},stage:{above:function(){var t={origin:(e.outerHeight()-h.outerHeight())/2,depth:{active:h.outerHeight()/2,next:e.outerHeight()/2}};g.verbose("Setting the initial animation position as above",h,t),e.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),h.addClass(x.animating).css({display:"block",top:t.origin+"px",transform:"rotateX(90deg) translateZ("+t.depth.next+"px)"})},below:function(){var t={origin:(e.outerHeight()-h.outerHeight())/2,depth:{active:h.outerHeight()/2,next:e.outerHeight()/2}};g.verbose("Setting the initial animation position as below",h,t),e.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),h.addClass(x.animating).css({display:"block",top:t.origin+"px",transform:"rotateX(-90deg) translateZ("+t.depth.next+"px)"})},left:function(){var t={origin:(e.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:e.outerWidth()/2}};g.verbose("Setting the initial animation position as left",h,t),e.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),h.addClass(x.animating).css({display:"block",left:t.origin+"px",transform:"rotateY(-90deg) translateZ("+t.depth.next+"px)"})},right:function(){var t={origin:(e.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:e.outerWidth()/2}};g.verbose("Setting the initial animation position as left",h,t),e.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),h.addClass(x.animating).css({display:"block",left:t.origin+"px",transform:"rotateY(90deg) translateZ("+t.depth.next+"px)"})},behind:function(){var t={origin:(e.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:e.outerWidth()/2}};g.verbose("Setting the initial animation position as behind",h,t),e.css({transform:"rotateY(0deg)"}),h.addClass(x.animating).css({display:"block",left:t.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(e,n){if(g.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,m,e);else{if(n===i)return m[e];m[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},debug:function(){m.debug&&(m.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,m.name+":"),g.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,m.name+":"),g.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;m.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:S,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var e=m.name+":",n=0;s=!1,clearTimeout(g.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",p&&(e+=" '"+p+"'"),o.length>1&&(e+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,r){var o,s,c,l=M;return n=n||d,r=S||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},u?(M===i&&g.initialize(),g.invoke(l)):(M!==i&&M.invoke("destroy"),g.initialize())}),a!==i?a:this},t.fn.shape.settings={name:"Shape",debug:!1,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.sidebar=function(r){var a,o=t(this),s=t(e),c=t(n),l=t("html"),u=t("head"),d=o.selector||"",f=(new Date).getTime(),h=[],g=arguments[0],p="string"==typeof g,m=[].slice.call(arguments,1),v=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)};return o.each(function(){var o,b,y,x,w,_,k=t.isPlainObject(r)?t.extend(!0,{},t.fn.sidebar.settings,r):t.extend({},t.fn.sidebar.settings),T=k.selector,A=k.className,C=k.namespace,S=k.regExp,M=k.error,E="."+C,D="module-"+C,L=t(this),F=t(k.context),P=L.children(T.sidebar),I=F.children(T.fixed),N=F.children(T.pusher),O=this,R=L.data(D);_={initialize:function(){_.debug("Initializing sidebar",r),_.create.id(),w=_.get.transitionEvent(),("auto"==k.useLegacy&&_.is.legacy()||k.useLegacy===!0)&&(k.transition="overlay",k.useLegacy=!0),_.is.ios()&&_.set.ios(),k.delaySetup?v(_.setup.layout):_.setup.layout(),_.instantiate()},instantiate:function(){_.verbose("Storing instance of module",_),R=_,L.data(D,_)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,_.verbose("Creating unique id for element",y)}},destroy:function(){_.verbose("Destroying previous module for",L),_.remove.direction(),L.off(E).removeData(D),F.off(b),s.off(b),c.off(b)},event:{clickaway:function(t){var e=N.find(t.target).length>0||N.is(t.target),n=F.is(t.target);e&&(_.verbose("User clicked on dimmed page"),_.hide()),n&&(_.verbose("User clicked on dimmable context (scaled out page)"),_.hide())},touch:function(t){},containScroll:function(t){O.scrollTop<=0&&(O.scrollTop=1),O.scrollTop+O.offsetHeight>=O.scrollHeight&&(O.scrollTop=O.scrollHeight-O.offsetHeight-1)},scroll:function(e){0===t(e.target).closest(T.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){_.verbose("Adding clickaway events to context",F),k.closable&&F.on("click"+b,_.event.clickaway).on("touchend"+b,_.event.clickaway)},scrollLock:function(){k.scrollLock&&(_.debug("Disabling page scroll"),s.on("DOMMouseScroll"+b,_.event.scroll)),_.verbose("Adding events to contain sidebar scroll"),c.on("touchmove"+b,_.event.touch),L.on("scroll"+E,_.event.containScroll)}},unbind:{clickaway:function(){_.verbose("Removing clickaway events from context",F),F.off(b)},scrollLock:function(){_.verbose("Removing scroll lock from page"),c.off(b),s.off(b),L.off("scroll"+E)}},add:{bodyCSS:function(){var e,n=L.outerWidth(),i=L.outerHeight(),r=_.get.direction(),a={left:n,right:-n,top:i,bottom:-i};_.is.rtl()&&(_.verbose("RTL detected, flipping widths"),a.left=-n,a.right=n),e='<style title="'+C+'">',"left"===r||"right"===r?(_.debug("Adding CSS rules for animation distance",n),e+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):("top"===r||"bottom"==r)&&(e+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),_.is.ie()&&("left"===r||"right"===r?(_.debug("Adding CSS rules for animation distance",n),e+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):("top"===r||"bottom"==r)&&(e+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),e+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),e+="</style>",u.append(e),o=t("style[title="+C+"]"),_.debug("Adding sizing css to head",o)}},refresh:function(){_.verbose("Refreshing selector cache"),F=t(k.context),P=F.children(T.sidebar),N=F.children(T.pusher),I=F.children(T.fixed)},refreshSidebars:function(){_.verbose("Refreshing other sidebars"),P=F.children(T.sidebar)},repaint:function(){_.verbose("Forcing repaint event"),O.style.display="none",O.offsetHeight,O.scrollTop=O.scrollTop,O.style.display=""},setup:{layout:function(){0===F.children(T.pusher).length&&(_.debug("Adding wrapper element for sidebar"),_.error(M.pusher),N=t('<div class="pusher" />'),F.children().not(T.omitted).not(P).wrapAll(N),_.refresh()),(0===L.nextAll(T.pusher).length||L.nextAll(T.pusher)[0]!==N[0])&&(_.debug("Moved sidebar to correct parent element"),_.error(M.movedSidebar,O),L.detach().prependTo(F),_.refresh()),_.set.pushable(),_.set.direction()}},attachEvents:function(e,n){var i=t(e);n=t.isFunction(_[n])?_[n]:_.toggle,i.length>0?(_.debug("Attaching sidebar events to element",e,n),i.on("click"+E,n)):_.error(M.notFound,e)},show:function(e){var n=k.useLegacy===!0?_.legacyPushPage:_.pushPage;if(e=t.isFunction(e)?e:function(){},_.is.hidden()){if(_.refreshSidebars(),k.overlay&&(_.error(M.overlay),k.transition="overlay"),_.refresh(),_.othersActive())if(_.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void _.hideOthers(_.show);_.hideOthers()}else k.transition="overlay";n(function(){e.call(O),k.onShow.call(O)}),k.onChange.call(O),k.onVisible.call(O)}else _.debug("Sidebar is already visible")},hide:function(e){var n=k.useLegacy===!0?_.legacyPullPage:_.pullPage;e=t.isFunction(e)?e:function(){},(_.is.visible()||_.is.animating())&&(_.debug("Hiding sidebar",e),_.refreshSidebars(),n(function(){e.call(O),k.onHidden.call(O)}),k.onChange.call(O),k.onHide.call(O))},othersAnimating:function(){return P.not(L).filter("."+A.animating).length>0},othersVisible:function(){return P.not(L).filter("."+A.visible).length>0},othersActive:function(){return _.othersVisible()||_.othersAnimating()},hideOthers:function(t){var e=P.not(L).filter("."+A.visible),n=e.length,i=0;t=t||function(){},e.sidebar("hide",function(){i++,i==n&&t()})},toggle:function(){_.verbose("Determining toggled direction"),_.is.hidden()?_.show():_.hide()},pushPage:function(e){var n,i,r=_.get.transition(),a="safe"==r?F:"overlay"===r||_.othersActive()?L:N;e=t.isFunction(e)?e:function(){},"scale down"==k.transition&&_.scrollToTop(),_.set.transition(r),_.repaint(),n=function(){_.bind.clickaway(),_.add.bodyCSS(),_.set.animating(),_.set.visible(),_.othersVisible()||k.dimPage&&N.addClass(A.dimmed)},i=function(t){t.target==a[0]&&(a.off(w+b,i),_.remove.animating(),_.bind.scrollLock(),e.call(O))},a.off(w+b),a.on(w+b,i),v(n)},pullPage:function(e){var n,i,r=_.get.transition(),a="safe"==r?F:"overlay"==r||_.othersActive()?L:N;e=t.isFunction(e)?e:function(){},_.verbose("Removing context push state",_.get.direction()),_.set.transition(r),_.unbind.clickaway(),_.unbind.scrollLock(),n=function(){_.set.animating(),_.remove.visible(),k.dimPage&&!_.othersVisible()&&N.removeClass(A.dimmed)},i=function(t){t.target==a[0]&&(a.off(w+b,i),_.remove.animating(),_.remove.transition(),_.remove.bodyCSS(),("scale down"==r||k.returnScroll&&_.is.mobile())&&_.scrollBack(),e.call(O))},a.off(w+b),a.on(w+b,i),v(n)},legacyPushPage:function(e){var n=L.width(),i=_.get.direction(),r={};n=n||L.width(),e=t.isFunction(e)?e:function(){},r[i]=n,_.debug("Using javascript to push context",r),_.set.visible(),_.set.transition(),_.set.animating(),
k.dimPage&&N.addClass(A.dimmed),F.css("position","relative").animate(r,k.duration,k.easing,function(){_.remove.animating(),_.bind.clickaway(),e.call(O)})},legacyPullPage:function(e){var n=0,i=_.get.direction(),r={};n=n||L.width(),e=t.isFunction(e)?e:function(){},r[i]="0px",_.debug("Using javascript to pull context",r),_.unbind.clickaway(),_.set.animating(),_.remove.visible(),k.dimPage&&!_.othersActive()&&N.removeClass(A.dimmed),F.css("position","relative").animate(r,k.duration,k.easing,function(){_.remove.animating(),e.call(O)})},scrollToTop:function(){_.verbose("Scrolling to top of page to avoid animation issues"),x=t(e).scrollTop(),L.scrollTop(0),e.scrollTo(0,0)},scrollBack:function(){_.verbose("Scrolling back to original page position"),e.scrollTo(0,x)},set:{ios:function(){l.addClass(A.ios)},pushed:function(){F.addClass(A.pushed)},pushable:function(){F.addClass(A.pushable)},active:function(){L.addClass(A.active)},animating:function(){L.addClass(A.animating)},transition:function(t){t=t||_.get.transition(),L.addClass(t)},direction:function(t){t=t||_.get.direction(),L.addClass(A[t])},visible:function(){L.addClass(A.visible)},overlay:function(){L.addClass(A.overlay)}},remove:{bodyCSS:function(){_.debug("Removing body css styles",o),o&&o.length>0&&o.remove()},pushed:function(){F.removeClass(A.pushed)},pushable:function(){F.removeClass(A.pushable)},active:function(){L.removeClass(A.active)},animating:function(){L.removeClass(A.animating)},transition:function(t){t=t||_.get.transition(),L.removeClass(t)},direction:function(t){t=t||_.get.direction(),L.removeClass(A[t])},visible:function(){L.removeClass(A.visible)},overlay:function(){L.removeClass(A.overlay)}},get:{direction:function(){return L.hasClass(A.top)?A.top:L.hasClass(A.right)?A.right:L.hasClass(A.bottom)?A.bottom:A.left},transition:function(){var t,e=_.get.direction();return t=_.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[e]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[e]:k.transition,_.verbose("Determined transition",t),t},transitionEvent:function(){var t,e=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(e.style[t]!==i)return r[t]}},is:{ie:function(){var t=!e.ActiveXObject&&"ActiveXObject"in e,n="ActiveXObject"in e;return t||n},legacy:function(){var t,r=n.createElement("div"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(r,null);for(var o in a)r.style[o]!==i&&(r.style[o]="translate3d(1px,1px,1px)",t=e.getComputedStyle(r).getPropertyValue(a[o]));return n.body.removeChild(r),!(t!==i&&t.length>0&&"none"!==t)},ios:function(){var t=navigator.userAgent,e=t.match(S.ios);return e?(_.verbose("Browser was found to be iOS",t),!0):!1},mobile:function(){var t=navigator.userAgent,e=t.match(S.mobile);return e?(_.verbose("Browser was found to be mobile",t),!0):(_.verbose("Browser is not mobile, using regular transition",t),!1)},hidden:function(){return!_.is.visible()},visible:function(){return L.hasClass(A.visible)},open:function(){return _.is.visible()},closed:function(){return _.is.hidden()},vertical:function(){return L.hasClass(A.top)},animating:function(){return F.hasClass(A.animating)},rtl:function(){return"rtl"==L.css("direction")}},setting:function(e,n){if(_.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,k,e);else{if(n===i)return k[e];k[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,_,e);else{if(n===i)return _[e];_[e]=n}},debug:function(){k.debug&&(k.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,k.name+":"),_.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,k.name+":"),_.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;k.performance&&(e=(new Date).getTime(),i=f||e,n=e-i,f=e,h.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:O,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,100)},display:function(){var e=k.name+":",n=0;f=!1,clearTimeout(_.performance.timer),t.each(h,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",d&&(e+=" '"+d+"'"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(e),console.table?console.table(h):t.each(h,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(e,n,r){var o,s,c,l=R;return n=n||m,r=O||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(_.error(M.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},p?(R===i&&_.initialize(),_.invoke(g)):(R!==i&&_.invoke("destroy"),_.initialize())}),a!==i?a:this},t.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!0,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:"auto",duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},t.extend(t.easing,{easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n}})}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.sticky=function(n){var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,h,g=t.isPlainObject(n)?t.extend(!0,{},t.fn.sticky.settings,n):t.extend({},t.fn.sticky.settings),p=g.className,m=g.namespace,v=g.error,b="."+m,y="module-"+m,x=t(this),w=t(e),_=x.offsetParent(),k=t(g.scrollContext),T=(x.selector||"",x.data(y)),A=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)},C=this;h={initialize:function(){h.determineContext(),h.verbose("Initializing sticky",g,_),h.save.positions(),h.checkErrors(),h.bind.events(),g.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),T=h,x.data(y,h)},destroy:function(){h.verbose("Destroying previous instance"),h.reset(),f&&f.disconnect(),w.off("load"+b,h.event.load).off("resize"+b,h.event.resize),k.off("scrollchange"+b,h.event.scrollchange),x.removeData(y)},observeChanges:function(){var t=a[0];"MutationObserver"in e&&(f=new MutationObserver(function(t){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)}),f.observe(C,{childList:!0,subtree:!0}),f.observe(t,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",f))},determineContext:function(){return a=g.context?t(g.context):_,0===a.length?void h.error(v.invalidContext,g.context,x):void 0},checkErrors:function(){return h.is.hidden()&&h.error(v.visible,x),h.cache.element.height>h.cache.context.height?(h.reset(),void h.error(v.elementSize,x)):void 0},bind:{events:function(){w.on("load"+b,h.event.load).on("resize"+b,h.event.resize),k.off("scroll"+b).on("scroll"+b,h.event.scroll).on("scrollchange"+b,h.event.scrollchange)}},event:{load:function(){h.verbose("Page contents finished loading"),A(h.refresh)},resize:function(){h.verbose("Window resized"),A(h.refresh)},scroll:function(){A(function(){k.trigger("scrollchange"+b,k.scrollTop())})},scrollchange:function(t,e){h.stick(e),g.onScroll.call(C)}},refresh:function(t){h.reset(),t&&(_=x.offsetParent()),h.save.positions(),h.stick(),g.onReposition.call(C)},supports:{sticky:function(){{var e=t("<div/>");e.get()}return e.addClass(p.supported),e.css("position").match("sticky")}},save:{lastScroll:function(t){h.lastScroll=t},positions:function(){var t={height:w.height()},e={margin:{top:parseInt(x.css("margin-top"),10),bottom:parseInt(x.css("margin-bottom"),10)},offset:x.offset(),width:x.outerWidth(),height:x.outerHeight()},n={offset:a.offset(),height:a.outerHeight(),bottomPadding:parseInt(a.css("padding-bottom"),10)};h.cache={fits:e.height<t.height,window:{height:t.height},element:{margin:e.margin,top:e.offset.top-e.margin.top,left:e.offset.left,width:e.width,height:e.height,bottom:e.offset.top+e.height},context:{top:n.offset.top,height:n.height,bottomPadding:n.bottomPadding,bottom:n.offset.top+n.height-n.bottomPadding}},h.set.containerSize(),h.set.size(),h.stick(),h.debug("Caching element positions",h.cache)}},get:{direction:function(t){var e="down";return t=t||k.scrollTop(),h.lastScroll!==i&&(h.lastScroll<t?e="down":h.lastScroll>t&&(e="up")),e},scrollChange:function(t){return t=t||k.scrollTop(),h.lastScroll?t-h.lastScroll:0},currentElementScroll:function(){return h.is.top()?Math.abs(parseInt(x.css("top"),10))||0:Math.abs(parseInt(x.css("bottom"),10))||0},elementScroll:function(t){t=t||k.scrollTop();var e,n=h.cache.element,i=h.cache.window,r=h.get.scrollChange(t),a=n.height-i.height+g.offset,e=h.get.currentElementScroll(),o=e+r;return e=h.cache.fits||0>o?0:o>a?a:o}},remove:{offset:function(){x.css("margin-top","")}},set:{offset:function(){h.verbose("Setting offset on element",g.offset),x.css("margin-top",g.offset)},containerSize:function(){var t=_.get(0).tagName;"HTML"===t||"body"==t?_=x.offsetParent():Math.abs(_.height()-h.cache.context.height)>5&&(h.debug("Context has padding, specifying exact height for container",h.cache.context.height),_.css({height:h.cache.context.height}))},scroll:function(t){h.debug("Setting scroll on element",t),h.is.top()&&x.css("bottom","").css("top",-t),h.is.bottom()&&x.css("top","").css("bottom",t)},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&x.css({width:h.cache.element.width,height:h.cache.element.height})}},is:{top:function(){return x.hasClass(p.top)},bottom:function(){return x.hasClass(p.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!x.is(":visible")},bound:function(){return x.hasClass(p.bound)},fixed:function(){return x.hasClass(p.fixed)}},stick:function(t){var e=t||k.scrollTop(),n=h.cache,i=n.fits,r=n.element,a=n.window,o=n.context,s=h.is.bottom()&&g.pushing?g.bottomOffset:g.offset,t={top:e+s,bottom:e+s+a.height},c=(h.get.direction(t.top),i?0:h.get.elementScroll(t.top)),l=!i,u=0!==r.height;h.save.lastScroll(t.top),u&&(h.is.initialPosition()?t.top>=o.bottom?(h.debug("Element bottom of container"),h.bindBottom()):t.top>=r.top&&(h.debug("Element passed, fixing element to page"),h.fixTop()):h.is.fixed()?h.is.top()?t.top<r.top?(h.debug("Fixed element reached top of container"),h.setInitialPosition()):r.height+t.top-c>o.bottom?(h.debug("Fixed element reached bottom of container"),h.bindBottom()):l&&h.set.scroll(c):h.is.bottom()&&(t.bottom-r.height<r.top?(h.debug("Bottom fixed rail has reached top of container"),h.setInitialPosition()):t.bottom>o.bottom?(h.debug("Bottom fixed rail has reached bottom of container"),h.bindBottom()):l&&h.set.scroll(c)):h.is.bottom()&&(g.pushing?h.is.bound()&&t.bottom<o.bottom&&(h.debug("Fixing bottom attached element to bottom of browser."),h.fixBottom()):h.is.bound()&&t.top<o.bottom-r.height&&(h.debug("Fixing bottom attached element to top of browser."),h.fixTop())))},bindTop:function(){h.debug("Binding element to top of parent container"),h.remove.offset(),x.css("left","").css("top","").css("margin-bottom","").removeClass(p.fixed).removeClass(p.bottom).addClass(p.bound).addClass(p.top),g.onTop.call(C),g.onUnstick.call(C)},bindBottom:function(){h.debug("Binding element to bottom of parent container"),h.remove.offset(),x.css("left","").css("top","").css("margin-bottom",h.cache.context.bottomPadding).removeClass(p.fixed).removeClass(p.top).addClass(p.bound).addClass(p.bottom),g.onBottom.call(C),g.onUnstick.call(C)},setInitialPosition:function(){h.unfix(),h.unbind()},fixTop:function(){h.debug("Fixing element to top of page"),h.set.offset(),x.css("left",h.cache.element.left).css("bottom","").removeClass(p.bound).removeClass(p.bottom).addClass(p.fixed).addClass(p.top),g.onStick.call(C)},fixBottom:function(){h.debug("Sticking element to bottom of page"),h.set.offset(),x.css("left",h.cache.element.left).css("bottom","").removeClass(p.bound).removeClass(p.top).addClass(p.fixed).addClass(p.bottom),g.onStick.call(C)},unbind:function(){h.debug("Removing absolute position on element"),h.remove.offset(),x.removeClass(p.bound).removeClass(p.top).removeClass(p.bottom)},unfix:function(){h.debug("Removing fixed position on element"),h.remove.offset(),x.removeClass(p.fixed).removeClass(p.top).removeClass(p.bottom),g.onUnstick.call(C)},reset:function(){h.debug("Reseting elements position"),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset()},resetCSS:function(){x.css({width:"",height:""}),_.css({height:""})},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},debug:function(){g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;g.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:C,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var e=g.name+":",n=0;s=!1,clearTimeout(h.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=T;return n=n||d,a=C||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},u?(T===i&&h.initialize(),h.invoke(l)):(T!==i&&T.invoke("destroy"),h.initialize())}),r!==i?r:this},t.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:e,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.tab=function(n){var r,a,o=t(t.isFunction(this)?e:this),s=t.isPlainObject(n)?t.extend(!0,{},t.fn.tab.settings,n):t.extend({},t.fn.tab.settings),c=o.selector||"",l=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,h=[].slice.call(arguments,1);return o.each(function(){var n,g,p,m,v,b=s.className,y=s.metadata,x=s.selector,w=s.error,_="."+s.namespace,k="module-"+s.namespace,T=t(this),A={},C=!0,S=0,M=this,E=T.data(k);r={initialize:function(){r.debug("Initializing tab menu item",T),r.determineTabs(),r.debug("Determining tabs",s.context,g),s.auto&&r.set.auto(),t.isWindow(M)||(r.debug("Attaching tab activation events to element",T),T.on("click"+_,r.event.click)),r.instantiate()},determineTabs:function(){var e;"parent"===s.context?(T.closest(x.ui).length>0?(e=T.closest(x.ui),r.verbose("Using closest UI element for determining parent",e)):e=T,n=e.parent(),r.verbose("Determined parent element for creating context",n)):s.context?(n=t(s.context),r.verbose("Using selector for tab context",s.context,n)):n=t("body"),s.childrenOnly?(g=n.children(x.tabs),r.debug("Searching tab context children for tabs",n,g)):(g=n.find(x.tabs),r.debug("Searching tab context for tabs",n,g))},initializeHistory:function(){if(s.history){if(r.debug("Initializing page state"),t.address===i)return r.error(w.state),!1;if("state"==s.historyType){if(r.debug("Using HTML5 to manage state"),s.path===!1)return r.error(w.path),!1;t.address.history(!0).state(s.path)}t.address.bind("change",r.event.history.change)}},instantiate:function(){r.verbose("Storing instance of module",r),E=r,T.data(k,r)},destroy:function(){r.debug("Destroying tabs",T),T.removeData(k).off(_)},event:{click:function(e){var n=t(this).data(y.tab);n!==i?(s.history?(r.verbose("Updating page state",e),t.address.value(n)):(r.verbose("Changing tab",e),r.changeTab(n)),e.preventDefault()):r.debug("No tab specified")},history:{change:function(e){var n=e.pathNames.join("/")||r.get.initialPath(),a=s.templates.determineTitle(n)||!1;r.performance.display(),r.debug("History change event",n,e),v=e,n!==i&&r.changeTab(n),a&&t.address.title(a)}}},refresh:function(){p&&(r.debug("Refreshing tab",p),r.changeTab(p))},cache:{read:function(t){return t!==i?A[t]:!1},add:function(t,e){t=t||p,r.debug("Adding cached content for",t),A[t]=e},remove:function(t){t=t||p,r.debug("Removing cached content for",t),delete A[t]}},set:{auto:function(){var e="string"==typeof s.path?s.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";r.verbose("Setting up automatic tab retrieval from server",e),t.isPlainObject(s.apiSettings)?s.apiSettings.url=e:s.apiSettings={url:e}},state:function(e){t.address.value(e)}},changeTab:function(i){var a=e.history&&e.history.pushState,o=a&&s.ignoreFirstLoad&&C,c=s.auto||t.isPlainObject(s.apiSettings),l=c&&!o?r.utilities.pathToArray(i):r.get.defaultPathArray(i);i=r.utilities.arrayToPath(l),t.each(l,function(e,a){var u,d,f,h,g=l.slice(0,e+1),b=r.utilities.arrayToPath(g),y=r.is.tab(b),x=e+1==l.length,_=r.get.tabElement(b);if(r.verbose("Looking for tab",a),y){if(r.verbose("Tab was found",a),p=b,m=r.utilities.filterArray(l,g),x?h=!0:(d=l.slice(0,e+2),f=r.utilities.arrayToPath(d),h=!r.is.tab(f),h&&r.verbose("Tab parameters found",d)),h&&c)return o?(r.debug("Ignoring remote content on first tab load",b),C=!1,r.cache.add(i,_.html()),r.activate.all(b),s.onTabInit.call(_,b,m,v),s.onTabLoad.call(_,b,m,v)):(r.activate.navigation(b),r.content.fetch(b,i)),!1;r.debug("Opened local tab",b),r.activate.all(b),r.cache.read(b)||(r.cache.add(b,!0),r.debug("First time tab loaded calling tab init"),s.onTabInit.call(_,b,m,v)),s.onTabLoad.call(_,b,m,v)}else{if(-1!=i.search("/")||""===i)return r.error(w.missingTab,T,n,b),!1;if(u=t("#"+i+', a[name="'+i+'"]'),b=u.closest("[data-tab]").data("tab"),_=r.get.tabElement(b),u&&u.length>0&&b)return r.debug("No tab found, but deep anchor link present, opening parent tab"),r.activate.all(b),r.cache.read(b)||(r.cache.add(b,!0),r.debug("First time tab loaded calling tab init"),s.onTabInit.call(_,b,m,v)),!1}})},content:{fetch:function(e,n){var a,o,c=r.get.tabElement(e),l={dataType:"html",on:"now",onSuccess:function(t){r.cache.add(n,t),r.content.update(e,t),e==p?(r.debug("Content loaded",e),r.activate.tab(e)):r.debug("Content loaded in background",e),s.onTabInit.call(c,e,m,v),s.onTabLoad.call(c,e,m,v)},urlData:{tab:n}},u=c.api("get request")||!1,d=u&&"pending"===u.state();n=n||e,o=r.cache.read(n),r.activate.tab(e),s.cache&&o?(r.debug("Showing existing content",n),r.content.update(e,o),s.onTabLoad.call(c,e,m,v)):d?(r.debug("Content is already loading",n),c.addClass(b.loading)):t.api!==i?(a=t.extend(!0,{headers:{"X-Remote":!0}},s.apiSettings,l),r.debug("Retrieving remote content",n,a),c.api(a)):r.error(w.api)},update:function(t,e){r.debug("Updating html for",t);var n=r.get.tabElement(t);n.html(e)}},activate:{all:function(t){r.activate.tab(t),r.activate.navigation(t)},tab:function(t){var e=r.get.tabElement(t);r.verbose("Showing tab content for",e),e.addClass(b.active).siblings(g).removeClass(b.active+" "+b.loading)},navigation:function(t){var e=r.get.navElement(t);r.verbose("Activating tab navigation for",e,t),e.addClass(b.active).siblings(o).removeClass(b.active+" "+b.loading)}},deactivate:{all:function(){r.deactivate.navigation(),r.deactivate.tabs()},navigation:function(){o.removeClass(b.active)},tabs:function(){g.removeClass(b.active+" "+b.loading)}},is:{tab:function(t){return t!==i?r.get.tabElement(t).length>0:!1}},get:{initialPath:function(){return o.eq(0).data(y.tab)||g.eq(0).data(y.tab)},path:function(){return t.address.value()},defaultPathArray:function(t){return r.utilities.pathToArray(r.get.defaultPath(t))},defaultPath:function(t){var e=o.filter("[data-"+y.tab+'^="'+t+'/"]').eq(0),n=e.data(y.tab)||!1;if(n){if(r.debug("Found default tab",n),S<s.maxDepth)return S++,r.get.defaultPath(n);r.error(w.recursion)}else r.debug("No default tabs found for",t,g);return S=0,t},navElement:function(t){return t=t||p,o.filter("[data-"+y.tab+'="'+t+'"]')},tabElement:function(t){var e,n,i,a;return t=t||p,i=r.utilities.pathToArray(t),a=r.utilities.last(i),e=g.filter("[data-"+y.tab+'="'+a+'"]'),n=g.filter("[data-"+y.tab+'="'+t+'"]'),e.length>0?e:n},tab:function(){return p}},utilities:{filterArray:function(e,n){return t.grep(e,function(e){return-1==t.inArray(e,n)})},last:function(e){return t.isArray(e)?e[e.length-1]:!1},pathToArray:function(t){return t===i&&(t=p),"string"==typeof t?t.split("/"):[t]},arrayToPath:function(e){return t.isArray(e)?e.join("/"):!1}},setting:function(e,n){if(r.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,s,e);else{if(n===i)return s[e];s[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,r,e);else{if(n===i)return r[e];r[e]=n}},debug:function(){s.debug&&(s.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,s.name+":"),r.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,s.name+":"),r.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;s.performance&&(e=(new Date).getTime(),i=l||e,n=e-i,l=e,u.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:M,"Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,100)},display:function(){var e=s.name+":",n=0;l=!1,clearTimeout(r.performance.timer),t.each(u,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",c&&(e+=" '"+c+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(e),console.table?console.table(u):t.each(u,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(e,n,o){var s,c,l,u=E;return n=n||h,o=M||o,"string"==typeof e&&u!==i&&(e=e.split(/[\. ]/),s=e.length-1,t.each(e,function(n,a){var o=n!=s?a+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(u[o])&&n!=s)u=u[o];else{if(u[o]!==i)return c=u[o],!1;if(!t.isPlainObject(u[a])||n==s)return u[a]!==i?(c=u[a],!1):(r.error(w.method,e),!1);u=u[a]}})),t.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),t.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},f?(E===i&&r.initialize(),r.invoke(d)):(E!==i&&E.invoke("destroy"),r.initialize())}),r&&!f&&r.initializeHistory(),a!==i?a:this},t.tab=function(){t(e).tab.apply(this,arguments)},t.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(t,e,n){},onTabLoad:function(t,e,n){},templates:{determineTitle:function(t){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.transition=function(){{var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),f="string"==typeof u;e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)}}return a.each(function(e){var h,g,p,m,v,b,y,x,w,_,k,T=t(this),A=this;k={initialize:function(){h=k.get.settings.apply(A,l),m=h.className,p=h.error,v=h.metadata,_="."+h.namespace,w="module-"+h.namespace,g=T.data(w)||k,y=k.get.animationEndEvent(),x=k.get.animationName(),b=k.get.animationStartEvent(),f&&(f=k.invoke(u)),f===!1&&(k.verbose("Converted arguments into settings object",h),h.interval?k.delay(h.animate):k.animate(),k.instantiate())},instantiate:function(){k.verbose("Storing instance of module",k),g=k,T.data(w,g)},destroy:function(){k.verbose("Destroying previous module for",A),T.removeData(w)},refresh:function(){k.verbose("Refreshing display type on next animation"),delete k.displayType},forceRepaint:function(){k.verbose("Forcing element repaint");var t=T.parent(),e=T.next();0===e.length?T.detach().appendTo(t):T.detach().insertBefore(e)},repaint:function(){k.verbose("Repainting element");A.offsetWidth},delay:function(t){var n,r=h.reverse===!0,o="auto"==h.reverse&&k.get.direction()==m.outward;t=typeof t!==i?t:h.interval,n=r||o?(a.length-e)*h.interval:e*h.interval,k.debug("Delaying animation by",n),setTimeout(k.animate,n)},animate:function(t){if(h=t||h,!k.is.supported())return k.error(p.support),!1;if(k.debug("Preparing animation",h.animation),k.is.animating()){if(h.queue)return!h.allowRepeats&&k.has.direction()&&k.is.occurring()&&k.queuing!==!0?k.debug("Animation is currently occurring, preventing queueing same animation",h.animation):k.queue(h.animation),!1;if(!h.allowRepeats&&k.is.occurring())return k.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;k.debug("New animation started, completing previous early",h.animation),k.complete()}k.can.animate()?k.set.animating(h.animation):k.error(p.noAnimation,h.animation,A)},reset:function(){k.debug("Resetting animation to beginning conditions"),k.remove.animationCallbacks(),k.restore.conditions(),k.remove.animating()},queue:function(t){k.debug("Queueing animation of",t),k.queuing=!0,T.one(y+".queue"+_,function(){k.queuing=!1,k.repaint(),k.animate.apply(this,h)})},complete:function(t){k.debug("Animation complete",h.animation),k.remove.completeCallback(),k.remove.failSafe(),k.is.looping()||(k.is.outward()?(k.verbose("Animation is outward, hiding element"),k.restore.conditions(),k.hide(),h.onHide.call(this)):k.is.inward()?(k.verbose("Animation is outward, showing element"),k.restore.conditions(),k.show(),h.onShow.call(this)):k.restore.conditions(),k.remove.animation(),k.remove.animating()),h.onComplete.call(this)},has:{direction:function(e){var n=!1;return e=e||h.animation,"string"==typeof e&&(e=e.split(" "),t.each(e,function(t,e){(e===m.inward||e===m.outward)&&(n=!0)})),n},inlineDisplay:function(){var e=T.attr("style")||"";return t.isArray(e.match(/display.*?;/,""))}},set:{animating:function(t){t=t||h.animation,k.is.animating()||k.save.conditions(),k.remove.direction(),k.remove.completeCallback(),k.can.transition()&&!k.has.direction()&&k.set.direction(),k.remove.hidden(),k.set.display(),T.addClass(m.animating+" "+m.transition+" "+t).addClass(t).one(y+".complete"+_,k.complete),h.useFailSafe&&k.add.failSafe(),k.set.duration(h.duration),h.onStart.call(this),k.debug("Starting tween",t,T.attr("class"))},duration:function(t,e){e=e||h.duration,e="number"==typeof e?e+"ms":e,(e||0===e)&&(k.verbose("Setting animation duration",e),T.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e}))},display:function(){var t=k.get.style(),e=k.get.displayType(),n=t+"display: "+e+" !important;";T.css("display",""),k.refresh(),T.css("display")!==e&&(k.verbose("Setting inline visibility to",e),T.attr("style",n))},direction:function(){T.is(":visible")&&!k.is.hidden()?(k.debug("Automatically determining the direction of animation","Outward"),T.removeClass(m.inward).addClass(m.outward)):(k.debug("Automatically determining the direction of animation","Inward"),T.removeClass(m.outward).addClass(m.inward))},looping:function(){k.debug("Transition set to loop"),T.addClass(m.looping)},hidden:function(){k.is.hidden()||T.addClass(m.transition).addClass(m.hidden),"none"!==T.css("display")&&(k.verbose("Overriding default display to hide element"),T.css("display","none"))},visible:function(){T.addClass(m.transition).addClass(m.visible)}},save:{displayType:function(t){T.data(v.displayType,t)},transitionExists:function(e,n){t.fn.transition.exists[e]=n,k.verbose("Saving existence of transition",e,n)},conditions:function(){T.attr("class")||!1,T.attr("style")||"";T.removeClass(h.animation),k.remove.direction(),k.cache={className:T.attr("class"),style:k.get.style()},k.verbose("Saving original attributes",k.cache)}},restore:{conditions:function(){return k.cache===i?!1:(k.cache.className?T.attr("class",k.cache.className):T.removeAttr("class"),k.cache.style?(k.verbose("Restoring original style attribute",k.cache.style),T.attr("style",k.cache.style)):(k.verbose("Clearing style attribute"),T.removeAttr("style")),void k.verbose("Restoring original attributes",k.cache))}},add:{failSafe:function(){var t=k.get.duration();k.timer=setTimeout(function(){T.trigger(y)},t+h.failSafeDelay),
k.verbose("Adding fail safe timer",k.timer)}},remove:{animating:function(){T.removeClass(m.animating)},animation:function(){T.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){k.remove.queueCallback(),k.remove.completeCallback()},queueCallback:function(){T.off(".queue"+_)},completeCallback:function(){T.off(".complete"+_)},display:function(){T.css("display","")},direction:function(){T.removeClass(m.inward).removeClass(m.outward)},failSafe:function(){k.verbose("Removing fail safe timer",k.timer),k.timer&&clearTimeout(k.timer)},hidden:function(){T.removeClass(m.hidden)},visible:function(){T.removeClass(m.visible)},looping:function(){k.debug("Transitions are no longer looping"),k.is.looping()&&(k.reset(),T.removeClass(m.looping))},transition:function(){T.removeClass(m.visible).removeClass(m.hidden)}},get:{settings:function(e,n,i){return"object"==typeof e?t.extend(!0,{},t.fn.transition.settings,e):"function"==typeof i?t.extend({},t.fn.transition.settings,{animation:e,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?t.extend({},t.fn.transition.settings,{animation:e,duration:n}):"object"==typeof n?t.extend({},t.fn.transition.settings,n,{animation:e}):"function"==typeof n?t.extend({},t.fn.transition.settings,{animation:e,onComplete:n}):t.extend({},t.fn.transition.settings,{animation:e})},direction:function(e){return e=e||h.animation,"string"==typeof e&&(e=e.split(" "),t.each(e,function(t,e){return e===m.inward?m.inward:e===m.outward?m.outward:void 0})),k.can.transition()?T.is(":visible")&&!k.is.hidden()?m.outward:m.inward:"static"},duration:function(t){return t=t||h.duration,t===!1&&(t=T.css("animation-duration")||0),"string"==typeof t?t.indexOf("ms")>-1?parseFloat(t):1e3*parseFloat(t):t},displayType:function(){return h.displayType?h.displayType:(T.data(v.displayType)===i&&k.can.transition(!0),T.data(v.displayType))},style:function(){var t=T.attr("style")||"";return t.replace(/display.*?;/,"")},transitionExists:function(e){return t.fn.transition.exists[e]},animationName:function(){var t,e=n.createElement("div"),r={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(t in r)if(e.style[t]!==i)return r[t];return!1},animationStartEvent:function(){var t,e=n.createElement("div"),r={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(t in r)if(e.style[t]!==i)return r[t];return!1},animationEndEvent:function(){var t,e=n.createElement("div"),r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(t in r)if(e.style[t]!==i)return r[t];return!1}},can:{transition:function(e){var n,r,a,o,s,c=T.attr("class"),l=T.prop("tagName"),u=h.animation,d=k.get.transitionExists(u);if(d===i||e){if(k.verbose("Determining whether animation exists"),n=t("<"+l+" />").addClass(c).insertAfter(T),r=n.addClass(u).removeClass(m.inward).removeClass(m.outward).addClass(m.animating).addClass(m.transition).css(x),a=n.addClass(m.inward).css(x),s=n.attr("class",c).removeAttr("style").removeClass(m.hidden).removeClass(m.visible).show().css("display"),k.verbose("Determining final display state",s),k.save.displayType(s),n.remove(),r!=a)k.debug("Direction exists for animation",u),o=!0;else{if("none"==r||!r)return void k.debug("No animation defined in css",u);k.debug("Static animation found",u,s),o=!1}k.save.transitionExists(u,o)}return d!==i?d:o},animate:function(){return k.can.transition()!==i}},is:{animating:function(){return T.hasClass(m.animating)},inward:function(){return T.hasClass(m.inward)},outward:function(){return T.hasClass(m.outward)},looping:function(){return T.hasClass(m.looping)},occurring:function(t){return t=t||h.animation,t="."+t.replace(" ","."),T.filter(t).length>0},visible:function(){return T.is(":visible")},hidden:function(){return"hidden"===T.css("visibility")},supported:function(){return x!==!1&&y!==!1}},hide:function(){k.verbose("Hiding element"),k.is.animating()&&k.reset(),k.remove.display(),k.remove.visible(),k.set.hidden(),k.repaint()},show:function(t){k.verbose("Showing element",t),k.remove.hidden(),k.set.visible(),k.set.display(),k.repaint()},toggle:function(){k.is.visible()?k.hide():k.show()},stop:function(){k.debug("Stopping current animation"),T.trigger(y)},stopAll:function(){k.debug("Stopping all animation"),k.remove.queueCallback(),T.trigger(y)},clear:{queue:function(){k.debug("Clearing animation queue"),k.remove.queueCallback()}},enable:function(){k.verbose("Starting animation"),T.removeClass(m.disabled)},disable:function(){k.debug("Stopping animation"),T.addClass(m.disabled)},setting:function(e,n){if(k.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,k,e);else{if(n===i)return k[e];k[e]=n}},debug:function(){h.debug&&(h.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,h.name+":"),k.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,h.name+":"),k.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;h.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:A,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,100)},display:function(){var e=h.name+":",n=0;s=!1,clearTimeout(k.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),a.length>1&&(e+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=g;return n=n||d,a=A||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):!1;l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s!==i?s:!1}},k.initialize()}),r!==i?r:this},t.fn.transition.exists={},t.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.video=function(n){{var r,a=t(this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)}}return a.each(function(){var f,h=t.isPlainObject(n)?t.extend(!0,{},t.fn.video.settings,n):t.extend({},t.fn.video.settings),g=h.selector,p=h.className,m=h.error,v=h.metadata,b=h.namespace,y=h.templates,x="."+b,w="module-"+b,_=(t(e),t(this)),k=_.find(g.placeholder),T=_.find(g.playButton),A=_.find(g.embed),C=this,S=_.data(w);f={initialize:function(){f.debug("Initializing video"),f.create(),k.on("click"+x,f.play),T.on("click"+x,f.play),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),S=f,_.data(w,f)},create:function(){var t=_.data(v.image),e=y.video(t);_.html(e),f.refresh(),t||f.play(),f.debug("Creating html for video element",e)},destroy:function(){f.verbose("Destroying previous instance of video"),f.reset(),_.removeData(w).off(x),k.off(x),T.off(x)},refresh:function(){f.verbose("Refreshing selector cache"),k=_.find(g.placeholder),T=_.find(g.playButton),A=_.find(g.embed)},change:function(t,e,n){f.debug("Changing video to ",t,e,n),_.data(v.source,t).data(v.id,e).data(v.url,n),h.onChange()},reset:function(){f.debug("Clearing video embed and showing placeholder"),_.removeClass(p.active),A.html(" "),k.show(),h.onReset()},play:function(){f.debug("Playing video");var t=_.data(v.source)||!1,e=_.data(v.url)||!1,n=_.data(v.id)||!1;A.html(f.generate.html(t,n,e)),_.addClass(p.active),h.onPlay()},get:{source:function(t){return"string"!=typeof t?!1:-1!==t.search("youtube.com")?"youtube":-1!==t.search("vimeo.com")?"vimeo":!1},id:function(t){return t.match(h.regExp.youtube)?t.match(h.regExp.youtube)[1]:t.match(h.regExp.vimeo)?t.match(h.regExp.vimeo)[2]:!1}},generate:{html:function(t,e,n){f.debug("Generating embed html");var i;return t=t||h.source,e=e||h.id,t&&e||n?(t&&e||(t=f.get.source(n),e=f.get.id(n)),"vimeo"==t?i='<iframe src="//player.vimeo.com/video/'+e+"?="+f.generate.url(t)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==t&&(i='<iframe src="//www.youtube.com/embed/'+e+"?="+f.generate.url(t)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):f.error(m.noVideo),i},url:function(t){var e=h.api?1:0,n="auto"===h.autoplay?_.data("image")!==i:h.autoplay,r=h.hd?1:0,a=h.showUI?1:0,o=h.showUI?0:1,s="";return"vimeo"==t&&(s="api="+e+"&amp;title="+a+"&amp;byline="+a+"&amp;portrait="+a+"&amp;autoplay="+n,h.color&&(s+="&amp;color="+h.color)),"ustream"==t?(s="autoplay="+n,h.color&&(s+="&amp;color="+h.color)):"youtube"==t&&(s="enablejsapi="+e+"&amp;autoplay="+n+"&amp;autohide="+o+"&amp;hq="+r+"&amp;modestbranding=1",h.color&&(s+="&amp;color="+h.color)),s}},setting:function(e,n){if(f.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,f,e);else{if(n===i)return f[e];f[e]=n}},debug:function(){h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;h.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:C,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var e=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),a.length>1&&(e+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=S;return n=n||d,a=C||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(f.error(m.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},u?(S===i&&f.initialize(),f.invoke(l)):(S!==i&&S.invoke("destroy"),f.initialize())}),r!==i?r:this},t.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},t.fn.video.settings.templates={video:function(t){var e="";return t&&(e+='<i class="video play icon"></i><img class="placeholder" src="'+t+'">'),e+='<div class="embed"></div>'}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.api=t.fn.api=function(n){var r,a=t(t.isFunction(this)?e:this),o=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var e,a,f,h,g,p=t.isPlainObject(n)?t.extend(!0,{},t.fn.api.settings,n):t.extend({},t.fn.api.settings),m=p.namespace,v=p.metadata,b=p.selector,y=p.error,x=p.className,w="."+m,_="module-"+m,k=t(this),T=k.closest(b.form),A=p.stateContext?t(p.stateContext):k,C=this,S=A.get(),M=k.data(_);g={initialize:function(){var t=g.get.event();u||(t?(g.debug("Attaching API events to element",t),k.on(t+w,g.event.trigger)):"now"==p.on&&(g.debug("Querying API now",t),g.query())),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),M=g,k.data(_,M)},destroy:function(){g.verbose("Destroying previous module for",C),k.removeData(_).off(w)},query:function(){if(g.is.disabled())return void g.debug("Element is disabled API request aborted");if(g.is.loading()&&0===p.throttle)return void g.debug("Cancelling request, previous request is still pending");if(p.defaultData&&t.extend(!0,p.urlData,g.get.defaultData()),(p.serializeForm!==!1||A.is("form"))&&("json"==p.serializeForm?t.extend(!0,p.data,g.get.formData()):p.data=g.get.formData()),a=g.get.settings(),a===!1)return g.cancelled=!0,void g.error(y.beforeSend);if(g.cancelled=!1,p.url?(g.debug("Using specified url",f),f=g.add.urlData(p.url)):(f=g.add.urlData(g.get.templateURL()),g.debug("Added URL Data to url",f)),!f){if(!g.is.form())return void g.error(y.missingURL,p.action);f=k.attr("action")||"",g.debug("No url or action specified, defaulting to form action",f)}g.set.loading(),e=t.extend(!0,{},p,{type:p.method||p.type,data:h,url:p.base+f,beforeSend:p.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),g.debug("Querying URL",e.url),g.debug("Sending data",h,e.method),g.verbose("Using AJAX settings",e),g.is.loading()?g.timer=setTimeout(function(){g.request=g.create.request(),g.xhr=g.create.xhr(),p.onRequest.call(S,g.request,g.xhr)},p.throttle):(g.request=g.create.request(),g.xhr=g.create.xhr(),p.onRequest.call(S,g.request,g.xhr))},is:{disabled:function(){return k.filter(p.filter).length>0},form:function(){return k.is("form")},input:function(){return k.is("input")},loading:function(){return g.request&&"pending"==g.request.state()}},was:{cancelled:function(){return g.cancelled||!1},succesful:function(){return g.request&&"resolved"==g.request.state()},failure:function(){return g.request&&"rejected"==g.request.state()},complete:function(){return g.request&&("resolved"==g.request.state()||"rejected"==g.request.state())}},add:{urlData:function(e,n){var r,a;return e&&(r=e.match(p.regExp.required),a=e.match(p.regExp.optional),n=n||p.urlData,r&&(g.debug("Looking for required URL variables",r),t.each(r,function(r,a){var o=-1!==a.indexOf("$")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=t.isPlainObject(n)&&n[o]!==i?n[o]:k.data(o)!==i?k.data(o):A.data(o)!==i?A.data(o):n[o];return s===i?(g.error(y.requiredParameter,o,e),e=!1,!1):(g.verbose("Found required variable",o,s),void(e=e.replace(a,s)))})),a&&(g.debug("Looking for optional URL variables",r),t.each(a,function(r,a){var o=-1!==a.indexOf("$")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=t.isPlainObject(n)&&n[o]!==i?n[o]:k.data(o)!==i?k.data(o):A.data(o)!==i?A.data(o):n[o];s!==i?(g.verbose("Optional variable Found",o,s),e=e.replace(a,s)):(g.verbose("Optional variable not found",o),e=-1!==e.indexOf("/"+a)?e.replace("/"+a,""):e.replace(a,""))}))),e}},event:{trigger:function(t){g.query(),("submit"==t.type||"click"==t.type)&&t.preventDefault()},xhr:{always:function(){},done:function(t){var e=this,n=(new Date).getTime()-s,i=p.loadingDuration-n;i=i>0?i:0,setTimeout(function(){g.request.resolveWith(e,[t])},i)},fail:function(t,e,n){var i=this,r=(new Date).getTime()-s,a=p.loadingDuration-r;a=a>0?a:0,setTimeout(function(){"abort"!==e?g.request.rejectWith(i,[t,e,n]):g.reset()},a)}},request:{complete:function(t){g.remove.loading(),p.onComplete.call(S,t,k)},done:function(e){g.debug("API Response Received",e),"json"==p.dataType&&t.isFunction(p.successTest)?(g.debug("Checking JSON returned success",p.successTest,e),p.successTest(e)?p.onSuccess.call(S,e,k):(g.debug("JSON test specified by user and response failed",e),p.onFailure.call(S,e,k))):p.onSuccess.call(S,e,k)},error:function(n,r,a){var o,s=p.error[r]!==i?p.error[r]:a;if(n!==i)if(n.readyState!==i&&4==n.readyState){if(200!=n.status&&a!==i&&""!==a)g.error(y.statusMessage+a,e.url);else if("error"==r&&"json"==p.dataType)try{o=t.parseJSON(n.responseText),o&&o.error!==i&&(s=o.error)}catch(c){g.error(y.JSONParse)}g.remove.loading(),g.set.error(),p.errorDuration&&setTimeout(g.remove.error,p.errorDuration),g.debug("API Request error:",s),p.onError.call(S,s,k)}else p.onAbort.call(S,s,k),g.debug("Request Aborted (Most likely caused by page change or CORS Policy)",r,a)}}},create:{request:function(){return t.Deferred().always(g.event.request.complete).done(g.event.request.done).fail(g.event.request.error)},xhr:function(){return t.ajax(e).always(g.event.xhr.always).done(g.event.xhr.done).fail(g.event.xhr.fail)}},set:{error:function(){g.verbose("Adding error state to element",A),A.addClass(x.error)},loading:function(){g.verbose("Adding loading state to element",A),A.addClass(x.loading)}},remove:{error:function(){g.verbose("Removing error state from element",A),A.removeClass(x.error)},loading:function(){g.verbose("Removing loading state from element",A),A.removeClass(x.loading)}},get:{request:function(){return g.request||!1},xhr:function(){return g.xhr||!1},settings:function(){var t;return t=p.beforeSend.call(k,p),t&&(t.success!==i&&(g.debug("Legacy success callback detected",t),g.error(y.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==i&&(g.debug("Legacy failure callback detected",t),g.error(y.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==i&&(g.debug("Legacy complete callback detected",t),g.error(y.legacyParameters,t.complete),t.onComplete=t.complete)),t===i&&g.error(y.noReturnedValue),t!==i?t:p},defaultData:function(){var e={};return t.isWindow(C)||(g.is.input()?e.value=k.val():g.is.form()&&(e.text=k.text())),e},event:function(){return t.isWindow(C)||"now"==p.on?(g.debug("API called without element, no events attached"),!1):"auto"==p.on?k.is("input")?C.oninput!==i?"input":C.onpropertychange!==i?"propertychange":"keyup":k.is("form")?"submit":"click":p.on},formData:function(){var t;return k.serializeObject!==i?t=T.serializeObject():(g.error(y.missingSerialize),t=T.serialize()),g.debug("Retrieved form data",t),t},templateURL:function(t){var e;return t=t||k.data(v.action)||p.action||!1,t&&(g.debug("Looking up url for action",t,p.api),p.api[t]!==i?(e=p.api[t],g.debug("Found template url",e)):g.is.form()||g.error(y.missingAction,p.action,p.api)),e}},abort:function(){var t=g.get.xhr();t&&"resolved"!==t.state()&&(g.debug("Cancelling API request"),t.abort(),g.request.rejectWith(p.apiSettings))},reset:function(){g.remove.error(),g.remove.loading()},setting:function(e,n){if(g.debug("Changing setting",e,n),t.isPlainObject(e))t.extend(!0,p,e);else{if(n===i)return p[e];p[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;p.performance&&(e=(new Date).getTime(),i=s||e,n=e-i,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var e=p.name+":",n=0;s=!1,clearTimeout(g.performance.timer),t.each(c,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,n,a){var o,s,c,l=M;return n=n||d,a=C||a,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(g.error(y.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),t.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),s}},u?(M===i&&g.initialize(),g.invoke(l)):(M!==i&&M.invoke("destroy"),g.initialize())}),r!==i?r:this},t.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:"get",data:{},dataType:"json",beforeSend:function(t){return t},beforeXHR:function(t){},onRequest:function(t,e){},onSuccess:function(t,e){},onComplete:function(t,e){},onFailure:function(t,e){},onError:function(t,e){},onAbort:function(t,e){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},t.api.settings.api={}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.state=function(e){var r,a=t(this),o=a.selector||"",s=("ontouchstart"in n.documentElement,(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var n,f=t.isPlainObject(e)?t.extend(!0,{},t.fn.state.settings,e):t.extend({},t.fn.state.settings),h=f.error,g=f.metadata,p=f.className,m=f.namespace,v=f.states,b=f.text,y="."+m,x=m+"-module",w=t(this),_=this,k=w.data(x);n={initialize:function(){n.verbose("Initializing module"),f.automatic&&n.add.defaults(),f.context&&""!==o?t(f.context).on(o,"mouseenter"+y,n.change.text).on(o,"mouseleave"+y,n.reset.text).on(o,"click"+y,n.toggle.state):w.on("mouseenter"+y,n.change.text).on("mouseleave"+y,n.reset.text).on("click"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),k=n,w.data(x,n)},destroy:function(){n.verbose("Destroying previous module",k),w.off(y).removeData(x)},refresh:function(){n.verbose("Refreshing selector cache"),w=t(_)},add:{defaults:function(){var r=e&&t.isPlainObject(e.states)?e.states:{};t.each(f.defaults,function(e,a){n.is[e]!==i&&n.is[e]()&&(n.verbose("Adding default states",e,_),t.extend(f.states,a,r))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},state:function(t){return p[t]===i?!1:w.hasClass(p[t])},enabled:function(){return!w.is(f.filter.active)},disabled:function(){return w.is(f.filter.active)},textEnabled:function(){return!w.is(f.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(t){n.debug("Now allowing state",t),v[t]=!0},disallow:function(t){n.debug("No longer allowing",t),v[t]=!1},allows:function(t){return v[t]||!1},enable:function(){w.removeClass(p.disabled)},disable:function(){w.addClass(p.disabled)},setState:function(t){n.allows(t)&&w.addClass(p[t])},removeState:function(t){n.allows(t)&&w.removeClass(p[t])},toggle:{state:function(){var e,r;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),t.fn.api!==i)if(e=w.api("get request"),r=w.api("was cancelled"))n.debug("API Request cancelled by beforesend"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(e)return void n.listenTo(e);n.change.state()}}},listenTo:function(e){n.debug("API request detected, waiting for state signal",e),e&&(b.loading&&n.update.text(b.loading),t.when(e).then(function(){"resolved"==e.state()?(n.debug("API request succeeded"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(n.debug("API request failed"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),f.sync&&n.sync(),f.onChange.call(_)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){f.activateTest.call(_)&&(n.debug("Setting state to active"),w.addClass(p.active),n.update.text(b.active),f.onActivate.call(_))},deactivate:function(){f.deactivateTest.call(_)&&(n.debug("Setting state to inactive"),w.removeClass(p.active),n.update.text(b.inactive),f.onDeactivate.call(_))},sync:function(){n.verbose("Syncing other buttons to current state"),a.not(w).state(n.is.active()?"activate":"deactivate")},get:{text:function(){return f.selector.text?w.find(f.selector.text).text():w.html()},textFor:function(t){return b[t]||!1}},flash:{text:function(t,e,i){var r=n.get.text();n.debug("Flashing text message",t,e),t=t||f.text.flash,e=e||f.flashDuration,i=i||function(){},n.update.text(t),setTimeout(function(){n.update.text(r),i.call(_)},e)}},reset:{text:function(){var t=b.active||w.data(g.storedText),e=b.inactive||w.data(g.storedText);n.is.textEnabled()&&(n.is.active()&&t?(n.verbose("Resetting active text",t),n.update.text(t)):e&&(n.verbose("Resetting inactive text",t),n.update.text(e)))}},update:{text:function(t){var e=n.get.text();t&&t!==e?(n.debug("Updating text",t),f.selector.text?w.data(g.storedText,t).find(f.selector.text).text(t):w.data(g.storedText,t).html(t)):n.debug("Text is already set, ignoring update",t)}},setting:function(e,r){if(n.debug("Changing setting",e,r),t.isPlainObject(e))t.extend(!0,f,e);else{if(r===i)return f[e];f[e]=r}},internal:function(e,r){if(t.isPlainObject(e))t.extend(!0,n,e);else{if(r===i)return n[e];n[e]=r}},debug:function(){f.debug&&(f.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,f.name+":"),n.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,f.name+":"),n.error.apply(console,arguments)},performance:{log:function(t){var e,i,r;f.performance&&(e=(new Date).getTime(),r=s||e,i=e-r,s=e,c.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:_,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var e=f.name+":",r=0;s=!1,clearTimeout(n.performance.timer),t.each(c,function(t,e){r+=e["Execution Time"]}),e+=" "+r+"ms",o&&(e+=" '"+o+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(e),console.table?console.table(c):t.each(c,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(e,a,o){var s,c,l,u=k;return a=a||d,o=_||o,"string"==typeof e&&u!==i&&(e=e.split(/[\. ]/),s=e.length-1,t.each(e,function(r,a){var o=r!=s?a+e[r+1].charAt(0).toUpperCase()+e[r+1].slice(1):e;if(t.isPlainObject(u[o])&&r!=s)u=u[o];else{if(u[o]!==i)return c=u[o],!1;if(!t.isPlainObject(u[a])||r==s)return u[a]!==i?(c=u[a],!1):(n.error(h.method,e),!1);u=u[a]}})),t.isFunction(c)?l=c.apply(o,a):c!==i&&(l=c),t.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),c}},u?(k===i&&n.initialize(),n.invoke(l)):(k!==i&&k.invoke("destroy"),n.initialize())}),r!==i?r:this},t.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(t,e,n,i){"use strict";t.fn.visibility=function(r){var a,o=t(this),s=o.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return o.each(function(){var o,h,g=t.isPlainObject(r)?t.extend(!0,{},t.fn.visibility.settings,r):t.extend({},t.fn.visibility.settings),p=g.className,m=g.namespace,v=g.error,b="."+m,y="module-"+m,x=t(e),w=t(this),_=t(g.context),k=(w.selector||"",w.data(y)),T=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){
setTimeout(t,0)},A=this;h={initialize:function(){h.debug("Initializing",g),h.setup.cache(),h.save.position(),h.should.trackChanges()&&(h.bind.events(),"image"==g.type&&h.setup.image(),"fixed"==g.type&&h.setup.fixed(),g.observeChanges&&h.observeChanges(),h.is.visible()||h.error(v.visible,w)),g.initialCheck&&h.checkVisibility(),h.instantiate()},instantiate:function(){h.debug("Storing instance",h),w.data(y,h),k=h},destroy:function(){h.verbose("Destroying previous module"),o&&o.disconnect(),x.off("load"+b,h.event.load).off("resize"+b,h.event.resize),_.off("scrollchange"+b,h.event.scrollchange),w.off(b).removeData(y)},observeChanges:function(){_[0];"MutationObserver"in e&&(o=new MutationObserver(function(t){h.verbose("DOM tree modified, updating visibility calculations"),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)}),o.observe(A,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",o))},bind:{events:function(){h.verbose("Binding visibility events to scroll and resize"),x.on("load"+b,h.event.load).on("resize"+b,h.event.resize),_.off("scroll"+b).on("scroll"+b,h.event.scroll).on("scrollchange"+b,h.event.scrollchange)},imageLoad:function(){var e=w.find("img"),i=e.length,r=i,a=0,o=[],s=[],c=n.createElement("img"),l=function(){a++,a>=i&&(h.debug("Images finished loading inside element, refreshing position"),h.refresh())};if(i>0)for(e.each(function(){o.push(t(this).attr("src"))});r--;)c=n.createElement("img"),c.onload=l,c.onerror=l,c.src=o[r],s.push(c)}},event:{resize:function(){h.debug("Window resized"),T(h.refresh)},load:function(){h.debug("Page finished loading"),T(h.refresh)},scroll:function(){g.throttle?(clearTimeout(h.timer),h.timer=setTimeout(function(){_.trigger("scrollchange"+b,[_.scrollTop()])},g.throttle)):T(function(){_.trigger("scrollchange"+b,[_.scrollTop()])})},scrollchange:function(t,e){h.checkVisibility(e)}},precache:function(e,i){e instanceof Array||(e=[e]);for(var r=e.length,a=0,o=[],s=n.createElement("img"),c=function(){a++,a>=e.length&&t.isFunction(i)&&i()};r--;)s=n.createElement("img"),s.onload=c,s.onerror=c,s.src=e[r],o.push(s)},should:{trackChanges:function(){return d?(h.debug("One time query, no need to bind events"),!1):(h.debug("Callbacks being attached"),!0)}},setup:{cache:function(){h.cache={occurred:{},screen:{},element:{}}},image:function(){var t=w.data("src");t&&(h.verbose("Lazy loading image",t),g.observeChanges=!1,h.topVisible(function(){h.debug("Image top visible",A),h.precache(t,function(){h.set.image(t),g.onTopVisible=!1})}))},fixed:function(){h.verbose("Setting up fixed on element pass"),g.once=!1,g.onTopPassed=function(){w.addClass(p.fixed).css({top:g.offset+"px"}),g.transition&&t.fn.transition!==i&&w.transition(g.transition,g.duration)},g.onTopPassedReverse=function(){w.removeClass(p.fixed).css({position:"",top:""})}}},set:{image:function(e){var n=h.cache.screen.bottom<h.cache.element.top;w.attr("src",e),n?(h.verbose("Image outside browser, no show animation"),w.show()):g.transition?t.fn.transition!==i?w.transition(g.transition,g.duration):w.fadeIn(g.duration):w.show()}},is:{visible:function(){return h.cache&&h.cache.element?h.cache.element.width>0:!1}},refresh:function(){h.debug("Refreshing constants (width/height)"),h.reset(),h.save.position(),h.checkVisibility(),g.onRefresh.call(A)},reset:function(){h.verbose("Reseting all cached values"),t.isPlainObject(h.cache)&&(h.cache.screen={},h.cache.element={})},checkVisibility:function(t){h.verbose("Checking visibility of element",h.cache.element),h.is.visible()&&(h.save.scroll(t),h.save.calculations(),h.passed(),h.passingReverse(),h.topVisibleReverse(),h.bottomVisibleReverse(),h.topPassedReverse(),h.bottomPassedReverse(),h.passing(),h.topVisible(),h.bottomVisible(),h.topPassed(),h.bottomPassed(),g.onUpdate&&g.onUpdate.call(A,h.get.elementCalculations()))},passed:function(e,n){var r=h.get.elementCalculations();if(e!==i&&n!==i)g.onPassed[e]=n;else{if(e!==i)return h.get.pixelsPassed(e)>r.pixelsPassed;r.passing&&t.each(g.onPassed,function(t,e){r.bottomVisible||r.pixelsPassed>h.get.pixelsPassed(t)?h.execute(e,t):g.once||h.remove.occurred(e)})}},passing:function(t){var e=h.get.elementCalculations(),n=t||g.onPassing,r="passing";return t&&(h.debug("Adding callback for passing",t),g.onPassing=t),e.passing?h.execute(n,r):g.once||h.remove.occurred(r),t!==i?e.passing:void 0},topVisible:function(t){var e=h.get.elementCalculations(),n=t||g.onTopVisible,r="topVisible";return t&&(h.debug("Adding callback for top visible",t),g.onTopVisible=t),e.topVisible?h.execute(n,r):g.once||h.remove.occurred(r),t===i?e.topVisible:void 0},bottomVisible:function(t){var e=h.get.elementCalculations(),n=t||g.onBottomVisible,r="bottomVisible";return t&&(h.debug("Adding callback for bottom visible",t),g.onBottomVisible=t),e.bottomVisible?h.execute(n,r):g.once||h.remove.occurred(r),t===i?e.bottomVisible:void 0},topPassed:function(t){var e=h.get.elementCalculations(),n=t||g.onTopPassed,r="topPassed";return t&&(h.debug("Adding callback for top passed",t),g.onTopPassed=t),e.topPassed?h.execute(n,r):g.once||h.remove.occurred(r),t===i?e.topPassed:void 0},bottomPassed:function(t){var e=h.get.elementCalculations(),n=t||g.onBottomPassed,r="bottomPassed";return t&&(h.debug("Adding callback for bottom passed",t),g.onBottomPassed=t),e.bottomPassed?h.execute(n,r):g.once||h.remove.occurred(r),t===i?e.bottomPassed:void 0},passingReverse:function(t){var e=h.get.elementCalculations(),n=t||g.onPassingReverse,r="passingReverse";return t&&(h.debug("Adding callback for passing reverse",t),g.onPassingReverse=t),e.passing?g.once||h.remove.occurred(r):h.get.occurred("passing")&&h.execute(n,r),t!==i?!e.passing:void 0},topVisibleReverse:function(t){var e=h.get.elementCalculations(),n=t||g.onTopVisibleReverse,r="topVisibleReverse";return t&&(h.debug("Adding callback for top visible reverse",t),g.onTopVisibleReverse=t),e.topVisible?g.once||h.remove.occurred(r):h.get.occurred("topVisible")&&h.execute(n,r),t===i?!e.topVisible:void 0},bottomVisibleReverse:function(t){var e=h.get.elementCalculations(),n=t||g.onBottomVisibleReverse,r="bottomVisibleReverse";return t&&(h.debug("Adding callback for bottom visible reverse",t),g.onBottomVisibleReverse=t),e.bottomVisible?g.once||h.remove.occurred(r):h.get.occurred("bottomVisible")&&h.execute(n,r),t===i?!e.bottomVisible:void 0},topPassedReverse:function(t){var e=h.get.elementCalculations(),n=t||g.onTopPassedReverse,r="topPassedReverse";return t&&(h.debug("Adding callback for top passed reverse",t),g.onTopPassedReverse=t),e.topPassed?g.once||h.remove.occurred(r):h.get.occurred("topPassed")&&h.execute(n,r),t===i?!e.onTopPassed:void 0},bottomPassedReverse:function(t){var e=h.get.elementCalculations(),n=t||g.onBottomPassedReverse,r="bottomPassedReverse";return t&&(h.debug("Adding callback for bottom passed reverse",t),g.onBottomPassedReverse=t),e.bottomPassed?g.once||h.remove.occurred(r):h.get.occurred("bottomPassed")&&h.execute(n,r),t===i?!e.bottomPassed:void 0},execute:function(t,e){var n=h.get.elementCalculations(),i=h.get.screenCalculations();t=t||!1,t&&(g.continuous?(h.debug("Callback being called continuously",e,n),t.call(A,n,i)):h.get.occurred(e)||(h.debug("Conditions met",e,n),t.call(A,n,i))),h.save.occurred(e)},remove:{occurred:function(t){t?h.cache.occurred[t]!==i&&h.cache.occurred[t]===!0&&(h.debug("Callback can now be called again",t),h.cache.occurred[t]=!1):h.cache.occurred={}}},save:{calculations:function(){h.verbose("Saving all calculations necessary to determine positioning"),h.save.direction(),h.save.screenCalculations(),h.save.elementCalculations()},occurred:function(t){t&&(h.cache.occurred[t]===i||h.cache.occurred[t]!==!0)&&(h.verbose("Saving callback occurred",t),h.cache.occurred[t]=!0)},scroll:function(t){t=t+g.offset||_.scrollTop()+g.offset,h.cache.scroll=t},direction:function(){var t,e=h.get.scroll(),n=h.get.lastScroll();return t=e>n&&n?"down":n>e&&n?"up":"static",h.cache.direction=t,h.cache.direction},elementPosition:function(){var t=h.cache.element,e=h.get.screenSize();return h.verbose("Saving element position"),t.fits=t.height<e.height,t.offset=w.offset(),t.width=w.outerWidth(),t.height=w.outerHeight(),h.cache.element=t,t},elementCalculations:function(){var t=h.get.screenCalculations(),e=h.get.elementPosition();return g.includeMargin?(e.margin={},e.margin.top=parseInt(w.css("margin-top"),10),e.margin.bottom=parseInt(w.css("margin-bottom"),10),e.top=e.offset.top-e.margin.top,e.bottom=e.offset.top+e.height+e.margin.bottom):(e.top=e.offset.top,e.bottom=e.offset.top+e.height),e.topVisible=t.bottom>=e.top,e.topPassed=t.top>=e.top,e.bottomVisible=t.bottom>=e.bottom,e.bottomPassed=t.top>=e.bottom,e.pixelsPassed=0,e.percentagePassed=0,e.visible=e.topVisible||e.bottomVisible,e.passing=e.topPassed&&!e.bottomPassed,e.hidden=!e.topVisible&&!e.bottomVisible,e.passing&&(e.pixelsPassed=t.top-e.top,e.percentagePassed=(t.top-e.top)/e.height),h.cache.element=e,h.verbose("Updated element calculations",e),e},screenCalculations:function(){var t=h.get.scroll();return h.save.direction(),h.cache.screen.top=t,h.cache.screen.bottom=t+h.cache.screen.height,h.cache.screen},screenSize:function(){h.verbose("Saving window position"),h.cache.screen={height:_.height()}},position:function(){h.save.screenSize(),h.save.elementPosition()}},get:{pixelsPassed:function(t){var e=h.get.elementCalculations();return t.search("%")>-1?e.height*(parseInt(t,10)/100):parseInt(t,10)},occurred:function(t){return h.cache.occurred!==i?h.cache.occurred[t]||!1:!1},direction:function(){return h.cache.direction===i&&h.save.direction(),h.cache.direction},elementPosition:function(){return h.cache.element===i&&h.save.elementPosition(),h.cache.element},elementCalculations:function(){return h.cache.element===i&&h.save.elementCalculations(),h.cache.element},screenCalculations:function(){return h.cache.screen===i&&h.save.screenCalculations(),h.cache.screen},screenSize:function(){return h.cache.screen===i&&h.save.screenSize(),h.cache.screen},scroll:function(){return h.cache.scroll===i&&h.save.scroll(),h.cache.scroll},lastScroll:function(){return h.cache.screen===i?(h.debug("First scroll event, no last scroll could be found"),!1):h.cache.screen.top}},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(n===i)return g[e];g[e]=n}},internal:function(e,n){if(t.isPlainObject(e))t.extend(!0,h,e);else{if(n===i)return h[e];h[e]=n}},debug:function(){g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments)},performance:{log:function(t){var e,n,i;g.performance&&(e=(new Date).getTime(),i=c||e,n=e-i,c=e,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:A,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var e=g.name+":",n=0;c=!1,clearTimeout(h.performance.timer),t.each(l,function(t,e){n+=e["Execution Time"]}),e+=" "+n+"ms",s&&(e+=" '"+s+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(e),console.table?console.table(l):t.each(l,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(e,n,r){var o,s,c,l=k;return n=n||f,r=A||r,"string"==typeof e&&l!==i&&(e=e.split(/[\. ]/),o=e.length-1,t.each(e,function(n,r){var a=n!=o?r+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(l[a])&&n!=o)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!t.isPlainObject(l[r])||n==o)return l[r]!==i?(s=l[r],!1):(h.error(v.method,e),!1);l=l[r]}})),t.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),t.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(k===i&&h.initialize(),h.invoke(u)):(k!==i&&k.invoke("destroy"),h.initialize())}),a!==i?a:this},t.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:e,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:"fixed"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);